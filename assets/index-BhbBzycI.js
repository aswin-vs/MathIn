(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Em(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function tS(){if(Ev)return yl;Ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var Tv;function eS(){return Tv||(Tv=1,wd.exports=tS()),wd.exports}var b=eS(),xd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function nS(){if(Sv)return Rt;Sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function F(N,tt,ht){this.props=N,this.context=tt,this.refs=Q,this.updater=ht||V}F.prototype.isReactComponent={},F.prototype.setState=function(N,tt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,tt,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function X(N,tt,ht){this.props=N,this.context=tt,this.refs=Q,this.updater=ht||V}var rt=X.prototype=new Y;rt.constructor=X,L(rt,F.prototype),rt.isPureReactComponent=!0;var mt=Array.isArray,st={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function O(N,tt,ht,lt,ut,It){return ht=It.ref,{$$typeof:r,type:N,key:tt,ref:ht!==void 0?ht:null,props:It}}function R(N,tt){return O(N.type,tt,void 0,void 0,void 0,N.props)}function A(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var tt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ht){return tt[ht]})}var M=/\/+/g;function z(N,tt){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):tt.toString(36)}function C(){}function Xt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(tt){N.status==="pending"&&(N.status="fulfilled",N.value=tt)},function(tt){N.status==="pending"&&(N.status="rejected",N.reason=tt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Et(N,tt,ht,lt,ut){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var xt=!1;if(N===null)xt=!0;else switch(It){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(N.$$typeof){case r:case t:xt=!0;break;case E:return xt=N._init,Et(xt(N._payload),tt,ht,lt,ut)}}if(xt)return ut=ut(N),xt=lt===""?"."+z(N,0):lt,mt(ut)?(ht="",xt!=null&&(ht=xt.replace(M,"$&/")+"/"),Et(ut,tt,ht,"",function(ae){return ae})):ut!=null&&(A(ut)&&(ut=R(ut,ht+(ut.key==null||N&&N.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+xt)),tt.push(ut)),1;xt=0;var me=lt===""?".":lt+":";if(mt(N))for(var Bt=0;Bt<N.length;Bt++)lt=N[Bt],It=me+z(lt,Bt),xt+=Et(lt,tt,ht,It,ut);else if(Bt=x(N),typeof Bt=="function")for(N=Bt.call(N),Bt=0;!(lt=N.next()).done;)lt=lt.value,It=me+z(lt,Bt++),xt+=Et(lt,tt,ht,It,ut);else if(It==="object"){if(typeof N.then=="function")return Et(Xt(N),tt,ht,lt,ut);throw tt=String(N),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function J(N,tt,ht){if(N==null)return N;var lt=[],ut=0;return Et(N,lt,"","",function(It){return tt.call(ht,It,ut++)}),lt}function at(N){if(N._status===-1){var tt=N._result;tt=tt(),tt.then(function(ht){(N._status===0||N._status===-1)&&(N._status=1,N._result=ht)},function(ht){(N._status===0||N._status===-1)&&(N._status=2,N._result=ht)}),N._status===-1&&(N._status=0,N._result=tt)}if(N._status===1)return N._result.default;throw N._result}var ot=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ct(){}return Rt.Children={map:J,forEach:function(N,tt,ht){J(N,function(){tt.apply(this,arguments)},ht)},count:function(N){var tt=0;return J(N,function(){tt++}),tt},toArray:function(N){return J(N,function(tt){return tt})||[]},only:function(N){if(!A(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=F,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=X,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,tt,ht){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var lt=L({},N.props),ut=N.key,It=void 0;if(tt!=null)for(xt in tt.ref!==void 0&&(It=void 0),tt.key!==void 0&&(ut=""+tt.key),tt)!dt.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(lt[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)lt.children=ht;else if(1<xt){for(var me=Array(xt),Bt=0;Bt<xt;Bt++)me[Bt]=arguments[Bt+2];lt.children=me}return O(N.type,ut,void 0,void 0,It,lt)},Rt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Rt.createElement=function(N,tt,ht){var lt,ut={},It=null;if(tt!=null)for(lt in tt.key!==void 0&&(It=""+tt.key),tt)dt.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ut[lt]=tt[lt]);var xt=arguments.length-2;if(xt===1)ut.children=ht;else if(1<xt){for(var me=Array(xt),Bt=0;Bt<xt;Bt++)me[Bt]=arguments[Bt+2];ut.children=me}if(N&&N.defaultProps)for(lt in xt=N.defaultProps,xt)ut[lt]===void 0&&(ut[lt]=xt[lt]);return O(N,It,void 0,void 0,null,ut)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:m,render:N}},Rt.isValidElement=A,Rt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:at}},Rt.memo=function(N,tt){return{$$typeof:y,type:N,compare:tt===void 0?null:tt}},Rt.startTransition=function(N){var tt=st.T,ht={};st.T=ht;try{var lt=N(),ut=st.S;ut!==null&&ut(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,ot)}catch(It){ot(It)}finally{st.T=tt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(N){return st.H.use(N)},Rt.useActionState=function(N,tt,ht){return st.H.useActionState(N,tt,ht)},Rt.useCallback=function(N,tt){return st.H.useCallback(N,tt)},Rt.useContext=function(N){return st.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,tt){return st.H.useDeferredValue(N,tt)},Rt.useEffect=function(N,tt){return st.H.useEffect(N,tt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(N,tt,ht){return st.H.useImperativeHandle(N,tt,ht)},Rt.useInsertionEffect=function(N,tt){return st.H.useInsertionEffect(N,tt)},Rt.useLayoutEffect=function(N,tt){return st.H.useLayoutEffect(N,tt)},Rt.useMemo=function(N,tt){return st.H.useMemo(N,tt)},Rt.useOptimistic=function(N,tt){return st.H.useOptimistic(N,tt)},Rt.useReducer=function(N,tt,ht){return st.H.useReducer(N,tt,ht)},Rt.useRef=function(N){return st.H.useRef(N)},Rt.useState=function(N){return st.H.useState(N)},Rt.useSyncExternalStore=function(N,tt,ht){return st.H.useSyncExternalStore(N,tt,ht)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.0.0",Rt}var bv;function Tm(){return bv||(bv=1,xd.exports=nS()),xd.exports}var U=Tm();const iS=Em(U);var Rd={exports:{}},vl={},Id={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function rS(){return Av||(Av=1,function(r){function t(J,at){var ot=J.length;J.push(at);t:for(;0<ot;){var Ct=ot-1>>>1,N=J[Ct];if(0<o(N,at))J[Ct]=at,J[ot]=N,ot=Ct;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var at=J[0],ot=J.pop();if(ot!==at){J[0]=ot;t:for(var Ct=0,N=J.length,tt=N>>>1;Ct<tt;){var ht=2*(Ct+1)-1,lt=J[ht],ut=ht+1,It=J[ut];if(0>o(lt,ot))ut<N&&0>o(It,lt)?(J[Ct]=It,J[ut]=ot,Ct=ut):(J[Ct]=lt,J[ht]=ot,Ct=ht);else if(ut<N&&0>o(It,ot))J[Ct]=It,J[ut]=ot,Ct=ut;else break t}}return at}function o(J,at){var ot=J.sortIndex-at.sortIndex;return ot!==0?ot:J.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,x=3,V=!1,L=!1,Q=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(J){for(var at=n(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=J)s(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(y)}}function mt(J){if(Q=!1,rt(J),!L)if(n(p)!==null)L=!0,Xt();else{var at=n(y);at!==null&&Et(mt,at.startTime-J)}}var st=!1,dt=-1,O=5,R=-1;function A(){return!(r.unstable_now()-R<O)}function D(){if(st){var J=r.unstable_now();R=J;var at=!0;try{t:{L=!1,Q&&(Q=!1,Y(dt),dt=-1),V=!0;var ot=x;try{e:{for(rt(J),w=n(p);w!==null&&!(w.expirationTime>J&&A());){var Ct=w.callback;if(typeof Ct=="function"){w.callback=null,x=w.priorityLevel;var N=Ct(w.expirationTime<=J);if(J=r.unstable_now(),typeof N=="function"){w.callback=N,rt(J),at=!0;break e}w===n(p)&&s(p),rt(J)}else s(p);w=n(p)}if(w!==null)at=!0;else{var tt=n(y);tt!==null&&Et(mt,tt.startTime-J),at=!1}}break t}finally{w=null,x=ot,V=!1}at=void 0}}finally{at?M():st=!1}}}var M;if(typeof X=="function")M=function(){X(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=D,M=function(){C.postMessage(null)}}else M=function(){F(D,0)};function Xt(){st||(st=!0,M())}function Et(J,at){dt=F(function(){J(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){L||V||(L=!0,Xt())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(J){switch(x){case 1:case 2:case 3:var at=3;break;default:at=x}var ot=x;x=at;try{return J()}finally{x=ot}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,at){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ot=x;x=J;try{return at()}finally{x=ot}},r.unstable_scheduleCallback=function(J,at,ot){var Ct=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ct+ot:Ct):ot=Ct,J){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ot+N,J={id:E++,callback:at,priorityLevel:J,startTime:ot,expirationTime:N,sortIndex:-1},ot>Ct?(J.sortIndex=ot,t(y,J),n(p)===null&&J===n(y)&&(Q?(Y(dt),dt=-1):Q=!0,Et(mt,ot-Ct))):(J.sortIndex=N,t(p,J),L||V||(L=!0,Xt())),J},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(J){var at=x;return function(){var ot=x;x=at;try{return J.apply(this,arguments)}finally{x=ot}}}}(Cd)),Cd}var wv;function sS(){return wv||(wv=1,Id.exports=rS()),Id.exports}var Dd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function aS(){if(xv)return Qe;xv=1;var r=Tm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Qe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.0.0",Qe}var Rv;function oS(){if(Rv)return Dd.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=aS(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function lS(){if(Iv)return vl;Iv=1;var r=sS(),t=Tm(),n=oS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),rt=Symbol.for("react.offscreen"),mt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function dt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Q:return"Suspense";case F:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case L:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case X:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function C(e){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+z}var Xt=!1;function Et(e,i){if(!e||Xt)return"";Xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch($){var H=$}Reflect.construct(e,[],et)}else{try{et.call()}catch($){H=$}e.call(et.prototype)}}else{try{throw Error()}catch($){H=$}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var K=`
`+I[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Xt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=Et(e.type,!1),e;case 11:return e=Et(e.type.render,!1),e;case 1:return e=Et(e.type,!0),e;default:return""}}function at(e){try{var i="";do i+=J(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ct(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function N(e){if(ot(e)!==e)throw Error(s(188))}function tt(e){var i=e.alternate;if(!i){if(i=ot(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),e;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var lt=Array.isArray,ut=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},xt=[],me=-1;function Bt(e){return{current:e}}function ae(e){0>me||(e.current=xt[me],xt[me]=null,me--)}function $t(e,i){me++,xt[me]=e.current,e.current=i}var We=Bt(null),mi=Bt(null),_n=Bt(null),tr=Bt(null);function er(e,i){switch($t(_n,i),$t(mi,e),$t(We,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Yy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Yy(e),i=Xy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(We),$t(We,i)}function pi(){ae(We),ae(mi),ae(_n)}function ho(e){e.memoizedState!==null&&$t(tr,e);var i=We.current,a=Xy(i,e.type);i!==a&&($t(mi,e),$t(We,a))}function $s(e){mi.current===e&&(ae(We),ae(mi)),tr.current===e&&(ae(tr),fl._currentValue=It)}var Ks=Object.prototype.hasOwnProperty,ss=r.unstable_scheduleCallback,Ys=r.unstable_cancelCallback,xh=r.unstable_shouldYield,fo=r.unstable_requestPaint,rn=r.unstable_now,Wl=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Zl=r.unstable_LowPriority,mo=r.unstable_IdlePriority,Rh=r.log,as=r.unstable_setDisableYieldValue,nr=null,Fe=null;function po(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(nr,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof Rh=="function"&&as(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(nr,e)}catch{}}var Ze=Math.clz32?Math.clz32:tu,go=Math.log,Jl=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(go(e)/Jl|0)|0}var Gn=128,ir=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Pn(a):(d&=T,d!==0?l=Pn(d):e||(_=T&~_,_!==0&&(l=Pn(_))))):(T=a&~h,T!==0?l=Pn(T):d!==0?l=Pn(d):e||(_=a&~_,_!==0&&(l=Pn(_)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function rr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Xs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=Gn;return Gn<<=1,!(Gn&4194176)&&(Gn=128),e}function sr(){var e=ir;return ir<<=1,!(ir&62914560)&&(ir=4194304),e}function Ws(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function he(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eu(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Ze(a),et=1<<K;T[K]=0,I[K]=-1;var H=P[K];if(H!==null)for(P[K]=null,K=0;K<H.length;K++){var $=H[K];$!==null&&($.lane&=-536870913)}a&=~et}l!==0&&ar(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ar(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ze(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function or(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ze(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function nu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function iu(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:mv(e.type))}function lr(e,i){var a=ut.p;try{return ut.p=e,i()}finally{ut.p=a}}var Qn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Qn,Ee="__reactProps$"+Qn,yi="__reactContainer$"+Qn,os="__reactEvents$"+Qn,Zs="__reactListeners$"+Qn,$n="__reactHandles$"+Qn,vo="__reactResources$"+Qn,ur="__reactMarker$"+Qn;function ls(e){delete e[Ce],delete e[Ee],delete e[os],delete e[Zs],delete e[$n]}function Ln(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yi]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Jy(e);e!==null;){if(a=e[Ce])return a;e=Jy(e)}return i}e=a,a=e.parentNode}return null}function vi(e){if(e=e[Ce]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function cr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hr(e){var i=e[vo];return i||(i=e[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(e){e[ur]=!0}var _o=new Set,Js={};function hn(e,i){sn(e,i),sn(e+"Capture",i)}function sn(e,i){for(Js[e]=i,e=0;e<i.length;e++)_o.add(i[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function ru(e){return Ks.call(To,e)?!0:Ks.call(Eo,e)?!1:Ih.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function fr(e,i,a){if(ru(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ch(e){var i=su(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function us(e){e._valueTracker||(e._valueTracker=Ch(e))}function So(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=su(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function oe(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mr(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ea(e,_,Je(i)):a!=null?ea(e,_,Je(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function cs(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function ea(e,i,a){i==="number"&&ta(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function hs(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function pr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Dh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function au(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&bo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&bo(e,d,i[d])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(e){return Oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bn=null;function na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function Si(e){var i=vi(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(mr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ee]||null;if(!h)throw Error(s(90));mr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&So(l)}break t;case"textarea":hs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qt(e,!!a.multiple,i,!1)}}}var wo=!1;function ou(e,i,a){if(wo)return e(i,a);wo=!0;try{var l=e(i);return l}finally{if(wo=!1,(Ei!==null||Ti!==null)&&(Zu(),Ei&&(i=Ei,e=Ti,Ti=Ei=null,Si(i),e)))for(i=0;i<e.length;i++)Si(e[i])}}function fs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(fn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){An=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{An=!1}var Yn=null,gr=null,bi=null;function xo(){if(bi)return bi;var e,i=gr,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Xn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function Ro(){return!1}function De(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Ro,this.isPropagationStopped=Ro,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=De(Gt),ms=D({},Gt,{view:0,detail:0}),lu=De(ms),ra,sa,Zn,ps=D({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(ra=e.screenX-Zn.screenX,sa=e.screenY-Zn.screenY):sa=ra=0,Zn=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),wn=De(ps),uu=D({},ps,{dataTransfer:0}),Mh=De(uu),gs=D({},ms,{relatedTarget:0}),aa=De(gs),Io=D({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=De(Io),cu=D({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=De(cu),Vh=D({},Gt,{data:0}),Co=De(Vh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function vs(){return Do}var du=D({},ms,{key:function(e){if(e.key){var i=ys[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=De(du),mu=D({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=De(mu),Ai=D({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),pu=De(Ai),gu=D({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=De(gu),vu=D({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=De(vu),tn=D({},Gt,{newState:0,oldState:0}),_u=De(tn),Eu=[9,13,27,32],Jn=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var g=fn&&"TextEvent"in window&&!c,v=fn&&(!Jn||c&&8<c&&11>=c),S=" ",B=!1;function G(e,i){switch(e){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Te(e,i){switch(e){case"compositionend":return it(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return e=i.data,e===S&&B?null:e;default:return null}}function Ut(e,i){if(Lt)return e==="compositionend"||!Jn&&G(e,i)?(e=xo(),bi=gr=Yn=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function wi(e,i,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,i=ic(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Pe=null,ti=null;function Oo(e){Fy(e,0)}function Tu(e){var i=cr(e);if(So(i))return e}function _p(e,i){if(e==="change")return i}var Ep=!1;if(fn){var kh;if(fn){var Ph="oninput"in document;if(!Ph){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Ph=typeof Tp.oninput=="function"}kh=Ph}else kh=!1;Ep=kh&&(!document.documentMode||9<document.documentMode)}function Sp(){Pe&&(Pe.detachEvent("onpropertychange",bp),ti=Pe=null)}function bp(e){if(e.propertyName==="value"&&Tu(ti)){var i=[];wi(i,ti,e,na(e)),ou(Oo,i)}}function DE(e,i,a){e==="focusin"?(Sp(),Pe=i,ti=a,Pe.attachEvent("onpropertychange",bp)):e==="focusout"&&Sp()}function NE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ti)}function OE(e,i){if(e==="click")return Tu(i)}function ME(e,i){if(e==="input"||e==="change")return Tu(i)}function VE(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:VE;function Mo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ks.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,i){var a=Ap(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ap(a)}}function xp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?xp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ta(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ta(e.document)}return i}function Lh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function kE(e,i){var a=Rp(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&xp(i.ownerDocument.documentElement,i)){if(l!==null&&Lh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=wp(i,d);var _=wp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var PE=fn&&"documentMode"in document&&11>=document.documentMode,ha=null,Uh=null,Vo=null,jh=!1;function Ip(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||ha==null||ha!==ta(l)||(l=ha,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&Mo(Vo,l)||(Vo=l,l=ic(Uh,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ha)))}function _s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},zh={},Cp={};fn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Es(e){if(zh[e])return zh[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cp)return zh[e]=i[a];return e}var Dp=Es("animationend"),Np=Es("animationiteration"),Op=Es("animationstart"),LE=Es("transitionrun"),UE=Es("transitionstart"),jE=Es("transitioncancel"),Mp=Es("transitionend"),Vp=new Map,kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(e,i){Vp.set(e,i),hn(i,[e])}var xn=[],da=0,Bh=0;function Su(){for(var e=da,i=Bh=da=0;i<e;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Pp(a,h,d)}}function bu(e,i,a,l){xn[da++]=e,xn[da++]=i,xn[da++]=a,xn[da++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,i,a,l){return bu(e,i,a,l),Au(e)}function yr(e,i){return bu(e,null,null,i),Au(e)}function Pp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Ze(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Au(e){if(50<sl)throw sl=0,Yf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ma={},Lp=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var a=Lp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:at(i)},Lp.set(e,i),i)}return{value:e,source:i,stack:at(i)}}var pa=[],ga=0,wu=null,xu=0,In=[],Cn=0,Ts=null,xi=1,Ri="";function Ss(e,i){pa[ga++]=xu,pa[ga++]=wu,wu=e,xu=i}function Up(e,i,a){In[Cn++]=xi,In[Cn++]=Ri,In[Cn++]=Ts,Ts=e;var l=xi;e=Ri;var h=32-Ze(l)-1;l&=~(1<<h),a+=1;var d=32-Ze(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-Ze(i)+h|a<<h|l,Ri=d+e}else xi=1<<d|a<<h|l,Ri=e}function Hh(e){e.return!==null&&(Ss(e,1),Up(e,1,0))}function Fh(e){for(;e===wu;)wu=pa[--ga],pa[ga]=null,xu=pa[--ga],pa[ga]=null;for(;e===Ts;)Ts=In[--Cn],In[Cn]=null,Ri=In[--Cn],In[Cn]=null,xi=In[--Cn],In[Cn]=null}var en=null,Le=null,Ht=!1,jn=null,ei=!1,Gh=Error(s(519));function bs(e){var i=Error(s(418,""));throw Lo(Rn(i,e)),Gh}function jp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ce]=e,i[Ee]=l,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)kt(ol[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),us(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),pr(i,l.value,l.defaultValue,l.children),us(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ky(i.textContent,a)?(l.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),l.onScroll!=null&&kt("scroll",i),l.onScrollEnd!=null&&kt("scrollend",i),l.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||bs(e)}function zp(e){for(en=e.return;en;)switch(en.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:en=en.return}}function ko(e){if(e!==en)return!1;if(!Ht)return zp(e),Ht=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Le&&bs(e),zp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Le=Bn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Le=null}}else Le=en?Bn(e.stateNode.nextSibling):null;return!0}function Po(){Le=en=null,Ht=!1}function Lo(e){jn===null?jn=[e]:jn.push(e)}var Uo=Error(s(460)),Bp=Error(s(474)),Qh={then:function(){}};function qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Hp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Uo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Uo?Error(s(483)):e}throw jo=i,Uo}}var jo=null;function Fp(){if(jo===null)throw Error(s(459));var e=jo;return jo=null,e}var ya=null,zo=0;function Iu(e){var i=zo;return zo+=1,ya===null&&(ya=[]),Hp(ya,e,i)}function Bo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Cu(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Gp(e){var i=e._init;return i(e._payload)}function Qp(e){function i(j,k){if(e){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!e)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=Cr(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,e?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=33554434,k):q):(j.flags|=33554434,k)):(j.flags|=1048576,k)}function _(j){return e&&j.alternate===null&&(j.flags|=33554434),j}function T(j,k,q,W){return k===null||k.tag!==6?(k=Bf(q,j.mode,W),k.return=j,k):(k=h(k,q),k.return=j,k)}function I(j,k,q,W){var ft=q.type;return ft===p?K(j,k,q.props.children,W,q.key):k!==null&&(k.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===X&&Gp(ft)===k.type)?(k=h(k,q.props),Bo(k,q),k.return=j,k):(k=$u(q.type,q.key,q.props,null,j.mode,W),Bo(k,q),k.return=j,k)}function P(j,k,q,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=qf(q,j.mode,W),k.return=j,k):(k=h(k,q.children||[]),k.return=j,k)}function K(j,k,q,W,ft){return k===null||k.tag!==7?(k=Ms(q,j.mode,W,ft),k.return=j,k):(k=h(k,q),k.return=j,k)}function et(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Bf(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return q=$u(k.type,k.key,k.props,null,j.mode,q),Bo(q,k),q.return=j,q;case m:return k=qf(k,j.mode,q),k.return=j,k;case X:var W=k._init;return k=W(k._payload),et(j,k,q)}if(lt(k)||dt(k))return k=Ms(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return et(j,Iu(k),q);if(k.$$typeof===V)return et(j,Fu(j,k),q);Cu(j,k)}return null}function H(j,k,q,W){var ft=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ft!==null?null:T(j,k,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ft?I(j,k,q,W):null;case m:return q.key===ft?P(j,k,q,W):null;case X:return ft=q._init,q=ft(q._payload),H(j,k,q,W)}if(lt(q)||dt(q))return ft!==null?null:K(j,k,q,W,null);if(typeof q.then=="function")return H(j,k,Iu(q),W);if(q.$$typeof===V)return H(j,k,Fu(j,q),W);Cu(j,q)}return null}function $(j,k,q,W,ft){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,T(k,j,""+W,ft);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return j=j.get(W.key===null?q:W.key)||null,I(k,j,W,ft);case m:return j=j.get(W.key===null?q:W.key)||null,P(k,j,W,ft);case X:var Nt=W._init;return W=Nt(W._payload),$(j,k,q,W,ft)}if(lt(W)||dt(W))return j=j.get(q)||null,K(k,j,W,ft,null);if(typeof W.then=="function")return $(j,k,q,Iu(W),ft);if(W.$$typeof===V)return $(j,k,q,Fu(k,W),ft);Cu(k,W)}return null}function pt(j,k,q,W){for(var ft=null,Nt=null,gt=k,_t=k=0,Ve=null;gt!==null&&_t<q.length;_t++){gt.index>_t?(Ve=gt,gt=null):Ve=gt.sibling;var Ft=H(j,gt,q[_t],W);if(Ft===null){gt===null&&(gt=Ve);break}e&&gt&&Ft.alternate===null&&i(j,gt),k=d(Ft,k,_t),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft,gt=Ve}if(_t===q.length)return a(j,gt),Ht&&Ss(j,_t),ft;if(gt===null){for(;_t<q.length;_t++)gt=et(j,q[_t],W),gt!==null&&(k=d(gt,k,_t),Nt===null?ft=gt:Nt.sibling=gt,Nt=gt);return Ht&&Ss(j,_t),ft}for(gt=l(gt);_t<q.length;_t++)Ve=$(gt,j,_t,q[_t],W),Ve!==null&&(e&&Ve.alternate!==null&&gt.delete(Ve.key===null?_t:Ve.key),k=d(Ve,k,_t),Nt===null?ft=Ve:Nt.sibling=Ve,Nt=Ve);return e&&gt.forEach(function(Pr){return i(j,Pr)}),Ht&&Ss(j,_t),ft}function At(j,k,q,W){if(q==null)throw Error(s(151));for(var ft=null,Nt=null,gt=k,_t=k=0,Ve=null,Ft=q.next();gt!==null&&!Ft.done;_t++,Ft=q.next()){gt.index>_t?(Ve=gt,gt=null):Ve=gt.sibling;var Pr=H(j,gt,Ft.value,W);if(Pr===null){gt===null&&(gt=Ve);break}e&&gt&&Pr.alternate===null&&i(j,gt),k=d(Pr,k,_t),Nt===null?ft=Pr:Nt.sibling=Pr,Nt=Pr,gt=Ve}if(Ft.done)return a(j,gt),Ht&&Ss(j,_t),ft;if(gt===null){for(;!Ft.done;_t++,Ft=q.next())Ft=et(j,Ft.value,W),Ft!==null&&(k=d(Ft,k,_t),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft);return Ht&&Ss(j,_t),ft}for(gt=l(gt);!Ft.done;_t++,Ft=q.next())Ft=$(gt,j,_t,Ft.value,W),Ft!==null&&(e&&Ft.alternate!==null&&gt.delete(Ft.key===null?_t:Ft.key),k=d(Ft,k,_t),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft);return e&&gt.forEach(function(JT){return i(j,JT)}),Ht&&Ss(j,_t),ft}function ce(j,k,q,W){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:t:{for(var ft=q.key;k!==null;){if(k.key===ft){if(ft=q.type,ft===p){if(k.tag===7){a(j,k.sibling),W=h(k,q.props.children),W.return=j,j=W;break t}}else if(k.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===X&&Gp(ft)===k.type){a(j,k.sibling),W=h(k,q.props),Bo(W,q),W.return=j,j=W;break t}a(j,k);break}else i(j,k);k=k.sibling}q.type===p?(W=Ms(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=$u(q.type,q.key,q.props,null,j.mode,W),Bo(W,q),W.return=j,j=W)}return _(j);case m:t:{for(ft=q.key;k!==null;){if(k.key===ft)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),W=h(k,q.children||[]),W.return=j,j=W;break t}else{a(j,k);break}else i(j,k);k=k.sibling}W=qf(q,j.mode,W),W.return=j,j=W}return _(j);case X:return ft=q._init,q=ft(q._payload),ce(j,k,q,W)}if(lt(q))return pt(j,k,q,W);if(dt(q)){if(ft=dt(q),typeof ft!="function")throw Error(s(150));return q=ft.call(q),At(j,k,q,W)}if(typeof q.then=="function")return ce(j,k,Iu(q),W);if(q.$$typeof===V)return ce(j,k,Fu(j,q),W);Cu(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),W=h(k,q),W.return=j,j=W):(a(j,k),W=Bf(q,j.mode,W),W.return=j,j=W),_(j)):a(j,k)}return function(j,k,q,W){try{zo=0;var ft=ce(j,k,q,W);return ya=null,ft}catch(gt){if(gt===Uo)throw gt;var Nt=Mn(29,gt,null,j.mode);return Nt.lanes=W,Nt.return=j,Nt}finally{}}}var As=Qp(!0),$p=Qp(!1),va=Bt(null),Du=Bt(0);function Kp(e,i){e=Ui,$t(Du,e),$t(va,i),Ui=e|i.baseLanes}function $h(){$t(Du,Ui),$t(va,va.current)}function Kh(){Ui=Du.current,ae(va),ae(Du)}var Dn=Bt(null),ni=null;function vr(e){var i=e.alternate;$t(be,be.current&1),$t(Dn,e),ni===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(ni=e)}function Yp(e){if(e.tag===22){if($t(be,be.current),$t(Dn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else _r()}function _r(){$t(be,be.current),$t(Dn,Dn.current)}function Ii(e){ae(Dn),ni===e&&(ni=null),ae(be)}var be=Bt(0);function Nu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zE=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},BE=r.unstable_scheduleCallback,qE=r.unstable_NormalPriority,Ae={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new zE,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&BE(qE,function(){e.controller.abort()})}var Ho=null,Xh=0,_a=0,Ea=null;function HE(e,i){if(Ho===null){var a=Ho=[];Xh=0,_a=id(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xh++,i.then(Xp,Xp),i}function Xp(){if(--Xh===0&&Ho!==null){Ea!==null&&(Ea.status="fulfilled");var e=Ho;Ho=null,_a=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function FE(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wp=A.S;A.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HE(e,i),Wp!==null&&Wp(e,i)};var ws=Bt(null);function Wh(){var e=ws.current;return e!==null?e:Zt.pooledCache}function Ou(e,i){i===null?$t(ws,ws.current):$t(ws,i.pool)}function Zp(){var e=Wh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Er=0,Dt=null,Kt=null,pe=null,Mu=!1,Ta=!1,xs=!1,Vu=0,Fo=0,Sa=null,GE=0;function fe(){throw Error(s(321))}function Zh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Jh(e,i,a,l,h,d){return Er=d,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=e===null||e.memoizedState===null?Rs:Tr,xs=!1,d=a(l,h),xs=!1,Ta&&(d=tg(i,a,l,h)),Jp(e),d}function Jp(e){A.H=ii;var i=Kt!==null&&Kt.next!==null;if(Er=0,pe=Kt=Dt=null,Mu=!1,Fo=0,Sa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Hu(e)&&(Oe=!0))}function tg(e,i,a,l){Dt=e;var h=0;do{if(Ta&&(Sa=null),Fo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,pe=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Is,d=i(a,l)}while(Ta);return d}function QE(){var e=A.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Dt.flags|=1024),i}function tf(){var e=Vu!==0;return Vu=0,e}function ef(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function nf(e){if(Mu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Mu=!1}Er=0,pe=Kt=Dt=null,Ta=!1,Fo=Vu=0,Sa=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Dt.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Kt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=pe===null?Dt.memoizedState:pe.next;if(i!==null)pe=i,Kt=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?Dt.memoizedState=pe=e:pe=pe.next=e}return pe}var ku;ku=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Go(e){var i=Fo;return Fo+=1,Sa===null&&(Sa=[]),e=Hp(Sa,e,i),i=Dt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Rs:Tr),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===V)return Ge(e)}throw Error(s(438,String(e)))}function rf(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ku(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=mt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Lu(e){var i=ge();return sf(i,Kt,e)}function sf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,P=i,K=!1;do{var et=P.lane&-536870913;if(et!==P.lane?(jt&et)===et:(Er&et)===et){var H=P.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),et===_a&&(K=!0);else if((Er&H)===H){P=P.next,H===_a&&(K=!0);continue}else et={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=et,_=d):I=I.next=et,Dt.lanes|=H,Dr|=H;et=P.action,xs&&a(d,et),d=P.hasEagerState?P.eagerState:a(d,et)}else H={lane:et,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=H,_=d):I=I.next=H,Dt.lanes|=et,Dr|=et;P=P.next}while(P!==null&&P!==i);if(I===null?_=d:I.next=T,!dn(d,e.memoizedState)&&(Oe=!0,K&&(a=Ea,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function af(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function eg(e,i,a){var l=Dt,h=ge(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn((Kt||h).memoizedState,a);if(_&&(h.memoizedState=a,Oe=!0),h=h.queue,uf(rg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ba(9,ig.bind(null,l,h,a,i),{destroy:void 0},null),Zt===null)throw Error(s(349));d||Er&60||ng(l,i,a)}return a}function ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=ku(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ig(e,i,a,l){i.value=a,i.getSnapshot=l,sg(i)&&ag(e)}function rg(e,i,a){return a(function(){sg(i)&&ag(e)})}function sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function ag(e){var i=yr(e,2);i!==null&&nn(i,e,2)}function of(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),xs){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function og(e,i,a,l){return e.baseState=a,sf(e,Kt,typeof l=="function"?l:Ci)}function $E(e,i,a,l,h){if(zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function lg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=A.T,_={};A.T=_;try{var T=a(h,l),I=A.S;I!==null&&I(_,T),ug(e,i,T)}catch(P){lf(e,i,P)}finally{A.T=d}}else try{d=a(h,l),ug(e,i,d)}catch(P){lf(e,i,P)}}function ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cg(e,i,l)},function(l){return lf(e,i,l)}):cg(e,i,a)}function cg(e,i,a){i.status="fulfilled",i.value=a,hg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,lg(e,a)))}function lf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hg(i),i=i.next;while(i!==l)}e.action=null}function hg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fg(e,i){return i}function dg(e,i){if(Ht){var a=Zt.formState;if(a!==null){t:{var l=Dt;if(Ht){if(Le){e:{for(var h=Le,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=Bn(h.nextSibling),l=h.data==="F!";break t}}bs(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:i},a.queue=l,a=Ng.bind(null,Dt,l),l.dispatch=a,l=of(!1),d=mf.bind(null,Dt,!1,l.queue),l=an(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=$E.bind(null,Dt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function mg(e){var i=ge();return pg(i,Kt,e)}function pg(e,i,a){i=sf(e,i,fg)[0],e=Lu(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Go(i):i;var l=ge(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Dt.flags|=2048,ba(9,KE.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function KE(e,i){e.action=i}function gg(e){var i=ge(),a=Kt;if(a!==null)return pg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ba(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Dt.updateQueue,i===null&&(i=ku(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function yg(){return ge().memoizedState}function Uu(e,i,a,l){var h=an();Dt.flags|=e,h.memoizedState=ba(1|i,a,{destroy:void 0},l===void 0?null:l)}function ju(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Zh(l,Kt.memoizedState.deps)?h.memoizedState=ba(i,a,d,l):(Dt.flags|=e,h.memoizedState=ba(1|i,a,d,l))}function vg(e,i){Uu(8390656,8,e,i)}function uf(e,i){ju(2048,8,e,i)}function _g(e,i){return ju(4,2,e,i)}function Eg(e,i){return ju(4,4,e,i)}function Tg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Sg(e,i,a){a=a!=null?a.concat([e]):null,ju(4,4,Tg.bind(null,i,e),a)}function cf(){}function bg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ag(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zh(i,l[1]))return l[0];if(l=e(),xs){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l}function hf(e,i,a){return a===void 0||Er&1073741824?e.memoizedState=i:(e.memoizedState=a,e=xy(),Dt.lanes|=e,Dr|=e,a)}function wg(e,i,a,l){return dn(a,i)?a:va.current!==null?(e=hf(e,a,l),dn(e,i)||(Oe=!0),e):Er&42?(e=xy(),Dt.lanes|=e,Dr|=e,i):(Oe=!0,e.memoizedState=a)}function xg(e,i,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=A.T,T={};A.T=T,mf(e,!1,i,a);try{var I=h(),P=A.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=FE(I,l);Qo(e,i,K,yn(e))}else Qo(e,i,l,yn(e))}catch(et){Qo(e,i,{then:function(){},status:"rejected",reason:et},yn())}finally{ut.p=d,A.T=_}}function YE(){}function ff(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Rg(e).queue;xg(e,h,i,It,a===null?YE:function(){return Ig(e),a(l)})}function Rg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:It},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ig(e){var i=Rg(e).next.queue;Qo(e,i,{},yn())}function df(){return Ge(fl)}function Cg(){return ge().memoizedState}function Dg(){return ge().memoizedState}function XE(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();e=Ar(a);var l=wr(i,e,a);l!==null&&(nn(l,i,a),Yo(l,i,a)),i={cache:Yh()},e.payload=i;return}i=i.return}}function WE(e,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(e)?Og(i,a):(a=qh(e,i,a,l),a!==null&&(nn(a,e,l),Mg(a,i,l)))}function Ng(e,i,a){var l=yn();Qo(e,i,a,l)}function Qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Og(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return bu(e,i,h,0),Zt===null&&Su(),!1}catch{}finally{}if(a=qh(e,i,h,l),a!==null)return nn(a,e,l),Mg(a,i,l),!0}return!1}function mf(e,i,a,l){if(l={lane:2,revertLane:id(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(i)throw Error(s(479))}else i=qh(e,a,l,2),i!==null&&nn(i,e,2)}function zu(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function Og(e,i){Ta=Mu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Mg(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,or(e,a)}}var ii={readContext:Ge,use:Pu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};ii.useCacheRefresh=fe,ii.useMemoCache=fe,ii.useHostTransitionStatus=fe,ii.useFormState=fe,ii.useActionState=fe,ii.useOptimistic=fe;var Rs={readContext:Ge,use:Pu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:vg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Uu(4194308,4,Tg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uu(4194308,4,e,i)},useInsertionEffect:function(e,i){Uu(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var l=e();if(xs){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=an();if(a!==void 0){var h=a(i);if(xs){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=WE.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=of(e);var i=e.queue,a=Ng.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cf,useDeferredValue:function(e,i){var a=an();return hf(a,e,i)},useTransition:function(){var e=of(!1);return e=xg.bind(null,Dt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Dt,h=an();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));jt&60||ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vg(rg.bind(null,l,d,e),[e]),l.flags|=2048,ba(9,ig.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=an(),i=Zt.identifierPrefix;if(Ht){var a=Ri,l=xi;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=GE++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=XE.bind(null,Dt)}};Rs.useMemoCache=rf,Rs.useHostTransitionStatus=df,Rs.useFormState=dg,Rs.useActionState=dg,Rs.useOptimistic=function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=mf.bind(null,Dt,!0,a),a.dispatch=i,[e,i]};var Tr={readContext:Ge,use:Pu,useCallback:bg,useContext:Ge,useEffect:uf,useImperativeHandle:Sg,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Ag,useReducer:Lu,useRef:yg,useState:function(){return Lu(Ci)},useDebugValue:cf,useDeferredValue:function(e,i){var a=ge();return wg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Lu(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:eg,useId:Cg};Tr.useCacheRefresh=Dg,Tr.useMemoCache=rf,Tr.useHostTransitionStatus=df,Tr.useFormState=mg,Tr.useActionState=mg,Tr.useOptimistic=function(e,i){var a=ge();return og(a,Kt,e,i)};var Is={readContext:Ge,use:Pu,useCallback:bg,useContext:Ge,useEffect:uf,useImperativeHandle:Sg,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Ag,useReducer:af,useRef:yg,useState:function(){return af(Ci)},useDebugValue:cf,useDeferredValue:function(e,i){var a=ge();return Kt===null?hf(a,e,i):wg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=af(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:eg,useId:Cg};Is.useCacheRefresh=Dg,Is.useMemoCache=rf,Is.useHostTransitionStatus=df,Is.useFormState=gg,Is.useActionState=gg,Is.useOptimistic=function(e,i){var a=ge();return Kt!==null?og(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function pf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gf={isMounted:function(e){return(e=e._reactInternals)?ot(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Ar(l);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(nn(i,e,l),Yo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(nn(i,e,l),Yo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=yn(),l=Ar(a);l.tag=2,i!=null&&(l.callback=i),i=wr(e,l,a),i!==null&&(nn(i,e,a),Yo(i,e,a))}};function Vg(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Mo(a,l)||!Mo(h,d):!0}function kg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&gf.enqueueReplaceState(i,i.state,null)}function Cs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pg(e){Bu(e)}function Lg(e){console.error(e)}function Ug(e){Bu(e)}function qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(e,i,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(e,i)},a}function zg(e){return e=Ar(e),e.tag=3,e}function Bg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){jg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){jg(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ZE(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ko(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ni===null?Zf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),td(e,l,h)),!1;case 22:return a.flags|=65536,l===Qh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),td(e,l,h)),!1}throw Error(s(435,a.tag))}return td(e,l,h),Zf(),!1}if(Ht)return i=Dn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gh&&(e=Error(s(422),{cause:l}),Lo(Rn(e,a)))):(l!==Gh&&(i=Error(s(423),{cause:l}),Lo(Rn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,a),h=yf(e.stateNode,l,h),Of(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),il===null?il=[d]:il.push(d),ue!==4&&(ue=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=yf(a.stateNode,l,e),Of(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zg(h),Bg(h,e,a,l),Of(a,h),!1}a=a.return}while(a!==null);return!1}var qg=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?$p(i,null,a,l):As(i,e.child,a,l)}function Hg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ns(i),l=Jh(e,i,a,_,d,h),T=tf(),e!==null&&!Oe?(ef(e,i,h),Di(e,i,h)):(Ht&&T&&Hh(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Fg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Gg(e,i,d,l,h)):(e=$u(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!xf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(_,l)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Cr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Gg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Mo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,xf(e,h))e.flags&131072&&(Oe=!0);else return i.lanes=e.lanes,Di(e,i,h)}return vf(e,i,a,l,h)}function Qg(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if($o(e,i),l.mode==="hidden"||d){if(i.flags&128){if(l=_!==null?_.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return $g(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(i,_!==null?_.cachePool:null),_!==null?Kp(i,_):$h(),Yp(i);else return i.lanes=i.childLanes=536870912,$g(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(Ou(i,_.cachePool),Kp(i,_),_r(),i.memoizedState=null):(e!==null&&Ou(i,null),$h(),_r());return Ue(e,i,h,a),i.child}function $g(e,i,a,l){var h=Wh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ou(i,null),$h(),Yp(i),e!==null&&Ko(e,i,l,!0),null}function $o(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function vf(e,i,a,l,h){return Ns(i),a=Jh(e,i,a,l,void 0,h),l=tf(),e!==null&&!Oe?(ef(e,i,h),Di(e,i,h)):(Ht&&l&&Hh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Kg(e,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=tg(i,l,a,h),Jp(e),l=tf(),e!==null&&!Oe?(ef(e,i,d),Di(e,i,d)):(Ht&&l&&Hh(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Yg(e,i,a,l,h){if(Ns(i),i.stateNode===null){var d=ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ge(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Df(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ge(_):ma,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gf.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Cs(a,T);d.props=I;var P=d.context,K=a.contextType;_=ma,typeof K=="object"&&K!==null&&(_=Ge(K));var et=a.getDerivedStateFromProps;K=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&kg(i,d,l,_),br=!1;var H=i.memoizedState;d.state=H,Wo(i,l,d,h),Xo(),P=i.memoizedState,T||H!==P||br?(typeof et=="function"&&(pf(i,a,et,l),P=i.memoizedState),(I=br||Vg(i,a,I,l,H,P,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Nf(e,i),_=i.memoizedProps,K=Cs(a,_),d.props=K,et=i.pendingProps,H=d.context,P=a.contextType,I=ma,typeof P=="object"&&P!==null&&(I=Ge(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||H!==I)&&kg(i,d,l,I),br=!1,H=i.memoizedState,d.state=H,Wo(i,l,d,h),Xo();var $=i.memoizedState;_!==et||H!==$||br||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof T=="function"&&(pf(i,a,T,l),$=i.memoizedState),(K=br||Vg(i,a,K,l,H,$,I)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,$o(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=As(i,e.child,null,h),i.child=As(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Xg(e,i,a,l){return Po(),i.flags|=256,Ue(e,i,a,l),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function Ef(e){return{baseLanes:e,cachePool:Zp()}}function Tf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Wg(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?vr(i):_r(),Ht){var T=Le,I;if(I=T){t:{for(I=T,T=ei;I.nodeType!==8;){if(!T){T=null;break t}if(I=Bn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ts!==null?{id:xi,overflow:Ri}:null,retryLane:536870912},I=Mn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,en=i,Le=null,I=!0):I=!1}I||bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=bf({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Ef(a),h.childLanes=Tf(e,_,a),i.memoizedState=_f,l):(vr(i),Sf(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(vr(i),i.flags&=-257,i=Af(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=bf({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,As(i,e.child,null,a),l=i.child,l.memoizedState=Ef(a),l.childLanes=Tf(e,_,a),i.memoizedState=_f,i=h);else if(vr(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,Lo({value:l,source:null,stack:null}),i=Af(e,i,a)}else if(Oe||Ko(e,i,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=Zt,_!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|a)?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,yr(e,l),nn(_,e,l),qg}T.data==="$?"||Zf(),i=Af(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=dT.bind(null,e),T._reactRetry=i,i=null):(e=I.treeContext,Le=Bn(T.nextSibling),en=i,Ht=!0,jn=null,ei=!1,e!==null&&(In[Cn++]=xi,In[Cn++]=Ri,In[Cn++]=Ts,xi=e.id,Ri=e.overflow,Ts=i),i=Sf(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,I=e.child,P=I.sibling,l=Cr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=Cr(P,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Ef(a):(I=T.cachePool,I!==null?(P=Ae._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=Zp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Tf(e,_,a),i.memoizedState=_f,l):(vr(i),a=e.child,e=a.sibling,a=Cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Sf(e,i){return i=bf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function bf(e,i){return by(e,i,0,null)}function Af(e,i,a){return As(i,e.child,null,a),e=Sf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Zg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),If(e.return,i,a)}function wf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Jg(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=be.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,a,i);else if(e.tag===19)Zg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($t(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Nu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wf(i,!0,a,null,d);break;case"together":wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,!(a&i.childLanes))if(e!==null){if(Ko(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Cr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Cr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function JE(e,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Sr(i,Ae,e.memoizedState.cache),Po();break;case 27:case 5:ho(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(i),i.flags|=128,null):a&i.child.childLanes?Wg(e,i,a):(vr(i),e=Di(e,i,a),e!==null?e.sibling:null);vr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ko(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$t(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Qg(e,i,a);case 24:Sr(i,Ae,e.memoizedState.cache)}return Di(e,i,a)}function ty(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!xf(e,a)&&!(i.flags&128))return Oe=!1,JE(e,i,a);Oe=!!(e.flags&131072)}else Oe=!1,Ht&&i.flags&1048576&&Up(i,xu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")zf(l)?(e=Cs(l,e),i.tag=1,i=Yg(null,i,l,e,a)):(i.tag=0,i=vf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=Hg(null,i,l,e,a);break t}else if(h===Y){i.tag=14,i=Fg(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return vf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Cs(l,i.pendingProps),Yg(e,i,l,h,a);case 3:t:{if(er(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Nf(e,i),Wo(i,d,null,a);var _=i.memoizedState;if(d=_.cache,Sr(i,Ae,d),d!==h.cache&&Cf(i,[Ae],a,!0),Xo(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Xg(e,i,d,a);break t}else if(d!==l){l=Rn(Error(s(424)),i),Lo(l),i=Xg(e,i,d,a);break t}else for(Le=Bn(i.stateNode.containerInfo.firstChild),en=i,Ht=!0,jn=null,ei=!0,a=$p(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Po(),d===l){i=Di(e,i,a);break t}Ue(e,i,d,a)}i=i.child}return i;case 26:return $o(e,i),e===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=sc(_n.current).createElement(a),l[Ce]=i,l[Ee]=e,je(l,a,e),ne(l),i.stateNode=l):i.memoizedState=iv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ho(i),e===null&&Ht&&(l=i.stateNode=tv(i.type,i.pendingProps,_n.current),en=i,ei=!0,Le=Bn(l.firstChild)),l=i.pendingProps.children,e!==null||Ht?Ue(e,i,l,a):i.child=As(i,null,l,a),$o(e,i),i.child;case 5:return e===null&&Ht&&((h=l=Le)&&(l=CT(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,en=i,Le=Bn(l.firstChild),ei=!1,h=!0):h=!1),h||bs(i)),ho(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,fd(h,d)?l=null:_!==null&&fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jh(e,i,QE,null,null,a),fl._currentValue=h),$o(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=Le)&&(a=DT(a,i.pendingProps,ei),a!==null?(i.stateNode=a,en=i,Le=null,e=!0):e=!1),e||bs(i)),null;case 13:return Wg(e,i,a);case 4:return er(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=As(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return Hg(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=Ge(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Fg(e,i,i.type,i.pendingProps,a);case 15:return Gg(e,i,i.type,i.pendingProps,a);case 19:return Jg(e,i,a);case 22:return Qg(e,i,a);case 24:return Ns(i),l=Ge(Ae),e===null?(h=Wh(),h===null&&(h=Zt,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Df(i),Sr(i,Ae,h)):(e.lanes&a&&(Nf(e,i),Wo(i,null,null,a),Xo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Ae,l)):(l=d.cache,Sr(i,Ae,l),l!==h.cache&&Cf(i,[Ae],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Rf=Bt(null),Ds=null,Ni=null;function Sr(e,i,a){$t(Rf,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=Rf.current,ae(Rf)}function If(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Cf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ko(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===tr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Cf(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Ds=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return ey(Ds,e)}function Fu(e,i){return Ds===null&&Ns(e),ey(e,i)}function ey(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var br=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,re&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(e),Pp(e,null,a),i}return bu(e,l,i,a),Au(e)}function Yo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,or(e,a)}}function Of(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Mf=!1;function Xo(){if(Mf){var e=Ea;if(e!==null)throw e}}function Wo(e,i,a,l){Mf=!1;var h=e.updateQueue;br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,_===null?d=P:_.next=P,_=I;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=P:T.next=P,K.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;_=0,K=P=I=null,T=d;do{var H=T.lane&-536870913,$=H!==T.lane;if($?(jt&H)===H:(l&H)===H){H!==0&&H===_a&&(Mf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=e,At=T;H=i;var ce=a;switch(At.tag){case 1:if(pt=At.payload,typeof pt=="function"){et=pt.call(ce,et,H);break t}et=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=At.payload,H=typeof pt=="function"?pt.call(ce,et,H):pt,H==null)break t;et=D({},et,H);break t;case 2:br=!0}}H=T.callback,H!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(P=K=$,I=et):K=K.next=$,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);K===null&&(I=et),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Dr|=_,e.lanes=_,e.memoizedState=et}}function ny(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function iy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ny(a[e],i)}function Zo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(i,i.return,T)}}function xr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a;try{T()}catch(P){Wt(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){Wt(i,i.return,P)}}function ry(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{iy(i,a)}catch(l){Wt(e,e.return,l)}}}function sy(e,i,a){a.props=Cs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function Os(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Wt(e,i,d)}}function mn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function ay(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function oy(e,i,a){try{var l=e.stateNode;AT(l,e.type,a,i),l[Ee]=i}catch(h){Wt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Gu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Gu(e,i,a),e=e.sibling;e!==null;)Gu(e,i,a),e=e.sibling}var Mi=!1,le=!1,Pf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Me=null,cy=!1;function tT(e,i){if(e=e.containerInfo,cd=hc,e=Rp(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,P=0,K=0,et=e,H=null;e:for(;;){for(var $;et!==a||h!==0&&et.nodeType!==3||(T=_+h),et!==d||l!==0&&et.nodeType!==3||(I=_+l),et.nodeType===3&&(_+=et.nodeValue.length),($=et.firstChild)!==null;)H=et,et=$;for(;;){if(et===e)break e;if(H===a&&++P===h&&(T=_),H===d&&++K===l&&(I=_),($=et.nextSibling)!==null)break;et=H,H=et.parentNode}et=$}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hd={focusedElem:e,selectionRange:a},hc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Cs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Wt(a,a.return,At)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}return pt=cy,cy=!1,pt}function hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(e,a),l&4&&Zo(5,a);break;case 1:if(ki(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var h=Cs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&ry(a),l&512&&Os(a,a.return);break;case 3:if(ki(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{iy(l,e)}catch(T){Wt(a,a.return,T)}}break;case 26:ki(e,a),l&512&&Os(a,a.return);break;case 27:case 5:ki(e,a),i===null&&l&4&&ay(a),l&512&&Os(a,a.return);break;case 12:ki(e,a);break;case 13:ki(e,a),l&4&&my(e,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){i=i!==null&&i.memoizedState!==null||le;var d=Mi,_=le;Mi=h,(le=i)&&!_?Rr(e,a,(a.subtreeFlags&8772)!==0):ki(e,a),Mi=d,le=_}l&512&&(a.memoizedProps.mode==="manual"?Os(a,a.return):mn(a,a.return));break;default:ki(e,a)}}function fy(e){var i=e.alternate;i!==null&&(e.alternate=null,fy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ls(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,pn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)dy(e,i,a),a=a.sibling}function dy(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(nr,a)}catch{}switch(a.tag){case 26:le||mn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:le||mn(a,i);var l=ye,h=pn;for(ye=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ls(a),ye=l,pn=h;break;case 5:le||mn(a,i);case 6:h=ye;var d=pn;if(ye=null,Vi(e,i,a),ye=h,pn=d,ye!==null)if(pn)try{e=ye,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(_){Wt(a,i,_)}else try{ye.removeChild(a.stateNode)}catch(_){Wt(a,i,_)}break;case 18:ye!==null&&(pn?(i=ye,a=a.stateNode,i.nodeType===8?md(i.parentNode,a):i.nodeType===1&&md(i,a),gl(i)):md(ye,a.stateNode));break;case 4:l=ye,h=pn,ye=a.stateNode.containerInfo,pn=!0,Vi(e,i,a),ye=l,pn=h;break;case 0:case 11:case 14:case 15:le||xr(2,a,i),le||xr(4,a,i),Vi(e,i,a);break;case 1:le||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sy(a,i,l)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:le||mn(a,i),le=(l=le)||a.memoizedState!==null,Vi(e,i,a),le=l;break;default:Vi(e,i,a)}}function my(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(a){Wt(i,i.return,a)}}function eT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(s(435,e.tag))}}function Lf(e,i){var a=eT(e);i.forEach(function(l){var h=mT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:ye=T.stateNode,pn=!1;break t;case 3:ye=T.stateNode.containerInfo,pn=!0;break t;case 4:ye=T.stateNode.containerInfo,pn=!0;break t}T=T.return}if(ye===null)throw Error(s(160));dy(d,_,h),ye=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)py(i,e),i=i.sibling}var zn=null;function py(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),On(e),l&4&&(xr(3,e,e.return),Zo(3,e),xr(5,e,e.return));break;case 1:Nn(i,e),On(e),l&512&&(le||a===null||mn(a,a.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(Nn(i,e),On(e),l&512&&(le||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Ce]=e,ne(d),l=d;break t;case"link":var _=av("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ce]=e,ne(d),l=d}e.stateNode=l}else ov(h,e.type,e.stateNode);else e.stateNode=sv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ov(h,e.type,e.stateNode):sv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&oy(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,K=I.nodeName;I[ur]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var et=e.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);je(h,et,d),h[Ce]=e,h[Ee]=d}catch(pt){Wt(e,e.return,pt)}}case 5:if(Nn(i,e),On(e),l&512&&(le||a===null||mn(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(pt){Wt(e,e.return,pt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,oy(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Pf=!0);break;case 6:if(Nn(i,e),On(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){Wt(e,e.return,pt)}}break;case 3:if(lc=null,h=zn,zn=ac(i.containerInfo),Nn(i,e),zn=h,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(pt){Wt(e,e.return,pt)}Pf&&(Pf=!1,gy(e));break;case 4:l=zn,zn=ac(e.stateNode.containerInfo),Nn(i,e),On(e),zn=l;break;case 12:Nn(i,e),On(e);break;case 13:Nn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qf=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 22:if(l&512&&(le||a===null||mn(a,a.return)),I=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,K=Mi,et=le,Mi=K||I,le=et||P,Nn(i,e),le=et,Mi=K,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Mi||le,a===null||P||i||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var $=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pt){Wt(P,P.return,pt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(pt){Wt(P,P.return,pt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lf(e,a))));break;case 19:Nn(i,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 21:break;default:Nn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(ly(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Vf(e);Gu(e,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Sn(_,""),l.flags&=-33);var T=Vf(e);Gu(e,T,_);break;case 3:case 4:var I=l.stateNode.containerInfo,P=Vf(e);kf(e,P,I);break;default:throw Error(s(161))}}}catch(K){Wt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ki(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hy(e,i.alternate,i),i=i.sibling}function Aa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xr(4,i,i.return),Aa(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&sy(i,i.return,a),Aa(i);break;case 26:case 27:case 5:mn(i,i.return),Aa(i);break;case 22:mn(i,i.return),i.memoizedState===null&&Aa(i);break;default:Aa(i)}e=e.sibling}}function Rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),Zo(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ny(I[h],T)}catch(P){Wt(l,l.return,P)}}a&&_&64&&ry(d),Os(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&l===null&&_&4&&ay(d),Os(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&_&4&&my(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),Os(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Uf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function jf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function Ir(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(e,i,a,l),i=i.sibling}function yy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(e,i,a,l),h&2048&&Zo(9,i);break;case 3:Ir(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Ir(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(i,i.return,I)}}else Ir(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ir(e,i,a,l):Jo(e,i):d._visibility&4?Ir(e,i,a,l):(d._visibility|=4,wa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Uf(i.alternate,i);break;case 24:Ir(e,i,a,l),h&2048&&jf(i.alternate,i);break;default:Ir(e,i,a,l)}}function wa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,_=i,T=a,I=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:wa(d,_,T,I,h),Zo(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&4?wa(d,_,T,I,h):Jo(d,_):(K._visibility|=4,wa(d,_,T,I,h)),h&&P&2048&&Uf(_.alternate,_);break;case 24:wa(d,_,T,I,h),h&&P&2048&&jf(_.alternate,_);break;default:wa(d,_,T,I,h)}i=i.sibling}}function Jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&Uf(l.alternate,l);break;case 24:Jo(a,l),h&2048&&jf(l.alternate,l);break;default:Jo(a,l)}i=i.sibling}}var tl=8192;function xa(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 26:xa(e),e.flags&tl&&e.memoizedState!==null&&HT(zn,e.memoizedState,e.memoizedProps);break;case 5:xa(e);break;case 3:case 4:var i=zn;zn=ac(e.stateNode.containerInfo),xa(e),zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,xa(e),tl=i):xa(e));break;default:xa(e)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function el(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Ty(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&xr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Qu(e)):el(e);break;default:el(e)}}function Qu(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Ty(l,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xr(8,i,i.return),Qu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Qu(i));break;default:Qu(i)}e=e.sibling}}function Ty(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(fy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}function nT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,i,a,l){return new nT(e,i,a,l)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cr(e,i){var a=e.alternate;return a===null?(a=Mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sy(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $u(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")zf(e)&&(_=1);else if(typeof e=="string")_=BT(e,a,We.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Ms(a.children,h,d,i);case y:_=8,h|=24;break;case E:return e=Mn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case Q:return e=Mn(13,a,i,h),e.elementType=Q,e.lanes=d,e;case F:return e=Mn(19,a,i,h),e.elementType=F,e.lanes=d,e;case rt:return by(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case V:_=10;break t;case x:_=9;break t;case L:_=11;break t;case Y:_=14;break t;case X:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Mn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ms(e,i,a,l){return e=Mn(7,e,l,i),e.lanes=a,e}function by(e,i,a,l){e=Mn(22,e,l,i),e.elementType=rt,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=yr(d,2);_!==null&&(h._pendingVisibility|=2,nn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var _=yr(d,2);_!==null&&(h._pendingVisibility&=-3,nn(_,d,2))}}};return e.stateNode=h,e}function Bf(e,i,a){return e=Mn(6,e,null,i),e.lanes=a,e}function qf(e,i,a){return i=Mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Pi(e){e.flags|=4}function Ay(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lv(i)){if(i=Dn.current,i!==null&&((jt&4194176)===jt?ni!==null:(jt&62914560)!==jt&&!(jt&536870912)||i!==ni))throw jo=Qh,Bp;e.flags|=8192}}function Ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?sr():536870912,e.lanes|=i,Ia|=i)}function nl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function iT(e,i,a){var l=i.pendingProps;switch(Fh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Ae),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ko(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,jn!==null&&(Xf(jn),jn=null))),ie(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(ie(i),Ay(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),ie(i),Ay(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),ie(i),i.flags&=-16777217),null;case 27:$s(i),a=_n.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=We.current,ko(i)?jp(i):(e=tv(h,l,a),i.stateNode=e,Pi(i))}return ie(i),null;case 5:if($s(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=We.current,ko(i))jp(i);else{switch(h=sc(_n.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ce]=i,e[Ee]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_n.current,ko(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ky(e.nodeValue,a)),e||bs(i)}else e=sc(e).createTextNode(l),e[Ce]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ko(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=i}else Po(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else jn!==null&&(Xf(jn),jn=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),ie(i),null;case 4:return pi(),e===null&&od(i.stateNode.containerInfo),ie(i),null;case 10:return Oi(i.type),ie(i),null;case 19:if(ae(be),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Nu(e),d!==null){for(i.flags|=128,nl(h,!1),e=d.updateQueue,i.updateQueue=e,Ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sy(a,e),a=a.sibling;return $t(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&rn()>Yu&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Nu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ku(i,e),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ie(i),null}else 2*rn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,e=be.current,$t(be,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Ii(i),Kh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ae(ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Ae),ie(i),null;case 25:return null}throw Error(s(156,i.tag))}function rT(e,i){switch(Fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Ae),pi(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ae(be),null;case 4:return pi(),null;case 10:return Oi(i.type),null;case 22:case 23:return Ii(i),Kh(),e!==null&&ae(ws),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Ae),null;case 25:return null;default:return null}}function wy(e,i){switch(Fh(i),i.tag){case 3:Oi(Ae),pi();break;case 26:case 27:case 5:$s(i);break;case 4:pi();break;case 13:Ii(i);break;case 19:ae(be);break;case 10:Oi(i.type);break;case 22:case 23:Ii(i),Kh(),e!==null&&ae(ws);break;case 24:Oi(Ae)}}var sT={getCacheForType:function(e){var i=Ge(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,re=0,Zt=null,Ot=null,jt=0,Jt=0,gn=null,Li=!1,Ra=!1,Hf=!1,Ui=0,ue=0,Dr=0,Vs=0,Ff=0,Vn=0,Ia=0,il=null,ri=null,Gf=!1,Qf=0,Yu=1/0,Xu=null,Nr=null,Wu=!1,ks=null,rl=0,$f=0,Kf=null,sl=0,Yf=null;function yn(){if(re&2&&jt!==0)return jt&-jt;if(A.T!==null){var e=_a;return e!==0?e:id()}return iu()}function xy(){Vn===0&&(Vn=!(jt&536870912)||Ht?yo():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),Vn}function nn(e,i,a){(e===Zt&&Jt===2||e.cancelPendingCommit!==null)&&(Ca(e,0),ji(e,jt,Vn,!1)),he(e,a),(!(re&2)||e!==Zt)&&(e===Zt&&(!(re&2)&&(Vs|=a),ue===4&&ji(e,jt,Vn,!1)),si(e))}function Ry(e,i,a){if(re&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||rr(e,i),h=l?uT(e,i):Jf(e,i,!0),d=l;do{if(h===0){Ra&&!l&&ji(e,i,0,!1);break}else if(h===6)ji(e,i,0,!Li);else{if(a=e.current.alternate,d&&!oT(a)){h=Jf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=il;var I=T.current.memoizedState.isDehydrated;if(I&&(Ca(T,_).flags|=256),_=Jf(T,_,!1),_!==2){if(Hf&&!I){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break t}d=ri,ri=h,d!==null&&Xf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Ca(e,0),ji(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ji(l,i,Vn,!Li);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Qf+300-rn(),10<d)){if(ji(l,i,Vn,!Li),En(l,0)!==0)break t;l.timeoutHandle=Wy(Iy.bind(null,l,a,ri,Xu,Gf,i,Vn,Vs,Ia,Li,2,-0,0),d);break t}Iy(l,a,ri,Xu,Gf,i,Vn,Vs,Ia,Li,0,-0,0)}}break}while(!0);si(e)}function Xf(e){ri===null?ri=e:ri.push.apply(ri,e)}function Iy(e,i,a,l,h,d,_,T,I,P,K,et,H){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:qT},vy(i),i=FT(),i!==null)){e.cancelPendingCommit=i(ky.bind(null,e,a,l,h,_,T,I,1,et,H)),ji(e,d,_,!P);return}ky(e,a,l,h,_,T,I,K,et,H)}function oT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(e,i,a,l){i&=~Ff,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ze(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ar(e,a,i)}function Zu(){return re&6?!0:(al(0),!1)}function Wf(){if(Ot!==null){if(Jt===0)var e=Ot.return;else e=Ot,Ni=Ds=null,nf(e),ya=null,zo=0,e=Ot;for(;e!==null;)wy(e.alternate,e),e=e.return;Ot=null}}function Ca(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,xT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wf(),Zt=e,Ot=a=Cr(e.current,null),jt=i,Jt=0,gn=null,Li=!1,Ra=rr(e,i),Hf=!1,Ia=Vn=Ff=Vs=Dr=ue=0,ri=il=null,Gf=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ze(l),d=1<<h;i|=e[h],l&=~d}return Ui=i,Su(),a}function Cy(e,i){Dt=null,A.H=ii,i===Uo?(i=Fp(),Jt=3):i===Bp?(i=Fp(),Jt=4):Jt=i===qg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ot===null&&(ue=1,qu(e,Rn(i,e.current)))}function Dy(){var e=A.H;return A.H=ii,e===null?ii:e}function Ny(){var e=A.A;return A.A=sT,e}function Zf(){ue=4,Li||(jt&4194176)!==jt&&Dn.current!==null||(Ra=!0),!(Dr&134217727)&&!(Vs&134217727)||Zt===null||ji(Zt,jt,Vn,!1)}function Jf(e,i,a){var l=re;re|=2;var h=Dy(),d=Ny();(Zt!==e||jt!==i)&&(Xu=null,Ca(e,i)),i=!1;var _=ue;t:do try{if(Jt!==0&&Ot!==null){var T=Ot,I=gn;switch(Jt){case 8:Wf(),_=6;break t;case 3:case 2:case 6:Dn.current===null&&(i=!0);var P=Jt;if(Jt=0,gn=null,Da(e,T,I,P),a&&Ra){_=0;break t}break;default:P=Jt,Jt=0,gn=null,Da(e,T,I,P)}}lT(),_=ue;break}catch(K){Cy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Ni=Ds=null,re=l,A.H=h,A.A=d,Ot===null&&(Zt=null,jt=0,Su()),_}function lT(){for(;Ot!==null;)Oy(Ot)}function uT(e,i){var a=re;re|=2;var l=Dy(),h=Ny();Zt!==e||jt!==i?(Xu=null,Yu=rn()+500,Ca(e,i)):Ra=rr(e,i);t:do try{if(Jt!==0&&Ot!==null){i=Ot;var d=gn;e:switch(Jt){case 1:Jt=0,gn=null,Da(e,i,d,1);break;case 2:if(qp(d)){Jt=0,gn=null,My(i);break}i=function(){Jt===2&&Zt===e&&(Jt=7),si(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:qp(d)?(Jt=0,gn=null,My(i)):(Jt=0,gn=null,Da(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(!_||lv(_)){Jt=0,gn=null;var I=T.sibling;if(I!==null)Ot=I;else{var P=T.return;P!==null?(Ot=P,Ju(P)):Ot=null}break e}}Jt=0,gn=null,Da(e,i,d,5);break;case 6:Jt=0,gn=null,Da(e,i,d,6);break;case 8:Wf(),ue=6;break t;default:throw Error(s(462))}}cT();break}catch(K){Cy(e,K)}while(!0);return Ni=Ds=null,A.H=l,A.A=h,re=a,Ot!==null?0:(Zt=null,jt=0,Su(),ue)}function cT(){for(;Ot!==null&&!xh();)Oy(Ot)}function Oy(e){var i=ty(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Ju(e):Ot=i}function My(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Kg(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=Kg(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:nf(i);default:wy(a,i),i=Ot=Sy(i,Ui),i=ty(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Ju(e):Ot=i}function Da(e,i,a,l){Ni=Ds=null,nf(i),ya=null,zo=0;var h=i.return;try{if(ZE(e,h,i,a,jt)){ue=1,qu(e,Rn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;ue=1,qu(e,Rn(a,e.current)),Ot=null;return}i.flags&32768?(Ht||l===1?e=!0:Ra||jt&536870912?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vy(i,e)):Ju(i)}function Ju(e){var i=e;do{if(i.flags&32768){Vy(i,Li);return}e=i.return;var a=iT(i.alternate,i,Ui);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);ue===0&&(ue=5)}function Vy(e,i){do{var a=rT(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ue=6,Ot=null}function ky(e,i,a,l,h,d,_,T,I,P){var K=A.T,et=ut.p;try{ut.p=2,A.T=null,hT(e,i,a,l,et,h,d,_,T,I,P)}finally{A.T=K,ut.p=et}}function hT(e,i,a,l,h,d,_,T){do Na();while(ks!==null);if(re&6)throw Error(s(327));var I=e.finishedWork;if(l=e.finishedLanes,I===null)return null;if(e.finishedWork=null,e.finishedLanes=0,I===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=Bh,eu(e,l,P,d,_,T),e===Zt&&(Ot=Zt=null,jt=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||Wu||(Wu=!0,$f=P,Kf=a,pT(gi,function(){return Na(),null})),a=(I.flags&15990)!==0,I.subtreeFlags&15990||a?(a=A.T,A.T=null,d=ut.p,ut.p=2,_=re,re|=4,tT(e,I),py(I,e),kE(hd,e.containerInfo),hc=!!cd,hd=cd=null,e.current=I,hy(e,I.alternate,I),fo(),re=_,ut.p=d,A.T=a):e.current=I,Wu?(Wu=!1,ks=e,rl=l):Py(e,P),P=e.pendingLanes,P===0&&(Nr=null),po(I.stateNode),si(e),i!==null)for(h=e.onRecoverableError,I=0;I<i.length;I++)P=i[I],h(P.value,{componentStack:P.stack});return rl&3&&Na(),P=e.pendingLanes,l&4194218&&P&42?e===Yf?sl++:(sl=0,Yf=e):sl=0,al(0),null}function Py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function Na(){if(ks!==null){var e=ks,i=$f;$f=0;var a=nu(rl),l=A.T,h=ut.p;try{if(ut.p=32>a?32:a,A.T=null,ks===null)var d=!1;else{a=Kf,Kf=null;var _=ks,T=rl;if(ks=null,rl=0,re&6)throw Error(s(331));var I=re;if(re|=4,Ey(_.current),yy(_,_.current,T,a),re=I,al(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(nr,_)}catch{}d=!0}return d}finally{ut.p=h,A.T=l,Py(e,i)}}return!1}function Ly(e,i,a){i=Rn(a,i),i=yf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(he(e,2),si(e))}function Wt(e,i,a){if(e.tag===3)Ly(e,e,a);else for(;i!==null;){if(i.tag===3){Ly(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){e=Rn(a,e),a=zg(2),l=wr(i,a,2),l!==null&&(Bg(a,l,i,e),he(l,2),si(l));break}}i=i.return}}function td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new aT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Hf=!0,h.add(a),e=fT.bind(null,e,i,a),i.then(e,e))}function fT(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(jt&a)===a&&(ue===4||ue===3&&(jt&62914560)===jt&&300>rn()-Qf?!(re&2)&&Ca(e,0):Ff|=a,Ia===jt&&(Ia=0)),si(e)}function Uy(e,i){i===0&&(i=sr()),e=yr(e,i),e!==null&&(he(e,i),si(e))}function dT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Uy(e,a)}function mT(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Uy(e,a)}function pT(e,i){return ss(e,i)}var tc=null,Oa=null,ed=!1,ec=!1,nd=!1,Ps=0;function si(e){e!==Oa&&e.next===null&&(Oa===null?tc=Oa=e:Oa=Oa.next=e),ec=!0,ed||(ed=!0,yT(gT))}function al(e,i){if(!nd&&ec){nd=!0;do for(var a=!1,l=tc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,By(l,d))}else d=jt,d=En(l,l===Zt?d:0),!(d&3)||rr(l,d)||(a=!0,By(l,d));l=l.next}while(a);nd=!1}}function gT(){ec=ed=!1;var e=0;Ps!==0&&(wT()&&(e=Ps),Ps=0);for(var i=rn(),a=null,l=tc;l!==null;){var h=l.next,d=jy(l,i);d===0?(l.next=null,a===null?tc=h:a.next=h,h===null&&(Oa=a)):(a=l,(e!==0||d&3)&&(ec=!0)),l=h}al(e)}function jy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Ze(d),T=1<<_,I=h[_];I===-1?(!(T&a)||T&l)&&(h[_]=Xs(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Zt,a=jt,a=En(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Jt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ys(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||rr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ys(l),nu(a)){case 2:case 8:a=Ie;break;case 32:a=gi;break;case 268435456:a=mo;break;default:a=gi}return l=zy.bind(null,e),a=ss(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ys(l),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,i){var a=e.callbackNode;if(Na()&&e.callbackNode!==a)return null;var l=jt;return l=En(e,e===Zt?l:0),l===0?null:(Ry(e,l,i),jy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?zy.bind(null,e):null)}function By(e,i){if(Na())return null;Ry(e,i,!0)}function yT(e){RT(function(){re&6?ss(_e,e):e()})}function id(){return Ps===0&&(Ps=yo()),Ps}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kn(""+e)}function Hy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function vT(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=qy((h[Ee]||null).action),_=l.submitter;_&&(i=(i=_[Ee]||null)?qy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ia("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var I=_?Hy(h,_):new FormData(h);ff(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?Hy(h,_):new FormData(h),ff(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var rd=0;rd<kp.length;rd++){var sd=kp[rd],_T=sd.toLowerCase(),ET=sd[0].toUpperCase()+sd.slice(1);Un(_T,"on"+ET)}Un(Dp,"onAnimationEnd"),Un(Np,"onAnimationIteration"),Un(Op,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(LE,"onTransitionRun"),Un(UE,"onTransitionStart"),Un(jE,"onTransitionCancel"),Un(Mp,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Fy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,P=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=I}}}}function kt(e,i){var a=i[os];a===void 0&&(a=i[os]=new Set);var l=e+"__bubble";a.has(l)||(Gy(i,e,2,!1),a.add(l))}function ad(e,i,a){var l=0;i&&(l|=4),Gy(a,e,l,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[nc]){e[nc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(TT.has(a)||ad(a,!1,e),ad(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nc]||(i[nc]=!0,ad("selectionchange",!1,i))}}function Gy(e,i,a,l){switch(mv(i)){case 2:var h=$T;break;case 8:h=KT;break;default:h=Ed}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ld(e,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Ln(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}ou(function(){var P=d,K=na(a),et=[];t:{var H=Vp.get(e);if(H!==void 0){var $=ia,pt=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":$=ua;break;case"focusin":pt="focus",$=aa;break;case"focusout":pt="blur",$=aa;break;case"beforeblur":case"afterblur":$=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=pu;break;case Dp:case Np:case Op:$=oa;break;case Mp:$=yu;break;case"scroll":case"scrollend":$=lu;break;case"wheel":$=ca;break;case"copy":case"cut":case"paste":$=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=No;break;case"toggle":case"beforetoggle":$=_u}var At=(i&4)!==0,ce=!At&&(e==="scroll"||e==="scrollend"),j=At?H!==null?H+"Capture":null:H;At=[];for(var k=P,q;k!==null;){var W=k;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=fs(k,j),W!=null&&At.push(ll(k,W,q))),ce)break;k=k.return}0<At.length&&(H=new $(H,pt,null,a,K),et.push({event:H,listeners:At}))}}if(!(i&7)){t:{if(H=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",H&&a!==bn&&(pt=a.relatedTarget||a.fromElement)&&(Ln(pt)||pt[yi]))break t;if(($||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,$?(pt=a.relatedTarget||a.toElement,$=P,pt=pt?Ln(pt):null,pt!==null&&(ce=ot(pt),At=pt.tag,pt!==ce||At!==5&&At!==27&&At!==6)&&(pt=null)):($=null,pt=P),$!==pt)){if(At=wn,W="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(At=No,W="onPointerLeave",j="onPointerEnter",k="pointer"),ce=$==null?H:cr($),q=pt==null?H:cr(pt),H=new At(W,k+"leave",$,a,K),H.target=ce,H.relatedTarget=q,W=null,Ln(K)===P&&(At=new At(j,k+"enter",pt,a,K),At.target=q,At.relatedTarget=ce,W=At),ce=W,$&&pt)e:{for(At=$,j=pt,k=0,q=At;q;q=Ma(q))k++;for(q=0,W=j;W;W=Ma(W))q++;for(;0<k-q;)At=Ma(At),k--;for(;0<q-k;)j=Ma(j),q--;for(;k--;){if(At===j||j!==null&&At===j.alternate)break e;At=Ma(At),j=Ma(j)}At=null}else At=null;$!==null&&Qy(et,H,$,At,!1),pt!==null&&ce!==null&&Qy(et,ce,pt,At,!0)}}t:{if(H=P?cr(P):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var ft=_p;else if(Se(H))if(Ep)ft=ME;else{ft=NE;var Nt=DE}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&Ao(P.elementType)&&(ft=_p):ft=OE;if(ft&&(ft=ft(e,P))){wi(et,ft,a,K);break t}Nt&&Nt(e,H,P),e==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&ea(H,"number",H.value)}switch(Nt=P?cr(P):window,e){case"focusin":(Se(Nt)||Nt.contentEditable==="true")&&(ha=Nt,Uh=P,Vo=null);break;case"focusout":Vo=Uh=ha=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ip(et,a,K);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":Ip(et,a,K)}var gt;if(Jn)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?G(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(v&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(gt=xo()):(Yn=K,gr="value"in Yn?Yn.value:Yn.textContent,Lt=!0)),Nt=ic(P,_t),0<Nt.length&&(_t=new Co(_t,e,null,a,K),et.push({event:_t,listeners:Nt}),gt?_t.data=gt:(gt=it(a),gt!==null&&(_t.data=gt)))),(gt=g?Te(e,a):Ut(e,a))&&(_t=ic(P,"onBeforeInput"),0<_t.length&&(Nt=new Co("onBeforeInput","beforeinput",null,a,K),et.push({event:Nt,listeners:_t}),Nt.data=gt)),vT(et,e,P,a,K)}Fy(et,i)})}function ll(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ic(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(e,a),h!=null&&l.unshift(ll(e,h,d)),h=fs(e,i),h!=null&&l.push(ll(e,h,d))),e=e.return}return l}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=fs(a,d),P!=null&&_.unshift(ll(a,P,I))):h||(P=fs(a,d),P!=null&&_.push(ll(a,P,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ST=/\r\n?/g,bT=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(ST,`
`).replace(bT,"")}function Ky(e,i){return i=$y(i),$y(e)===i}function rc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":dr(e,"class",l);break;case"tabIndex":dr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,a,l);break;case"style":au(e,l,d);break;case"data":if(i!=="object"){dr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=rc);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Kn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nh.get(a)||a,fr(e,a,l))}}function ud(e,i,a,l,h,d){switch(a){case"style":au(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ee]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fr(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,_,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var T=d=_=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":I=K;break;case"defaultChecked":P=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Yt(e,i,l,K,a,null)}}cs(e,d,T,I,P,_,h,!1),us(e);return;case"select":kt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?qt(e,!!l,i,!1):a!=null&&qt(e,!!l,a,!0);return;case"textarea":kt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,_,T,a,null)}pr(e,l,h,d),us(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,I,l,a,null)}return;case"dialog":kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<ol.length;l++)kt(ol[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,P,l,a,null)}return;default:if(Ao(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&ud(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function AT(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,P=null,K=null;for($ in a){var et=a[$];if(a.hasOwnProperty($)&&et!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty($)||Yt(e,i,$,null,l,et)}}for(var H in l){var $=l[H];if(et=a[H],l.hasOwnProperty(H)&&($!=null||et!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":P=$;break;case"defaultChecked":K=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==et&&Yt(e,i,H,$,l,et)}}mr(e,_,T,I,P,K,d,h);return;case"select":$=_=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Yt(e,i,h,d,l,I)}i=T,a=_,l=$,H!=null?qt(e,!!a,H,!1):!!l!=!!a&&(i!=null?qt(e,!!a,i,!0):qt(e,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,_,h,l,d)}hs(e,H,$);return;case"option":for(var pt in a)if(H=a[pt],a.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Yt(e,i,pt,null,l,H)}for(I in l)if(H=l[I],$=a[I],l.hasOwnProperty(I)&&H!==$&&(H!=null||$!=null))switch(I){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Yt(e,i,I,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)H=a[At],a.hasOwnProperty(At)&&H!=null&&!l.hasOwnProperty(At)&&Yt(e,i,At,null,l,H);for(P in l)if(H=l[P],$=a[P],l.hasOwnProperty(P)&&H!==$&&(H!=null||$!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Yt(e,i,P,H,l,$)}return;default:if(Ao(i)){for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!==void 0&&!l.hasOwnProperty(ce)&&ud(e,i,ce,void 0,l,H);for(K in l)H=l[K],$=a[K],!l.hasOwnProperty(K)||H===$||H===void 0&&$===void 0||ud(e,i,K,H,l,$);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&Yt(e,i,j,null,l,H);for(et in l)H=l[et],$=a[et],!l.hasOwnProperty(et)||H===$||H==null&&$==null||Yt(e,i,et,H,l,$)}var cd=null,hd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function fd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dd=null;function wT(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(IT)}:Wy;function IT(e){setTimeout(function(){throw e})}function md(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),gl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);gl(i)}function pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function CT(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function DT(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Jy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function tv(e,i,a){switch(i=sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var kn=new Map,ev=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var zi=ut.d;ut.d={f:NT,r:OT,D:MT,C:VT,L:kT,m:PT,X:UT,S:LT,M:jT};function NT(){var e=zi.f(),i=Zu();return e||i}function OT(e){var i=vi(e);i!==null&&i.tag===5&&i.type==="form"?Ig(i):zi.r(e)}var Va=typeof document>"u"?null:document;function nv(e,i,a){var l=Va;if(l&&typeof i=="string"&&i){var h=oe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ne(i),l.head.appendChild(i)))}}function MT(e){zi.D(e),nv("dns-prefetch",e,null)}function VT(e,i){zi.C(e,i),nv("preconnect",e,i)}function kT(e,i,a){zi.L(e,i,a);var l=Va;if(l&&e&&i){var h='link[rel="preload"][as="'+oe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+oe(a.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=Pa(e)}kn.has(d)||(e=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ul(d))||i==="script"&&l.querySelector(cl(d))||(i=l.createElement("link"),je(i,"link",e),ne(i),l.head.appendChild(i)))}}function PT(e,i){zi.m(e,i);var a=Va;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pa(e)}if(!kn.has(d)&&(e=D({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}l=a.createElement("link"),je(l,"link",e),ne(l),a.head.appendChild(l)}}}function LT(e,i,a){zi.S(e,i,a);var l=Va;if(l&&e){var h=hr(l).hoistableStyles,d=ka(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ul(d)))T.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&gd(e,a);var I=_=l.createElement("link");ne(I),je(I,"link",e),I._p=new Promise(function(P,K){I.onload=P,I.onerror=K}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function UT(e,i){zi.X(e,i);var a=Va;if(a&&e){var l=hr(a).hoistableScripts,h=Pa(e),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(e=D({src:e,async:!0},i),(i=kn.get(h))&&yd(e,i),d=a.createElement("script"),ne(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jT(e,i){zi.M(e,i);var a=Va;if(a&&e){var l=hr(a).hoistableScripts,h=Pa(e),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(e=D({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&yd(e,i),d=a.createElement("script"),ne(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(e,i,a,l){var h=(h=_n.current)?ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=hr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=hr(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(ul(e)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||zT(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=hr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+oe(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function rv(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function zT(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ne(i),e.head.appendChild(i))}function Pa(e){return'[src="'+oe(e)+'"]'}function cl(e){return"script[async]"+e}function sv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return i.instance=l,ne(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ne(l),je(l,"style",h),oc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ka(a.href);var d=e.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,ne(d),d;l=rv(a),(h=kn.get(h))&&gd(l,h),d=(e.ownerDocument||e).createElement("link"),ne(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),je(d,"link",l),i.state.loading|=4,oc(d,a.precedence,e),i.instance=d;case"script":return d=Pa(a.src),(h=e.querySelector(cl(d)))?(i.instance=h,ne(h),h):(l=a,(h=kn.get(d))&&(l=D({},a),yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,oc(l,a.precedence,e));return i.instance}function oc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var lc=null;function av(e,i,a){if(lc===null){var l=new Map,h=lc=new Map;h.set(a,l)}else h=lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ur]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function ov(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function BT(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var hl=null;function qT(){}function HT(e,i,a){if(hl===null)throw Error(s(475));var l=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=ka(a.href),d=e.querySelector(ul(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=uc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ne(d);return}d=e.ownerDocument||e,a=rv(a),(h=kn.get(h))&&gd(a,h),d=d.createElement("link"),ne(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=uc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function FT(){if(hl===null)throw Error(s(475));var e=hl;return e.stylesheets&&e.count===0&&vd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&vd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function vd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,i.forEach(GT,e),cc=null,uc.call(e))}function GT(e,i){if(!(i.state.loading&4)){var a=cc.get(e);if(a)var l=a.get(null);else{a=new Map,cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var fl={$$typeof:V,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function QT(e,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function uv(e,i,a,l,h,d,_,T,I,P,K,et){return e=new QT(e,i,a,_,T,I,P,et),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),e.current=d,d.stateNode=e,i=Yh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Df(d),e}function cv(e){return e?(e=ma,e):ma}function hv(e,i,a,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(e,l,i),a!==null&&(nn(a,e,i),Yo(a,e,i))}function fv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function _d(e,i){fv(e,i),(e=e.alternate)&&fv(e,i)}function dv(e){if(e.tag===13){var i=yr(e,67108864);i!==null&&nn(i,e,67108864),_d(e,67108864)}}var hc=!0;function $T(e,i,a,l){var h=A.T;A.T=null;var d=ut.p;try{ut.p=2,Ed(e,i,a,l)}finally{ut.p=d,A.T=h}}function KT(e,i,a,l){var h=A.T;A.T=null;var d=ut.p;try{ut.p=8,Ed(e,i,a,l)}finally{ut.p=d,A.T=h}}function Ed(e,i,a,l){if(hc){var h=Td(l);if(h===null)ld(e,i,l,fc,a),pv(e,l);else if(XT(h,e,i,a,l))l.stopPropagation();else if(pv(e,l),i&4&&-1<YT.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Ze(_);T.entanglements[1]|=I,_&=~I}si(d),!(re&6)&&(Yu=rn()+500,al(0))}}break;case 13:T=yr(d,2),T!==null&&nn(T,d,2),Zu(),_d(d,2)}if(d=Td(l),d===null&&ld(e,i,l,fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ld(e,i,l,null,a)}}function Td(e){return e=na(e),Sd(e)}var fc=null;function Sd(e){if(fc=null,e=Ln(e),e!==null){var i=ot(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ct(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fc=e,null}function mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case _e:return 2;case Ie:return 8;case gi:case Zl:return 32;case mo:return 268435456;default:return 32}default:return 32}}var bd=!1,Or=null,Mr=null,Vr=null,dl=new Map,ml=new Map,kr=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(e,i){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function pl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&dv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function XT(e,i,a,l,h){switch(i){case"focusin":return Or=pl(Or,e,i,a,l,h),!0;case"dragenter":return Mr=pl(Mr,e,i,a,l,h),!0;case"mouseover":return Vr=pl(Vr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,pl(dl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,pl(ml.get(d)||null,e,i,a,l,h)),!0}return!1}function gv(e){var i=Ln(e.target);if(i!==null){var a=ot(i);if(a!==null){if(i=a.tag,i===13){if(i=Ct(a),i!==null){e.blockedOn=i,lr(e.priority,function(){if(a.tag===13){var l=yn(),h=yr(a,l);h!==null&&nn(h,a,l),_d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Td(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bn=l,a.target.dispatchEvent(l),bn=null}else return i=vi(a),i!==null&&dv(i),e.blockedOn=a,!1;i.shift()}return!0}function yv(e,i,a){dc(e)&&a.delete(i)}function WT(){bd=!1,Or!==null&&dc(Or)&&(Or=null),Mr!==null&&dc(Mr)&&(Mr=null),Vr!==null&&dc(Vr)&&(Vr=null),dl.forEach(yv),ml.forEach(yv)}function mc(e,i){e.blockedOn===i&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WT)))}var pc=null;function vv(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Sd(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(i,3),i-=3,ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function gl(e){function i(I){return mc(I,e)}Or!==null&&mc(Or,e),Mr!==null&&mc(Mr,e),Vr!==null&&mc(Vr,e),dl.forEach(i),ml.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ee]||null;if(typeof d=="function")_||vv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ee]||null)T=_.formAction;else if(Sd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),vv(a)}}}function Ad(e){this._internalRoot=e}gc.prototype.render=Ad.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();hv(a,l,e,i,null,null)},gc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Na(),hv(e.current,2,null,e,null,null),Zu(),i[yi]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var i=iu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&gv(e)}};var _v=t.version;if(_v!=="19.0.0")throw Error(s(527,_v,"19.0.0"));ut.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tt(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var ZT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{nr=yc.inject(ZT),Fe=yc}catch{}}return vl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Pg,d=Lg,_=Ug,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=uv(e,1,!1,null,null,a,l,h,d,_,T,null),e[yi]=i.current,od(e.nodeType===8?e.parentNode:e),new Ad(i)},vl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Pg,_=Lg,T=Ug,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=uv(e,1,!0,i,a??null,l,h,d,_,T,I,P),i.context=cv(null),a=i.current,l=yn(),h=Ar(l),h.callback=null,wr(a,h,l),i.current.lanes=l,he(i,l),si(i),e[yi]=i.current,od(e),new gc(i)},vl.version="19.0.0",vl}var Cv;function uS(){if(Cv)return Rd.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=lS(),Rd.exports}var cS=uS();const hS=Em(cS);var _l={},Dv;function fS(){if(Dv)return _l;Dv=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=f,_l.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,V){const L=new u,Q=x.length;if(Q<2)return L;const F=(V==null?void 0:V.decode)||E;let Y=0;do{const X=x.indexOf("=",Y);if(X===-1)break;const rt=x.indexOf(";",Y),mt=rt===-1?Q:rt;if(X>mt){Y=x.lastIndexOf(";",X-1)+1;continue}const st=m(x,Y,X),dt=p(x,X,st),O=x.slice(st,dt);if(L[O]===void 0){let R=m(x,X+1,mt),A=p(x,mt,R);const D=F(x.slice(R,A));L[O]=D}Y=mt+1}while(Y<Q);return L}function m(x,V,L){do{const Q=x.charCodeAt(V);if(Q!==32&&Q!==9)return V}while(++V<L);return L}function p(x,V,L){for(;V>L;){const Q=x.charCodeAt(--V);if(Q!==32&&Q!==9)return V+1}return L}function y(x,V,L){const Q=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const F=Q(V);if(!t.test(F))throw new TypeError(`argument val is invalid: ${V}`);let Y=x+"="+F;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function E(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function w(x){return o.call(x)==="[object Date]"}return _l}fS();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nv="popstate";function dS(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Kd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Cl(o)}return pS(t,n,null,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function Ov(r,t){return{usr:r.state,key:r.key,idx:t}}function Kd(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?no(t):t,state:n,key:t&&t.key||s||mS()}}function Cl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function no(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function pS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=E(),Y=F==null?null:F-y;y=F,p&&p({action:m,location:Q.location,delta:Y})}function x(F,Y){m="PUSH";let X=Kd(Q.location,F,Y);y=E()+1;let rt=Ov(X,y),mt=Q.createHref(X);try{f.pushState(rt,"",mt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(mt)}u&&p&&p({action:m,location:Q.location,delta:1})}function V(F,Y){m="REPLACE";let X=Kd(Q.location,F,Y);y=E();let rt=Ov(X,y),mt=Q.createHref(X);f.replaceState(rt,"",mt),u&&p&&p({action:m,location:Q.location,delta:0})}function L(F){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof F=="string"?F:Cl(F);return X=X.replace(/ $/,"%20"),ee(Y,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,Y)}let Q={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,w),p=F,()=>{o.removeEventListener(Nv,w),p=null}},createHref(F){return t(o,F)},createURL:L,encodeLocation(F){let Y=L(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:x,replace:V,go(F){return f.go(F)}};return Q}function t0(r,t,n="/"){return gS(r,t,n,!1)}function gS(r,t,n,s){let o=typeof t=="string"?no(t):t,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=e0(r);yS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=IS(u);m=xS(f[p],y,s)}return m}function e0(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Gi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),e0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:AS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of n0(u.path))o(u,f,p)}),t}function n0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=n0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function yS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:wS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vS=/^:[\w-]+$/,_S=3,ES=2,TS=1,SS=10,bS=-2,Mv=r=>r==="*";function AS(r,t){let n=r.split("/"),s=n.length;return n.some(Mv)&&(s+=bS),t&&(s+=ES),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(vS.test(u)?_S:u===""?TS:SS),s)}function wS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function xS(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",w=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),x=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Gi([u,w.pathname]),pathnameBase:OS(Gi([u,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(u=Gi([u,w.pathnameBase]))}return f}function Lc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=RS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},x)=>{if(E==="*"){let L=m[x]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const V=m[x];return w&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function RS(r,t=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function IS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Yr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function CS(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?no(r):r;return{pathname:n?n.startsWith("/")?n:DS(n,t):t,search:MS(s),hash:VS(o)}}function DS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sm(r){let t=NS(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function bm(r,t,n,s=!1){let o;typeof r=="string"?o=no(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=t.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}m=w>=0?t[w]:"/"}let p=CS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),OS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var i0=["POST","PUT","PATCH","DELETE"];new Set(i0);var PS=["GET",...i0];new Set(PS);var io=U.createContext(null);io.displayName="DataRouter";var eh=U.createContext(null);eh.displayName="DataRouterState";var r0=U.createContext({isTransitioning:!1});r0.displayName="ViewTransition";var LS=U.createContext(new Map);LS.displayName="Fetchers";var US=U.createContext(null);US.displayName="Await";var Hn=U.createContext(null);Hn.displayName="Navigation";var jl=U.createContext(null);jl.displayName="Location";var di=U.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Am=U.createContext(null);Am.displayName="RouteError";function jS(r,{relative:t}={}){ee(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Hn),{hash:o,pathname:u,search:f}=zl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ro(){return U.useContext(jl)!=null}function ns(){return ee(ro(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(jl).location}var s0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a0(r){U.useContext(Hn).static||U.useLayoutEffect(r)}function Zi(){let{isDataRoute:r}=U.useContext(di);return r?ZS():zS()}function zS(){ee(ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(io),{basename:t,navigator:n}=U.useContext(Hn),{matches:s}=U.useContext(di),{pathname:o}=ns(),u=JSON.stringify(Sm(s)),f=U.useRef(!1);return a0(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(qn(f.current,s0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=bm(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Gi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}U.createContext(null);function zl(r,{relative:t}={}){let{matches:n}=U.useContext(di),{pathname:s}=ns(),o=JSON.stringify(Sm(n));return U.useMemo(()=>bm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function BS(r,t){return o0(r,t)}function o0(r,t,n,s){var Y;ee(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(Hn),{matches:u}=U.useContext(di),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";l0(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=ns(),x;if(t){let X=typeof t=="string"?no(t):t;ee(y==="/"||((Y=X.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=w;let V=x.pathname||"/",L=V;if(y!=="/"){let X=y.replace(/^\//,"").split("/");L="/"+V.replace(/^\//,"").split("/").slice(X.length).join("/")}let Q=t0(r,{pathname:L});qn(E||Q!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),qn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=QS(Q&&Q.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Gi([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:Gi([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return t&&F?U.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function qS(){let r=WS(),t=kS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:o},n):null,f)}var HS=U.createElement(qS,null),FS=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?U.createElement(di.Provider,{value:this.props.routeContext},U.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:r,match:t,children:n}){let s=U.useContext(io);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(di.Provider,{value:r},n)}function QS(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,x=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,x=!1,V=null,L=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||HS,f&&(m<0&&E===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,L=null):m===E&&(x=!0,L=y.route.hydrateFallbackElement||null)));let Q=t.concat(o.slice(0,E+1)),F=()=>{let Y;return w?Y=V:x?Y=L:y.route.Component?Y=U.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,U.createElement(GS,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?U.createElement(FS,{location:n.location,revalidation:n.revalidation,component:V,error:w,children:F(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):F()},null)}function wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(r){let t=U.useContext(io);return ee(t,wm(r)),t}function KS(r){let t=U.useContext(eh);return ee(t,wm(r)),t}function YS(r){let t=U.useContext(di);return ee(t,wm(r)),t}function xm(r){let t=YS(r),n=t.matches[t.matches.length-1];return ee(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function XS(){return xm("useRouteId")}function WS(){var s;let r=U.useContext(Am),t=KS("useRouteError"),n=xm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function ZS(){let{router:r}=$S("useNavigate"),t=xm("useNavigate"),n=U.useRef(!1);return a0(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{qn(n.current,s0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Vv={};function l0(r,t,n){!t&&!Vv[r]&&(Vv[r]=!0,qn(!1,n))}U.memo(JS);function JS({routes:r,future:t,state:n}){return o0(r,void 0,n,t)}function tb({to:r,replace:t,state:n,relative:s}){ee(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Hn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(di),{pathname:f}=ns(),m=Zi(),p=bm(r,Sm(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function La(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ee(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=no(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:x="default"}=n,V=U.useMemo(()=>{let L=Yr(p,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:w,key:x},navigationType:s}},[f,p,y,E,w,x,s]);return qn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:U.createElement(Hn.Provider,{value:m},U.createElement(jl.Provider,{children:t,value:V}))}function nb({children:r,location:t}){return BS(Yd(r),t)}function Yd(r,t=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...t,o];if(s.type===U.Fragment){n.push.apply(n,Yd(s.props.children,u));return}ee(s.type===La,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Yd(s.props.children,u)),n.push(f)}),n}var wc="get",xc="application/x-www-form-urlencoded";function nh(r){return r!=null&&typeof r.tagName=="string"}function ib(r){return nh(r)&&r.tagName.toLowerCase()==="button"}function rb(r){return nh(r)&&r.tagName.toLowerCase()==="form"}function sb(r){return nh(r)&&r.tagName.toLowerCase()==="input"}function ab(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ob(r,t){return r.button===0&&(!t||t==="_self")&&!ab(r)}var vc=null;function lb(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var ub=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(r){return r!=null&&!ub.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):r}function cb(r,t){let n,s,o,u,f;if(rb(r)){let m=r.getAttribute("action");s=m?Yr(m,t):null,n=r.getAttribute("method")||wc,o=Od(r.getAttribute("enctype"))||xc,u=new FormData(r)}else if(ib(r)||sb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Yr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||wc,o=Od(r.getAttribute("formenctype"))||Od(m.getAttribute("enctype"))||xc,u=new FormData(m,r),!lb()){let{name:y,type:E,value:w}=r;if(E==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,w)}}else{if(nh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,s=null,o=xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Rm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function hb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function db(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await hb(u,n);return f.links?f.links():[]}return[]}));return yb(s.flat(1).filter(fb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function mb(r,t){return pb(r.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function pb(r){return[...new Set(r)]}function gb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function yb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(gb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function vb(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function _b(){let r=U.useContext(io);return Rm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Eb(){let r=U.useContext(eh);return Rm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Im=U.createContext(void 0);Im.displayName="FrameworkContext";function u0(){let r=U.useContext(Im);return Rm(r,"You must render this element inside a <HydratedRouter> element"),r}function Tb(r,t){let n=U.useContext(Im),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=t,x=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Y=>{Y.forEach(X=>{f(X.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return x.current&&F.observe(x.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:El(m,V),onBlur:El(p,L),onMouseEnter:El(y,V),onMouseLeave:El(E,L),onTouchStart:El(w,V)}]:[!1,x,{}]}function El(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Sb({page:r,...t}){let{router:n}=_b(),s=U.useMemo(()=>t0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Ab,{page:r,matches:s,...t}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function bb(r){let{manifest:t,routeModules:n}=u0(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return db(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Ab({page:r,matches:t,...n}){let s=ns(),{manifest:o,routeModules:u}=u0(),{loaderData:f,matches:m}=Eb(),p=U.useMemo(()=>kv(r,t,m,o,s,"data"),[r,t,m,o,s]),y=U.useMemo(()=>kv(r,t,m,o,s,"assets"),[r,t,m,o,s]),E=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,L=!1;if(t.forEach(F=>{var X;let Y=o.routes[F.route.id];!Y||!Y.hasLoader||(!p.some(rt=>rt.route.id===F.route.id)&&F.route.id in f&&((X=u[F.route.id])!=null&&X.shouldRevalidate)||Y.hasClientLoader?L=!0:V.add(F.route.id))}),V.size===0)return[];let Q=vb(r);return L&&V.size>0&&Q.searchParams.set("_routes",t.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[Q.pathname+Q.search]},[f,s,o,p,t,r,u]),w=U.useMemo(()=>mb(y,o),[y,o]),x=bb(y);return U.createElement(U.Fragment,null,E.map(V=>U.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),w.map(V=>U.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),x.map(({key:V,link:L})=>U.createElement("link",{key:V,...L})))}function wb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c0&&(window.__reactRouterVersion="7.0.2")}catch{}function xb({basename:r,children:t,window:n}){let s=U.useRef();s.current==null&&(s.current=dS({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(eb,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f0=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...x},V){let{basename:L}=U.useContext(Hn),Q=typeof y=="string"&&h0.test(y),F,Y=!1;if(typeof y=="string"&&Q&&(F=y,c0))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),M=Yr(D.pathname,L);D.origin===A.origin&&M!=null?y=M+D.search+D.hash:Y=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=jS(y,{relative:o}),[rt,mt,st]=Tb(s,x),dt=Db(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function O(A){t&&t(A),A.defaultPrevented||dt(A)}let R=U.createElement("a",{...x,...st,href:F||X,onClick:Y||u?t:O,ref:wb(V,mt),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return rt&&!Q?U.createElement(U.Fragment,null,R,U.createElement(Sb,{page:X})):R});f0.displayName="Link";var Rb=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=zl(f,{relative:y.relative}),x=ns(),V=U.useContext(eh),{navigator:L,basename:Q}=U.useContext(Hn),F=V!=null&&kb(w)&&m===!0,Y=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,X=x.pathname,rt=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(X=X.toLowerCase(),rt=rt?rt.toLowerCase():null,Y=Y.toLowerCase()),rt&&Q&&(rt=Yr(rt,Q)||rt);const mt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let st=X===Y||!o&&X.startsWith(Y)&&X.charAt(mt)==="/",dt=rt!=null&&(rt===Y||!o&&rt.startsWith(Y)&&rt.charAt(Y.length)==="/"),O={isActive:st,isPending:dt,isTransitioning:F},R=st?t:void 0,A;typeof s=="function"?A=s(O):A=[s,st?"active":null,dt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(O):u;return U.createElement(f0,{...y,"aria-current":R,className:A,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Rb.displayName="NavLink";var Ib=U.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=wc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...x},V)=>{let L=Mb(),Q=Vb(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&h0.test(m),X=rt=>{if(p&&p(rt),rt.defaultPrevented)return;rt.preventDefault();let mt=rt.nativeEvent.submitter,st=(mt==null?void 0:mt.getAttribute("formmethod"))||f;L(mt||rt.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return U.createElement("form",{ref:V,method:F,action:Q,onSubmit:s?p:X,...x,"data-discover":!Y&&r==="render"?"true":void 0})});Ib.displayName="Form";function Cb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(r){let t=U.useContext(io);return ee(t,Cb(r)),t}function Db(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Zi(),p=ns(),y=zl(r,{relative:u});return U.useCallback(E=>{if(ob(E,t)){E.preventDefault();let w=n!==void 0?n:Cl(p)===Cl(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,t,r,o,u,f])}var Nb=0,Ob=()=>`__${String(++Nb)}__`;function Mb(){let{router:r}=d0("useSubmit"),{basename:t}=U.useContext(Hn),n=XS();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=cb(s,t);if(o.navigate===!1){let E=o.fetcherKey||Ob();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function Vb(r,{relative:t}={}){let{basename:n}=U.useContext(Hn),s=U.useContext(di);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...zl(r||".",{relative:t})},f=ns();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Cl(u)}function kb(r,t={}){let n=U.useContext(r0);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=d0("useViewTransitionState"),o=zl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lc(o.pathname,f)!=null||Lc(o.pathname,u)!=null}new TextEncoder;const Pb=()=>{const r=Zi();return U.useEffect(()=>{const t=n=>{window.history.pushState(null,null,window.location.href)};return window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[r]),null},Bl=()=>b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
        .loader-container {
          height: 100vh;
          width: 100vw;
          background-color: var(--bg-color2);
          position: fixed;
          top: 0;
          left: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          overflow: hidden;
          z-index: 999;
        }

        .loader {
          width: 45px;
          height: 45px;
          border: 6px solid var(--bg-color1);
          border-radius: 50%;
          border-top: 6px solid var(--accent-color1);
          border-bottom: 6px solid var(--accent-color1);
          -webkit-animation: spin 0.5s linear infinite;
          animation: spin 0.5s linear infinite;
        }

        @-webkit-keyframes spin {
          0% {
            -webkit-transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
          }
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
      `}),b.jsx("div",{className:"loader-container",children:b.jsx("div",{className:"loader"})})]}),Qi=()=>b.jsxs("footer",{className:"footer",children:["Made with",b.jsx("img",{src:"/MathIn/icons/heart.svg",alt:"heartIcon"}),"by",b.jsx("a",{href:"https://github.com/aswin-vs",target:"_blank",rel:"noreferrer",children:b.jsx("span",{children:"Aswin V S"})})]}),Lb=()=>{const r=Zi(),[t,n]=U.useState(!1),s=[{label:"Prepare",icon:"prepare",path:"/MathIn/prepare"},{label:"Practice",icon:"practice",path:"/MathIn/practice"},{label:"Participate",icon:"participate",path:"/MathIn/participate"}];return U.useEffect(()=>{n(!0)},[]),t?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"homepage-container",children:[b.jsxs("div",{className:"homepage-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("h2",{className:"homepage-sub-title",children:"Math at Ease !"}),b.jsx("div",{className:"homepage-options",children:s.map(o=>b.jsxs("button",{className:"homepage-options-btn",onClick:()=>r(o.path,{replace:!0}),children:[b.jsx("img",{src:`/MathIn/icons/${o.icon}.svg`,alt:`${o.icon}Icon`}),b.jsx("span",{children:o.label})]},o.label))})]}),b.jsx(Qi,{})]}):b.jsx(Bl,{})},Ub=()=>{const r=Zi(),[t,n]=U.useState(!1),s=()=>{r("/",{replace:!0})},o=()=>{n(!0);const u=document.createElement("a");u.href="/MathIn/content/mathIn.pdf",u.download="mathIn.pdf",document.body.appendChild(u),u.click(),document.body.removeChild(u),setTimeout(()=>{n(!1)},1e3)};return b.jsxs("div",{className:"prepare-box1",children:[t&&b.jsx(Bl,{}),b.jsxs("div",{className:"prepare-box2",children:[b.jsxs("div",{className:"prepare-box3",children:[b.jsx("button",{className:"prepare-download-btn",onClick:o,children:b.jsx("img",{className:"prepare-download-icon",src:"/MathIn/icons/download.svg",alt:"downloadIcon"})}),b.jsxs("div",{className:"prepare-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"prepare-close-btn",onClick:s,children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"prepare-box4",children:[b.jsx("img",{src:"/MathIn/content/mathInContent1.svg",alt:"mathInContent1"}),b.jsx("img",{src:"/MathIn/content/mathInContent2.svg",alt:"mathInContent2"}),b.jsx("img",{src:"/MathIn/content/mathInContent3.svg",alt:"mathInContent3"})]})]}),b.jsx(Qi,{})]})};var Md={exports:{}},Vd,Pv;function jb(){if(Pv)return Vd;Pv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vd=r,Vd}var kd,Lv;function zb(){if(Lv)return kd;Lv=1;var r=jb();function t(){}function n(){}return n.resetWarningCache=t,kd=function(){function s(f,m,p,y,E,w){if(w!==r){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},kd}var Uv;function Bb(){return Uv||(Uv=1,Md.exports=zb()()),Md.exports}var qb=Bb();const js=Em(qb),Hb={"2x2":"4","2x3":"6","2x4":"8","2x5":"10","2x6":"12","2x7":"14","2x8":"16","2x9":"18","2x11":"22","2x12":"24","2x13":"26","2x14":"28","2x15":"30","2x16":"32","2x17":"34","2x18":"36","2x19":"38","2x20":"40","3x2":"6","3x3":"9","3x4":"12","3x5":"15","3x6":"18","3x7":"21","3x8":"24","3x9":"27","3x11":"33","3x12":"36","3x13":"39","3x14":"42","3x15":"45","3x16":"48","3x17":"51","3x18":"54","3x19":"57","3x20":"60","4x2":"8","4x3":"12","4x4":"16","4x5":"20","4x6":"24","4x7":"28","4x8":"32","4x9":"36","4x11":"44","4x12":"48","4x13":"52","4x14":"56","4x15":"60","4x16":"64","4x17":"68","4x18":"72","4x19":"76","4x20":"80","5x2":"10","5x3":"15","5x4":"20","5x5":"25","5x6":"30","5x7":"35","5x8":"40","5x9":"45","5x11":"55","5x12":"60","5x13":"65","5x14":"70","5x15":"75","5x16":"80","5x17":"85","5x18":"90","5x19":"95","5x20":"100","6x2":"12","6x3":"18","6x4":"24","6x5":"30","6x6":"36","6x7":"42","6x8":"48","6x9":"54","6x11":"66","6x12":"72","6x13":"78","6x14":"84","6x15":"90","6x16":"96","6x17":"102","6x18":"108","6x19":"114","6x20":"120","7x2":"14","7x3":"21","7x4":"28","7x5":"35","7x6":"42","7x7":"49","7x8":"56","7x9":"63","7x11":"77","7x12":"84","7x13":"91","7x14":"98","7x15":"105","7x16":"112","7x17":"119","7x18":"126","7x19":"133","7x20":"140","8x2":"16","8x3":"24","8x4":"32","8x5":"40","8x6":"48","8x7":"56","8x8":"64","8x9":"72","8x11":"88","8x12":"96","8x13":"104","8x14":"112","8x15":"120","8x16":"128","8x17":"136","8x18":"144","8x19":"152","8x20":"160","9x2":"18","9x3":"27","9x4":"36","9x5":"45","9x6":"54","9x7":"63","9x8":"72","9x9":"81","9x11":"99","9x12":"108","9x13":"117","9x14":"126","9x15":"135","9x16":"144","9x17":"153","9x18":"162","9x19":"171","9x20":"180","11x2":"22","11x3":"33","11x4":"44","11x5":"55","11x6":"66","11x7":"77","11x8":"88","11x9":"99","11x11":"121","11x12":"132","11x13":"143","11x14":"154","11x15":"165","11x16":"176","11x17":"187","11x18":"198","11x19":"209","11x20":"220","12x2":"24","12x3":"36","12x4":"48","12x5":"60","12x6":"72","12x7":"84","12x8":"96","12x9":"108","12x11":"132","12x12":"144","12x13":"156","12x14":"168","12x15":"180","12x16":"192","12x17":"204","12x18":"216","12x19":"228","12x20":"240","13x2":"26","13x3":"39","13x4":"52","13x5":"65","13x6":"78","13x7":"91","13x8":"104","13x9":"117","13x11":"143","13x12":"156","13x13":"169","13x14":"182","13x15":"195","13x16":"208","13x17":"221","13x18":"234","13x19":"247","13x20":"260","14x2":"28","14x3":"42","14x4":"56","14x5":"70","14x6":"84","14x7":"98","14x8":"112","14x9":"126","14x11":"154","14x12":"168","14x13":"182","14x14":"196","14x15":"210","14x16":"224","14x17":"238","14x18":"252","14x19":"266","14x20":"280","15x2":"30","15x3":"45","15x4":"60","15x5":"75","15x6":"90","15x7":"105","15x8":"120","15x9":"135","15x11":"165","15x12":"180","15x13":"195","15x14":"210","15x15":"225","15x16":"240","15x17":"255","15x18":"270","15x19":"285","15x20":"300","16x2":"32","16x3":"48","16x4":"64","16x5":"80","16x6":"96","16x7":"112","16x8":"128","16x9":"144","16x11":"176","16x12":"192","16x13":"208","16x14":"224","16x15":"240","16x16":"256","16x17":"272","16x18":"288","16x19":"304","16x20":"320","17x2":"34","17x3":"51","17x4":"68","17x5":"85","17x6":"102","17x7":"119","17x8":"136","17x9":"153","17x11":"187","17x12":"204","17x13":"221","17x14":"238","17x15":"255","17x16":"272","17x17":"289","17x18":"306","17x19":"323","17x20":"340","18x2":"36","18x3":"54","18x4":"72","18x5":"90","18x6":"108","18x7":"126","18x8":"144","18x9":"162","18x11":"198","18x12":"216","18x13":"234","18x14":"252","18x15":"270","18x16":"288","18x17":"306","18x18":"324","18x19":"342","18x20":"360","19x2":"38","19x3":"57","19x4":"76","19x5":"95","19x6":"114","19x7":"133","19x8":"152","19x9":"171","19x11":"209","19x12":"228","19x13":"247","19x14":"266","19x15":"285","19x16":"304","19x17":"323","19x18":"342","19x19":"361","19x20":"380","20x2":"40","20x3":"60","20x4":"80","20x5":"100","20x6":"120","20x7":"140","20x8":"160","20x9":"180","20x11":"220","20x12":"240","20x13":"260","20x14":"280","20x15":"300","20x16":"320","20x17":"340","20x18":"360","20x19":"380","20x20":"400"},Fb={"2sq":"4","3sq":"9","4sq":"16","5sq":"25","6sq":"36","7sq":"49","8sq":"64","9sq":"81","10sq":"100","11sq":"121","12sq":"144","13sq":"169","14sq":"196","15sq":"225","16sq":"256","17sq":"289","18sq":"324","19sq":"361","20sq":"400","21sq":"441","22sq":"484","23sq":"529","24sq":"576","25sq":"625","26sq":"676","27sq":"729","28sq":"784","29sq":"841","30sq":"900"},Gb={"2cu":"8","3cu":"27","4cu":"64","5cu":"125","6cu":"216","7cu":"343","8cu":"512","9cu":"729","10cu":"1000","11cu":"1331","12cu":"1728"},Qb={"2pow2":"4","2pow3":"8","2pow4":"16","2pow5":"32","2pow6":"64","2pow7":"128","2pow8":"256","2pow9":"512","2pow10":"1024","2pow11":"2048","2pow12":"4096"},$b={"3pow2":"9","3pow3":"27","3pow4":"81","3pow5":"243","3pow6":"729"},Kb={"1/2":"0.5","1/3":"0.33","1/4":"0.25","1/5":"0.2","1/6":"0.16","1/7":"0.14","1/8":"0.125","1/9":"0.11","1/10":"0.1","1/11":"0.09","1/12":"0.083"},Ua={"Practice(Full)":{"2x2":"4","2x3":"6","2x4":"8","2x5":"10","2x6":"12","2x7":"14","2x8":"16","2x9":"18","2x11":"22","2x12":"24","2x13":"26","2x14":"28","2x15":"30","2x16":"32","2x17":"34","2x18":"36","2x19":"38","2x20":"40","3x2":"6","3x3":"9","3x4":"12","3x5":"15","3x6":"18","3x7":"21","3x8":"24","3x9":"27","3x11":"33","3x12":"36","3x13":"39","3x14":"42","3x15":"45","3x16":"48","3x17":"51","3x18":"54","3x19":"57","3x20":"60","4x2":"8","4x3":"12","4x4":"16","4x5":"20","4x6":"24","4x7":"28","4x8":"32","4x9":"36","4x11":"44","4x12":"48","4x13":"52","4x14":"56","4x15":"60","4x16":"64","4x17":"68","4x18":"72","4x19":"76","4x20":"80","5x2":"10","5x3":"15","5x4":"20","5x5":"25","5x6":"30","5x7":"35","5x8":"40","5x9":"45","5x11":"55","5x12":"60","5x13":"65","5x14":"70","5x15":"75","5x16":"80","5x17":"85","5x18":"90","5x19":"95","5x20":"100","6x2":"12","6x3":"18","6x4":"24","6x5":"30","6x6":"36","6x7":"42","6x8":"48","6x9":"54","6x11":"66","6x12":"72","6x13":"78","6x14":"84","6x15":"90","6x16":"96","6x17":"102","6x18":"108","6x19":"114","6x20":"120","7x2":"14","7x3":"21","7x4":"28","7x5":"35","7x6":"42","7x7":"49","7x8":"56","7x9":"63","7x11":"77","7x12":"84","7x13":"91","7x14":"98","7x15":"105","7x16":"112","7x17":"119","7x18":"126","7x19":"133","7x20":"140","8x2":"16","8x3":"24","8x4":"32","8x5":"40","8x6":"48","8x7":"56","8x8":"64","8x9":"72","8x11":"88","8x12":"96","8x13":"104","8x14":"112","8x15":"120","8x16":"128","8x17":"136","8x18":"144","8x19":"152","8x20":"160","9x2":"18","9x3":"27","9x4":"36","9x5":"45","9x6":"54","9x7":"63","9x8":"72","9x9":"81","9x11":"99","9x12":"108","9x13":"117","9x14":"126","9x15":"135","9x16":"144","9x17":"153","9x18":"162","9x19":"171","9x20":"180","11x2":"22","11x3":"33","11x4":"44","11x5":"55","11x6":"66","11x7":"77","11x8":"88","11x9":"99","11x11":"121","11x12":"132","11x13":"143","11x14":"154","11x15":"165","11x16":"176","11x17":"187","11x18":"198","11x19":"209","11x20":"220","12x2":"24","12x3":"36","12x4":"48","12x5":"60","12x6":"72","12x7":"84","12x8":"96","12x9":"108","12x11":"132","12x12":"144","12x13":"156","12x14":"168","12x15":"180","12x16":"192","12x17":"204","12x18":"216","12x19":"228","12x20":"240","13x2":"26","13x3":"39","13x4":"52","13x5":"65","13x6":"78","13x7":"91","13x8":"104","13x9":"117","13x11":"143","13x12":"156","13x13":"169","13x14":"182","13x15":"195","13x16":"208","13x17":"221","13x18":"234","13x19":"247","13x20":"260","14x2":"28","14x3":"42","14x4":"56","14x5":"70","14x6":"84","14x7":"98","14x8":"112","14x9":"126","14x11":"154","14x12":"168","14x13":"182","14x14":"196","14x15":"210","14x16":"224","14x17":"238","14x18":"252","14x19":"266","14x20":"280","15x2":"30","15x3":"45","15x4":"60","15x5":"75","15x6":"90","15x7":"105","15x8":"120","15x9":"135","15x11":"165","15x12":"180","15x13":"195","15x14":"210","15x15":"225","15x16":"240","15x17":"255","15x18":"270","15x19":"285","15x20":"300","16x2":"32","16x3":"48","16x4":"64","16x5":"80","16x6":"96","16x7":"112","16x8":"128","16x9":"144","16x11":"176","16x12":"192","16x13":"208","16x14":"224","16x15":"240","16x16":"256","16x17":"272","16x18":"288","16x19":"304","16x20":"320","17x2":"34","17x3":"51","17x4":"68","17x5":"85","17x6":"102","17x7":"119","17x8":"136","17x9":"153","17x11":"187","17x12":"204","17x13":"221","17x14":"238","17x15":"255","17x16":"272","17x17":"289","17x18":"306","17x19":"323","17x20":"340","18x2":"36","18x3":"54","18x4":"72","18x5":"90","18x6":"108","18x7":"126","18x8":"144","18x9":"162","18x11":"198","18x12":"216","18x13":"234","18x14":"252","18x15":"270","18x16":"288","18x17":"306","18x18":"324","18x19":"342","18x20":"360","19x2":"38","19x3":"57","19x4":"76","19x5":"95","19x6":"114","19x7":"133","19x8":"152","19x9":"171","19x11":"209","19x12":"228","19x13":"247","19x14":"266","19x15":"285","19x16":"304","19x17":"323","19x18":"342","19x19":"361","19x20":"380","20x2":"40","20x3":"60","20x4":"80","20x5":"100","20x6":"120","20x7":"140","20x8":"160","20x9":"180","20x11":"220","20x12":"240","20x13":"260","20x14":"280","20x15":"300","20x16":"320","20x17":"340","20x18":"360","20x19":"380","20x20":"400","2sq":"4","3sq":"9","4sq":"16","5sq":"25","6sq":"36","7sq":"49","8sq":"64","9sq":"81","10sq":"100","11sq":"121","12sq":"144","13sq":"169","14sq":"196","15sq":"225","16sq":"256","17sq":"289","18sq":"324","19sq":"361","20sq":"400","21sq":"441","22sq":"484","23sq":"529","24sq":"576","25sq":"625","26sq":"676","27sq":"729","28sq":"784","29sq":"841","30sq":"900","2cu":"8","3cu":"27","4cu":"64","5cu":"125","6cu":"216","7cu":"343","8cu":"512","9cu":"729","10cu":"1000","11cu":"1331","12cu":"1728","2pow2":"4","2pow3":"8","2pow4":"16","2pow5":"32","2pow6":"64","2pow7":"128","2pow8":"256","2pow9":"512","2pow10":"1024","2pow11":"2048","2pow12":"4096","3pow2":"9","3pow3":"27","3pow4":"81","3pow5":"243","3pow6":"729","1/2":"0.5","1/3":"0.33","1/4":"0.25","1/5":"0.2","1/6":"0.16","1/7":"0.14","1/8":"0.125","1/9":"0.11","1/10":"0.1","1/11":"0.09","1/12":"0.083"},Tables20x20:Hb,Squares30:Fb,Cubes12:Gb,Powersof2:Qb,Powersof3:$b,Reciprocals12:Kb},m0=({fulltitle:r,screen:t,onBackButtonClick:n})=>{const s=U.useRef(null),o=U.useRef(null),[u,f]=U.useState(null),[m,p]=U.useState(!1),[y,E]=U.useState(""),[w,x]=U.useState(!1),[V,L]=U.useState(!1),[Q,F]=U.useState(!1),[Y,X]=U.useState(),[rt,mt]=U.useState(0),[st,dt]=U.useState(!1),O=U.useCallback(()=>{if(m){const Et=Object.values(Ua[t]),J=Math.floor(Math.random()*Et.length);f(Et[J])}else{const Et=Object.keys(Ua[t]),J=Math.floor(Math.random()*Et.length);f(Et[J])}E(""),x(!1),L(!1),F(!1),dt(!1)},[m,t]);U.useEffect(()=>{O(),s.current.focus()},[m,O]),U.useEffect(()=>{if(!Q){mt(0);let Et;const J=at=>{Et||(Et=at);const ot=at-Et,Ct=Math.min(ot/4500*100,100);mt(Ct),ot<4500?o.current=requestAnimationFrame(J):A()};return o.current=requestAnimationFrame(J),()=>{cancelAnimationFrame(o.current)}}},[u,Q]);const R=Et=>{E(Et.target.value)},A=U.useCallback(()=>{cancelAnimationFrame(o.current);let Et;if(m){Et=[];const J=Object.keys(Ua[t]);for(const ot of J)Ua[t][ot]===u&&Et.push(ot);X(Et.join(", ")),y.replace(/\s/g,"").toLowerCase().split(",").every(ot=>Et.includes(ot))?(x(!0),L(!1),Xt()):(x(!1),L(!0),Xt())}else Et=Ua[t][u],X(Et),y===Et?(x(!0),L(!1),Xt()):(x(!1),L(!0),Xt());F(!0)},[u,m,t,y]),D=Et=>{Et.key==="Enter"&&!Q?A():Et.key==="Enter"&&Q&&z()},M=()=>{Q?z():A(),s.current.focus()},z=()=>{O(),mt(0)},C=()=>{p(Et=>!Et),O()},Xt=()=>{dt(!0),setTimeout(()=>dt(!1),1200)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"practice1-container",children:[b.jsxs("div",{className:"practice1-subcontainer1",children:[b.jsx("button",{onClick:n,className:"practice1-back-button",children:b.jsx("img",{src:"/MathIn/icons/arrowLeft.svg",alt:"backIcon"})}),b.jsxs("div",{className:"practice1-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]})]}),b.jsxs("div",{className:"practice1-subcontainer2",children:[b.jsx("div",{className:"practice1-progress-bar",children:b.jsx("div",{className:"practice1-progress",style:{width:`${rt}%`}})}),b.jsxs("div",{className:"practice1-header",children:[b.jsxs("h1",{className:"practice1-title",children:[b.jsx("span",{children:r[0]}),"",b.jsx("span",{children:r[1]})]}),m?b.jsx("button",{className:"practice1-toggleOnIcon",onClick:C,children:b.jsx("img",{src:"/MathIn/icons/toggleOn.svg",alt:"toggleOnIcon"})}):b.jsx("button",{className:"practice1-toggleOffIcon",onClick:C,children:b.jsx("img",{src:"/MathIn/icons/toggleOff.svg",alt:"toggleOffIcon"})})]}),b.jsxs("div",{className:"practice1-flexbox1",children:[b.jsxs("h2",{className:"practice1-question",children:[u,"=?"]}),b.jsxs("div",{className:"practice1-flexbox2",children:[b.jsx("input",{type:"text",id:"practice1-input",className:"practice1-input",ref:s,value:y,onChange:R,onKeyDown:D,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off"}),b.jsx("button",{className:"practice1-input-btn",onClick:M,children:b.jsx("img",{className:"practice1-input-icon",src:"/MathIn/icons/arrowRight.svg",alt:"arrowRightIcon"})}),w||V?w?b.jsx("img",{className:`practice1-correct-icon ${st?"blink-animation":""}`,src:"/MathIn/icons/circleTick.svg",alt:"circleTickIcon"}):b.jsx("img",{className:`practice1-wrong-icon ${st?"blink-animation":""}`,src:"/MathIn/icons/circleX.svg",alt:"circleXIcon"}):b.jsx("img",{style:{visibility:"hidden"},className:"practice1-correct-icon",src:"/MathIn/icons/placeholder.svg",alt:"placeholderIcon"})]})]}),b.jsxs("div",{className:"practice1-flexbox3",style:{display:Q?"flex":"none"},children:[b.jsxs("div",{className:"practice1-answers1",children:[b.jsx("span",{children:"Correct Answer"})," :"]}),b.jsx("div",{className:"practice1-answers2",children:Y})]})]})]}),b.jsx(Qi,{})]})};m0.propTypes={fulltitle:js.array.isRequired,screen:js.string.isRequired,onBackButtonClick:js.func.isRequired};const Yb=()=>{const r=Zi(),[t,n]=U.useState(null),[s,o]=U.useState({fulltitle:[],screen:""}),[u,f]=U.useState(!1),m=[{title:"Tables",subtitle:"(20x20)",screen:"Tables20x20"},{title:"Squares",subtitle:"(30)",screen:"Squares30"},{title:"Cubes",subtitle:"(12)",screen:"Cubes12"},{title:"Powers of 2",subtitle:"(12)",screen:"Powersof2"},{title:"Powers of 3",subtitle:"(6)",screen:"Powersof3"},{title:"Reciprocals",subtitle:"(12)",screen:"Reciprocals12"}];U.useEffect(()=>{f(!0)},[]);const p=E=>{o({fulltitle:[E.title,E.subtitle],screen:E.screen}),n("Practice1")},y=()=>{r("/",{replace:!0})};return u?t==="Practice1"?b.jsx(m0,{fulltitle:s.fulltitle,screen:s.screen,onBackButtonClick:()=>n(null)}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"practice0-container",children:[b.jsxs("div",{className:"practice0-subcontainer",children:[b.jsxs("div",{className:"practice0-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"practice0-close-btn",onClick:y,children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsx("button",{className:"practice0-subtitle-btn",onClick:()=>p({title:"Practice",subtitle:"(Full)",screen:"Practice(Full)"}),children:"Practice (Full)"}),b.jsx("div",{className:"practice0-play-options",children:m.map(E=>b.jsxs("button",{className:"practice0-button",onClick:()=>p(E),children:[E.title,"",E.subtitle]},E.screen))})]}),b.jsx(Qi,{})]}):b.jsx(Bl,{})};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Xb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(x=64)),s.push(n[E],n[w],n[x],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(p0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Xb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new Wb;const x=u<<2|m>>4;if(s.push(x),y!==64){const V=m<<4&240|y>>2;if(s.push(V),w!==64){const L=y<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(r){const t=p0(r);return g0.encodeByteArray(t,!0)},Uc=function(r){return Zb(r).replace(/\./g,"")},y0=function(r){try{return g0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=()=>Jb().__FIREBASE_DEFAULTS__,eA=()=>{if(typeof process>"u"||typeof jv>"u")return;const r=jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&y0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return tA()||eA()||nA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>{var t,n;return(n=(t=ih())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},iA=r=>{const t=v0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_0=()=>{var r;return(r=ih())===null||r===void 0?void 0:r.config},E0=r=>{var t;return(t=ih())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function oA(){var r;const t=(r=ih())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class Ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=pA,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?gA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,s)}}function gA(r,t){return r.replace(yA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const yA=/\{\$([^}]+)}/g;function vA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function jc(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(zv(u)&&zv(f)){if(!jc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _A(r,t){const n=new EA(r,t);return n.subscribe.bind(n)}class EA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");TA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new rA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AA(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(r){return r===Ls?void 0:r}function AA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new SA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const xA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},RA=Mt.INFO,IA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},CA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=IA[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=RA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const DA=(r,t)=>t.some(n=>r instanceof n);let Bv,qv;function NA(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Xd=new WeakMap,S0=new WeakMap,Ld=new WeakMap,Dm=new WeakMap;function MA(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&T0.set(n,r)}).catch(()=>{}),Dm.set(t,r),t}function VA(r){if(Xd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Xd.set(r,t)}let Wd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||S0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kA(r){Wd=r(Wd)}function PA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ud(this),t,...n);return S0.set(s,t.sort?t.sort():[t]),Hr(s)}:OA().includes(r)?function(...t){return r.apply(Ud(this),t),Hr(T0.get(this))}:function(...t){return Hr(r.apply(Ud(this),t))}}function LA(r){return typeof r=="function"?PA(r):(r instanceof IDBTransaction&&VA(r),DA(r,NA())?new Proxy(r,Wd):r)}function Hr(r){if(r instanceof IDBRequest)return MA(r);if(Ld.has(r))return Ld.get(r);const t=LA(r);return t!==r&&(Ld.set(r,t),Dm.set(t,r)),t}const Ud=r=>Dm.get(r);function UA(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const jA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],jd=new Map;function Hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=zA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return jd.set(t,u),u}kA(r=>({...r,get:(t,n,s)=>Hv(t,n)||r.get(t,n,s),has:(t,n)=>!!Hv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zd="@firebase/app",Fv="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Cm("@firebase/app"),HA="@firebase/app-compat",FA="@firebase/analytics-compat",GA="@firebase/analytics",QA="@firebase/app-check-compat",$A="@firebase/app-check",KA="@firebase/auth",YA="@firebase/auth-compat",XA="@firebase/database",WA="@firebase/data-connect",ZA="@firebase/database-compat",JA="@firebase/functions",tw="@firebase/functions-compat",ew="@firebase/installations",nw="@firebase/installations-compat",iw="@firebase/messaging",rw="@firebase/messaging-compat",sw="@firebase/performance",aw="@firebase/performance-compat",ow="@firebase/remote-config",lw="@firebase/remote-config-compat",uw="@firebase/storage",cw="@firebase/storage-compat",hw="@firebase/firestore",fw="@firebase/vertexai",dw="@firebase/firestore-compat",mw="firebase",pw="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",gw={[Zd]:"fire-core",[HA]:"fire-core-compat",[GA]:"fire-analytics",[FA]:"fire-analytics-compat",[$A]:"fire-app-check",[QA]:"fire-app-check-compat",[KA]:"fire-auth",[YA]:"fire-auth-compat",[XA]:"fire-rtdb",[WA]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[JA]:"fire-fn",[tw]:"fire-fn-compat",[ew]:"fire-iid",[nw]:"fire-iid-compat",[iw]:"fire-fcm",[rw]:"fire-fcm-compat",[sw]:"fire-perf",[aw]:"fire-perf-compat",[ow]:"fire-rc",[lw]:"fire-rc-compat",[uw]:"fire-gcs",[cw]:"fire-gcs-compat",[hw]:"fire-fst",[dw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,yw=new Map,tm=new Map;function Gv(r,t){try{r.container.addComponent(t)}catch(n){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ka(r){const t=r.name;if(tm.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const n of zc.values())Gv(n,r);for(const n of yw.values())Gv(n,r);return!0}function Nm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new ql("app","Firebase",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=pw;function b0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=_0()),!n)throw Fr.create("no-options");const u=zc.get(o);if(u){if(jc(n,u.options)&&jc(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const f=new wA(o);for(const p of tm.values())f.addComponent(p);const m=new _w(n,s,f);return zc.set(o,m),m}function A0(r=Jd){const t=zc.get(r);if(!t&&r===Jd&&_0())return b0();if(!t)throw Fr.create("no-app",{appName:r});return t}function Gr(r,t,n){var s;let o=(s=gw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}Ka(new Bs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",Tw=1,Dl="firebase-heartbeat-store";let zd=null;function w0(){return zd||(zd=UA(Ew,Tw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function Sw(r){try{const n=(await w0()).transaction(Dl),s=await n.objectStore(Dl).get(x0(r));return await n.done,s}catch(t){if(t instanceof Ji)$i.warn(t.message);else{const n=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$i.warn(n.message)}}}async function Qv(r,t){try{const s=(await w0()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,x0(r)),await s.done}catch(n){if(n instanceof Ji)$i.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function x0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=1024,Aw=30*24*60*60*1e3;class ww{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$v();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Aw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:s,unsentEntries:o}=xw(this._heartbeatsCache.heartbeats),u=Uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $i.warn(n),""}}}function $v(){return new Date().toISOString().substring(0,10)}function xw(r,t=bw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Kv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Kv(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){Ka(new Bs("platform-logger",t=>new BA(t),"PRIVATE")),Ka(new Bs("heartbeat",t=>new ww(t),"PRIVATE")),Gr(Zd,Fv,r),Gr(Zd,Fv,"esm2017"),Gr("fire-js","")}Iw("");var Cw="firebase",Dw="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(Cw,Dw,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,R0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function A(){}A.prototype=R.prototype,O.D=R.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(D,M,z){for(var C=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)C[Xt-2]=arguments[Xt];return R.prototype[M].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=O.g[0],A=O.g[1],M=O.g[2];var z=O.g[3],C=R+(z^A&(M^z))+D[0]+3614090360&4294967295;R=A+(C<<7&4294967295|C>>>25),C=z+(M^R&(A^M))+D[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(A^z&(R^A))+D[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=A+(R^M&(z^R))+D[3]+3250441966&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(z^A&(M^z))+D[4]+4118548399&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(M^R&(A^M))+D[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(A^z&(R^A))+D[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=A+(R^M&(z^R))+D[7]+4249261313&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(z^A&(M^z))+D[8]+1770035416&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(M^R&(A^M))+D[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(A^z&(R^A))+D[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=A+(R^M&(z^R))+D[11]+2304563134&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(z^A&(M^z))+D[12]+1804603682&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(M^R&(A^M))+D[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(A^z&(R^A))+D[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=A+(R^M&(z^R))+D[15]+1236535329&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(M^z&(A^M))+D[1]+4129170786&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^M&(R^A))+D[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(z^R))+D[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(M^z))+D[0]+3921069994&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(A^M))+D[5]+3593408605&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^M&(R^A))+D[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(z^R))+D[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(M^z))+D[4]+3889429448&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(A^M))+D[9]+568446438&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^M&(R^A))+D[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(z^R))+D[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(M^z))+D[8]+1163531501&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(A^M))+D[13]+2850285829&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^M&(R^A))+D[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(z^R))+D[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(M^z))+D[12]+2368359562&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(A^M^z)+D[5]+4294588738&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^M)+D[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^A)+D[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=A+(M^z^R)+D[14]+4259657740&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^z)+D[1]+2763975236&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^M)+D[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^A)+D[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=A+(M^z^R)+D[10]+3200236656&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^z)+D[13]+681279174&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^M)+D[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^A)+D[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=A+(M^z^R)+D[6]+76029189&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^z)+D[9]+3654602809&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^M)+D[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^A)+D[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=A+(M^z^R)+D[2]+3299628645&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(M^(A|~z))+D[0]+4096336452&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~M))+D[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~A))+D[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=A+(z^(M|~R))+D[5]+4237533241&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~z))+D[12]+1700485571&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~M))+D[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~A))+D[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=A+(z^(M|~R))+D[1]+2240044497&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~z))+D[8]+1873313359&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~M))+D[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~A))+D[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=A+(z^(M|~R))+D[13]+1309151649&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~z))+D[4]+4149444226&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~M))+D[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~A))+D[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=A+(z^(M|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var A=R-this.blockSize,D=this.B,M=this.h,z=0;z<R;){if(M==0)for(;z<=A;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(D[M++]=O.charCodeAt(z++),M==this.blockSize){o(this,D),M=0;break}}else for(;z<R;)if(D[M++]=O[z++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var A=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=A&255,A/=256;for(this.u(O),O=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)O[A++]=this.g[R]>>>D&255;return O};function u(O,R){var A=m;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=R(O)}function f(O,R){this.h=R;for(var A=[],D=!0,M=O.length-1;0<=M;M--){var z=O[M]|0;D&&z==R||(A[M]=z,D=!1)}this.g=A}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return F(y(-O));for(var R=[],A=1,D=0;O>=A;D++)R[D]=O/A|0,A*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return F(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(R,8)),D=w,M=0;M<O.length;M+=8){var z=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+z),R);8>z?(z=y(Math.pow(R,z)),D=D.j(z).add(y(C))):(D=D.j(A),D=D.add(y(C)))}return D}var w=p(0),x=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-F(this).m();for(var O=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(Q(this))return"-"+F(this).toString(O);for(var R=y(Math.pow(O,6)),A=this,D="";;){var M=mt(A,R).g;A=Y(A,M.j(R));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=M,L(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=Y(this,O),Q(O)?-1:L(O)?0:1};function F(O){for(var R=O.g.length,A=[],D=0;D<R;D++)A[D]=~O.g[D];return new f(A,~O.h).add(x)}r.abs=function(){return Q(this)?F(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],D=0,M=0;M<=R;M++){var z=D+(this.i(M)&65535)+(O.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=C>>>16,z&=65535,C&=65535,A[M]=C<<16|z}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Y(O,R){return O.add(F(R))}r.j=function(O){if(L(this)||L(O))return w;if(Q(this))return Q(O)?F(this).j(F(O)):F(F(this).j(O));if(Q(O))return F(this.j(F(O)));if(0>this.l(V)&&0>O.l(V))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var z=this.i(D)>>>16,C=this.i(D)&65535,Xt=O.i(M)>>>16,Et=O.i(M)&65535;A[2*D+2*M]+=C*Et,X(A,2*D+2*M),A[2*D+2*M+1]+=z*Et,X(A,2*D+2*M+1),A[2*D+2*M+1]+=C*Xt,X(A,2*D+2*M+1),A[2*D+2*M+2]+=z*Xt,X(A,2*D+2*M+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new f(A,0)};function X(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function rt(O,R){this.g=O,this.h=R}function mt(O,R){if(L(R))throw Error("division by zero");if(L(O))return new rt(w,w);if(Q(O))return R=mt(F(O),R),new rt(F(R.g),F(R.h));if(Q(R))return R=mt(O,F(R)),new rt(F(R.g),R.h);if(30<O.g.length){if(Q(O)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var A=x,D=R;0>=D.l(O);)A=st(A),D=st(D);var M=dt(A,1),z=dt(D,1);for(D=dt(D,2),A=dt(A,2);!L(D);){var C=z.add(D);0>=C.l(O)&&(M=M.add(A),z=C),D=dt(D,1),A=dt(A,1)}return R=Y(O,M.j(R)),new rt(M,R)}for(M=w;0<=O.l(R);){for(A=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=y(A),C=z.j(R);Q(C)||0<C.l(O);)A-=D,z=y(A),C=z.j(R);L(z)&&(z=x),M=M.add(z),O=Y(O,C)}return new rt(M,O)}r.A=function(O){return mt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&O.i(D);return new f(A,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|O.i(D);return new f(A,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^O.i(D);return new f(A,this.h^O.h)};function st(O){for(var R=O.g.length+1,A=[],D=0;D<R;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(A,O.h)}function dt(O,R){var A=R>>5;R%=32;for(var D=O.g.length-A,M=[],z=0;z<D;z++)M[z]=0<R?O.i(z+A)>>>R|O.i(z+A+1)<<32-R:O.i(z+A);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,zs=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I0,Tl,C0,Rc,em,D0,N0,O0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break t;v=v[B]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function x(c,g,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,x.apply(null,arguments)}function V(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,G){for(var it=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)it[Lt-2]=arguments[Lt];return g.prototype[B].apply(S,it)}}function Q(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,G=S.length||0;c.length=B+G;for(let it=0;it<G;it++)c[B+it]=S[it]}else c.push(S)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var st=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function dt(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function O(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ct;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Xt{constructor(){this.h=this.g=null}add(g,v){const S=Et.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Et=new Y(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,Ct=new Xt,N=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(tt)}};var tt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){z(v)}var g=Et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ot=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function It(c,g){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(st){t:{try{mt(g.nodeName);var B=!0;break t}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}L(It,lt);var xt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function ae(c,g,v,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=B,this.key=++Bt,this.da=this.fa=!1}function $t(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,g,v,S,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var it=_n(c,g,S,B);return-1<it?(g=c[it],v||(g.fa=!1)):(g=new ae(g,this.src,G,!!S,B),g.fa=v,c.push(g)),g};function mi(c,g){var v=g.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&($t(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _n(c,g,v,S){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return B}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),er={};function pi(c,g,v,S,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)pi(c,g[G],v,S,B);return null}return v=Wl(v),c&&c[me]?c.K(g,v,y(S)?!!S.capture:!!S,B):ho(c,g,v,!1,S,B)}function ho(c,g,v,S,B,G){if(!g)throw Error("Invalid event type");var it=y(B)?!!B.capture:!!B,Lt=fo(c);if(Lt||(c[tr]=Lt=new We(c)),v=Lt.add(g,v,S,it,G),v.proxy)return v;if(S=$s(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ut||(B=it),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(Ys(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function c(v){return g.call(c.src,c.listener,v)}const g=xh;return c}function Ks(c,g,v,S,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ks(c,g[G],v,S,B);else S=y(S)?!!S.capture:!!S,v=Wl(v),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=_n(G,v,S,B),-1<v&&($t(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=fo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=_n(g,v,S,B)),(v=-1<c?g[c]:null)&&ss(v))}function ss(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])mi(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Ys(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=fo(g))?(mi(v,c),v.h==0&&(v.src=null,g[tr]=null)):$t(c)}}}function Ys(c){return c in er?er[c]:er[c]="on"+c}function xh(c,g){if(c.da)c=!0;else{g=new It(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&ss(c),c=v.call(S,g)}return c}function fo(c){return c=c[tr],c instanceof We?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(g){return c.handleEvent(g)}),c[rn])}function _e(){ht.call(this),this.i=new We(this),this.M=this,this.F=null}L(_e,ht),_e.prototype[me]=!0,_e.prototype.removeEventListener=function(c,g,v,S){Ks(this,c,g,v,S)};function Ie(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new lt(g,c);else if(g instanceof lt)g.target=g.target||c;else{var B=g;g=new lt(S,c),D(g,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var it=g.g=v[G];B=gi(it,S,!0,g)&&B}if(it=g.g=c,B=gi(it,S,!0,g)&&B,B=gi(it,S,!1,g)&&B,v)for(G=0;G<v.length;G++)it=g.g=v[G],B=gi(it,S,!1,g)&&B}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)$t(v[S]);delete c.g[g],c.h--}}this.F=null},_e.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},_e.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function gi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var it=g[G];if(it&&!it.da&&it.capture==v){var Lt=it.listener,Te=it.ha||it.src;it.fa&&mi(c.i,it),B=Lt.call(Te,S)!==!1&&B}}return B&&!S.defaultPrevented}function Zl(c,g,v){if(typeof c=="function")v&&(c=x(c,v));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function mo(c){c.g=Zl(()=>{c.g=null,c.i&&(c.i=!1,mo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Rh extends ht{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){ht.call(this),this.h=c,this.g={}}L(as,ht);var nr=[];function Fe(c){dt(c.g,function(g,v){this.g.hasOwnProperty(v)&&ss(g)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),Fe(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=m.JSON.stringify,Fn=m.JSON.parse,Ze=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function go(){}go.prototype.h=null;function Jl(c){return c.h||(c.h=c.i())}function tu(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){lt.call(this,"d")}L(ir,lt);function Pn(){lt.call(this,"c")}L(Pn,lt);var En={},rr=null;function Xs(){return rr=rr||new _e}En.La="serverreachability";function yo(c){lt.call(this,En.La,c)}L(yo,lt);function sr(c){const g=Xs();Ie(g,new yo(g))}En.STAT_EVENT="statevent";function Ws(c,g){lt.call(this,En.STAT_EVENT,c),this.stat=g}L(Ws,lt);function he(c){const g=Xs();Ie(g,new Ws(g,c))}En.Ma="timingevent";function eu(c,g){lt.call(this,En.Ma,c),this.size=g}L(eu,lt);function ar(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function nu(c,g,v,S,B,G){c.info(function(){if(c.g)if(G)for(var it="",Lt=G.split("&"),Te=0;Te<Lt.length;Te++){var Ut=Lt[Te].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var Se=Ne.split("_");it=2<=Se.length&&Se[1]=="type"?it+(Ne+"="+Ut+"&"):it+(Ne+"=redacted&")}}else it=null;else it=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+v+`
`+it})}function iu(c,g,v,S,B,G,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+v+`
`+G+" "+it})}function lr(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ce(c,v)+(S?" "+S:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}or.prototype.info=function(){};function Ce(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var it=1;it<B.length;it++)B[it]=""}}}}return po(v)}catch{return g}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},os;function Zs(){}L(Zs,go),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},os=new Zs;function $n(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vo}function vo(){this.i=null,this.g="",this.h=!1}var ur={},ls={};function Ln(c,g,v){c.L=1,c.v=hs(oe(g)),c.m=v,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),ne(c),c.A=oe(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ti(v.i,"t",S),c.C=0,v=c.j.J,c.h=new vo,c.g=yu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Rh(x(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(nr[0]=B.toString()),B=nr);for(var G=0;G<B.length;G++){var it=pi(v,B[G],S||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),sr(),nu(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const g=this.M;g&&wn(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const Se=wn(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Se!=4||g==7||(g==8||0>=wi?sr(3):sr(2)),Js(this);var v=this.g.Z();this.X=v;e:if(cr(this)){var S=uu(this.g);c="";var B=S.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),hn(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,iu(this.i,this.u,this.A,this.l,this.R,Se,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Te=this.g;if((Lt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Lt)){var Ut=Lt;break e}}Ut=null}if(v=Ut)lr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,v);else{this.o=!1,this.s=3,he(12),sn(this),hn(this);break t}}if(this.P){v=!0;let Pe;for(;!this.J&&this.C<it.length;)if(Pe=hr(this,it),Pe==ls){Se==4&&(this.s=4,he(14),v=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==ur){this.s=4,he(15),lr(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else lr(this.i,this.l,Pe,null),fn(this,Pe);if(cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||it.length!=0||this.h.h||(this.s=1,he(16),v=!1),this.o=this.o&&v,!v)lr(this.i,this.l,it,"[Invalid Chunked Response]"),sn(this),hn(this);else if(0<it.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),vs(Ne),Ne.M=!0,he(11))}}else lr(this.i,this.l,it,null),fn(this,it);Se==4&&sn(this),this.o&&!this.J&&(Se==4?mu(this.j,this):(this.o=!1,ne(this)))}else Mh(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),sn(this),hn(this)}}}catch{}finally{}};function cr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?ls:(v=Number(g.substring(v,S)),isNaN(v)?ur:(S+=1,S+v>g.length?ls:(g=g.slice(S,S+v),c.C=S+v,g)))}$n.prototype.cancel=function(){this.J=!0,sn(this)};function ne(c){c.S=Date.now()+c.I,_o(c,c.I)}function _o(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ar(x(c.ba,c),g)}function Js(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(sr(),he(17)),sn(this),this.s=2,hn(this)):_o(this,this.S-c)};function hn(c){c.j.G==0||c.J||mu(c.j,c)}function sn(c){Js(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fe(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function fn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||fr(v.h,c))){if(!c.K&&fr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ua(v),oa(v);else break t;Do(v),he(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=ar(x(v.Za,v),6e3));if(1>=ru(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ai(v,11)}else if((c.K||v.g==c)&&ua(v),!X(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Ut=B[g];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Se=Ut[4];Se!=null&&(v.Aa=Se,v.j.info("SVER="+v.Aa));const wi=Ut[5];wi!=null&&typeof wi=="number"&&0<wi&&(S=1.5*wi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Pe=c.g;if(Pe){const ti=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var G=S.h;G.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(dr(G,G.h),G.h=null))}if(S.D){const Oo=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(S.ya=Oo,qt(S.I,S.D,Oo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var it=c;if(S.qa=gu(S,S.J?S.ia:null,S.W),it.K){Tn(S.h,it);var Lt=it,Te=S.L;Te&&(Lt.I=Te),Lt.B&&(Js(Lt),ne(Lt)),S.g=it}else fu(S);0<v.i.length&&la(v)}else Ut[0]!="stop"&&Ut[0]!="close"||Ai(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ai(v,7):Io(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}sr(4)}catch{}}var Ih=class{constructor(c,g){this.g=c,this.map=g}};function Eo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function To(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ru(c){return c.h?1:c.g?c.g.size:0}function fr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function dr(c,g){c.g?c.g.add(g):c.h=g}function Tn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Eo.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Je(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Q(c.i)}function su(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function Ch(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function us(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Ch(c),S=su(c),B=S.length,G=0;G<B;G++)g.call(void 0,S[G],v&&v[G],c)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var G=c[v].substring(0,S);B=c[v].substring(S+1)}else G=c[v];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,mr(this,c.j),this.o=c.o,this.g=c.g,cs(this,c.s),this.l=c.l;var g=c.i,v=new Kn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ea(this,v),this.m=c.m}else c&&(g=String(c).match(So))?(this.h=!1,mr(this,g[1]||"",!0),this.o=pr(g[2]||""),this.g=pr(g[3]||"",!0),cs(this,g[4]),this.l=pr(g[5]||"",!0),ea(this,g[6]||"",!0),this.m=pr(g[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}_i.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Sn(g,bo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Sn(g,bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sn(v,v.charAt(0)=="/"?Ao:au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sn(v,Oh)),c.join("")};function oe(c){return new _i(c)}function mr(c,g,v){c.j=v?pr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function cs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ea(c,g,v){g instanceof Kn?(c.i=g,wo(c.i,c.h)):(v||(g=Sn(g,Nh)),c.i=new Kn(g,c.h))}function qt(c,g,v){c.i.set(g,v)}function hs(c){return qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Dh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bo=/[#\/\?@]/g,au=/[#\?:]/g,Ao=/[#\?]/g,Nh=/[#\?@]/g,Oh=/#/g;function Kn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&ta(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Kn.prototype,r.add=function(c,g){bn(this),this.i=null,c=Si(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function na(c,g){bn(c),g=Si(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ei(c,g){return bn(c),g=Si(c,g),c.g.has(g)}r.forEach=function(c,g){bn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(g,B,S,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const B=c[S];for(let G=0;G<B.length;G++)v.push(g[S])}return v},r.V=function(c){bn(this);let g=[];if(typeof c=="string")Ei(this,c)&&(g=g.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return bn(this),this.i=null,c=Si(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ti(c,g,v){na(c,g),0<v.length&&(c.i=null,c.g.set(Si(c,g),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),it=this.V(S);for(S=0;S<it.length;S++){var B=G;it[S]!==""&&(B+="="+encodeURIComponent(String(it[S]))),c.push(B)}}return this.i=c.join("&")};function Si(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function wo(c,g){g&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(na(this,S),Ti(this,B,v))},c)),c.j=g}function ou(c,g){const v=new or;if(m.Image){const S=new Image;S.onload=V(An,v,"TestLoadImage: loaded",!0,g,S),S.onerror=V(An,v,"TestLoadImage: error",!1,g,S),S.onabort=V(An,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=V(An,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function fs(c,g){const v=new or,S=new AbortController,B=setTimeout(()=>{S.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function ds(){this.g=new Ze}function Yn(c,g,v){const S=v||"";try{us(c,function(B,G){let it=B;y(B)&&(it=po(B)),g.push(S+G+"="+encodeURIComponent(it))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(gr,go),gr.prototype.g=function(){return new bi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function bi(c,g){_e.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(bi,_e),r=bi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xn(this):Wn(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ro(c){let g="";return dt(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function De(c,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Ro(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qt(c,g,v))}function Gt(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Gt,_e);var ia=/^https?$/i,ms=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():os.g(),this.v=this.o?Jl(this.o):Jl(os),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){lu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,g,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of v)this.g.setRequestHeader(G,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){lu(this,G)}};function lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ra(c),Zn(c)}function ra(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ie(this,"complete"),Ie(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Zl(c.Ea,0,c);else if(Ie(c,"readystatechange"),wn(c)==4){c.h=!1;try{const it=c.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=it===0){var B=String(c.D).match(So)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ia.test(B?B.toLowerCase():"")}v=S}if(v)Ie(c,"complete"),Ie(c,"success");else{c.m=6;try{var G=2<wn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ra(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){ps(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ie(c,"ready");try{v.onreadystatechange=S}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Fn(g)}};function uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mh(c){const g={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var v=M(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[B]||[];g[B]=G,G.push(v)}O(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function aa(c){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){he(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=gu(this,null,this.W),la(this)};function Io(c){if(cu(c),c.G==3){var g=c.U++,v=oe(c.I);if(qt(v,"SID",c.K),qt(v,"RID",g),qt(v,"TYPE","terminate"),ys(c,v),g=new $n(c,c.j,g),g.L=2,g.v=hs(oe(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=yu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ne(g)}pu(c)}function oa(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function cu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!To(c.h)&&!c.s){c.s=!0;var g=c.Ga;at||N(),ot||(at(),ot=!0),Ct.add(g,c),c.B=0}}function Vh(c,g){return ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ar(x(c.Ga,c,g),No(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new $n(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=hu(this,B,g),v=oe(this.I),qt(v,"RID",c),qt(v,"CVER",22),this.D&&qt(v,"X-HTTP-Session-Id",this.D),ys(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Ro(G)))+"&"+g:this.m&&De(v,this.m,G)),dr(this.h,B),this.Ua&&qt(v,"TYPE","init"),this.P?(qt(v,"$req",g),qt(v,"SID","null"),B.T=!0,Ln(B,v,null)):Ln(B,v,g),this.G=2}}else this.G==3&&(c?Co(this,c):this.i.length==0||To(this.h)||Co(this))};function Co(c,g){var v;g?v=g.l:v=c.U++;const S=oe(c.I);qt(S,"SID",c.K),qt(S,"RID",v),qt(S,"AID",c.T),ys(c,S),c.m&&c.o&&De(S,c.m,c.o),v=new $n(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dr(c.h,v),Ln(v,S,g)}function ys(c,g){c.H&&dt(c.H,function(v,S){qt(g,S,v)}),c.l&&us({},function(v,S){qt(g,S,v)})}function hu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?x(c.l.Na,c.l,c):null;t:{var B=c.i;let G=-1;for(;;){const it=["count="+v];G==-1?0<v?(G=B[0].g,it.push("ofs="+G)):G=0:it.push("ofs="+G);let Lt=!0;for(let Te=0;Te<v;Te++){let Ut=B[Te].g;const Ne=B[Te].map;if(Ut-=G,0>Ut)G=Math.max(0,B[Te].g-100),Lt=!1;else try{Yn(Ne,it,"req"+Ut+"_")}catch{S&&S(Ne)}}if(Lt){S=it.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,S}function fu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;at||N(),ot||(at(),ot=!0),Ct.add(g,c),c.v=0}}function Do(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ar(x(c.Fa,c),No(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ar(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),oa(this),du(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function du(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=oe(c.qa);qt(g,"RID","rpc"),qt(g,"SID",c.K),qt(g,"AID",c.T),qt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&qt(g,"TO",c.ja),qt(g,"TYPE","xmlhttp"),ys(c,g),c.m&&c.o&&De(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=hs(oe(g)),v.m=null,v.P=!0,vi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Do(this),he(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function mu(c,g){var v=null;if(c.g==g){ua(c),vs(c),c.g=null;var S=2}else if(fr(c.h,g))v=g.D,Tn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=Xs(),Ie(S,new eu(S,v)),la(c)}else fu(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&Vh(c,g)||S==2&&Do(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function No(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ai(c,g){if(c.j.info("Error code "+g),g==2){var v=x(c.fb,c),S=c.Xa;const B=!S;S=new _i(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||mr(S,"https"),hs(S),B?ou(S.toString(),v):fs(S.toString(),v)}else he(2);c.G=0,c.l&&c.l.sa(g),pu(c),cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const g=Je(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function gu(c,g,v){var S=v instanceof _i?oe(v):new _i(v);if(S.g!="")g&&(S.g=g+"."+S.g),cs(S,S.s);else{var B=m.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new _i(null);S&&mr(G,S),g&&(G.g=g),B&&cs(G,B),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&qt(S,v,g),qt(S,"VER",c.la),ys(c,S),S}function yu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Gt(new gr({eb:v})):new Gt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){_e.call(this),this.g=new aa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!X(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}L(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Io(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=po(c),c=v);g.i.push(new Ih(g.Ya++,c)),g.G==3&&la(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,tn.aa.N.call(this)};function _u(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(_u,ir);function Eu(){Pn.call(this),this.status=1}L(Eu,Pn);function Jn(c){this.g=c}L(Jn,vu),Jn.prototype.ua=function(){Ie(this.g,"a")},Jn.prototype.ta=function(c){Ie(this.g,new _u(c))},Jn.prototype.sa=function(c){Ie(this.g,new Eu)},Jn.prototype.ra=function(){Ie(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,O0=function(){return new ca},N0=function(){return Xs()},D0=En,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Rc=Ee,yi.COMPLETE="complete",C0=yi,tu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Tl=tu,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,I0=Gt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Cm("@firebase/firestore");function ja(){return qs.logLevel}function ct(r,...t){if(qs.logLevel<=Mt.DEBUG){const n=t.map(Om);qs.debug(`Firestore (${ao}): ${r}`,...n)}}function Ki(r,...t){if(qs.logLevel<=Mt.ERROR){const n=t.map(Om);qs.error(`Firestore (${ao}): ${r}`,...n)}}function Ya(r,...t){if(qs.logLevel<=Mt.WARN){const n=t.map(Om);qs.warn(`Firestore (${ao}): ${r}`,...n)}}function Om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r="Unexpected state"){const t=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw Ki(t),new Error(t)}function Qt(r,t){r||St()}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class Ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string"),new M0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string"),new Ke(t)}}class Vw{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kw{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Vw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Qt(this.o===void 0);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string"),this.R=n.token,new Pw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const o=Uw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%t.length))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function Xa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(t){return xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new xe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new xe(0,0))}static max(){return new bt(new xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(),s===void 0?s=t.length-n:s>t.length-n&&St(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Nl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nl?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=t.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class te extends Nl{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Nl{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qe(["__name__"])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new yt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(te.fromString(t))}static fromName(t){return new vt(te.fromString(t).popFirst(5))}static empty(){return new vt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new te(t.slice()))}}function zw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new xe(n+1,0):new xe(n,s));return new Xr(o,vt.empty(),t)}function Bw(r){return new Xr(r.readTime,r.key,-1)}class Xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(bt.min(),vt.empty(),-1)}static max(){return new Xr(bt.max(),vt.empty(),-1)}}function qw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==Hw)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,s)=>{n(t)})}static reject(t){return new Z((n,s)=>{s(t)})}static waitFor(t){return new Z((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Z((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new Z((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function Gw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}rh.oe=-1;function sh(r){return r==null}function Bc(r){return r===0&&1/r==-1/0}function Qw(r){return typeof r=="number"&&Number.isInteger(r)&&!Bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Wv(t)),t=Kw(r.get(n),t);return Wv(t)}function Kw(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Wv(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function k0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new vn([])}unionWith(t){let n=new Re(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P0("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const Yw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Qt(!!r),typeof r=="string"){let t=0;const n=Yw.exec(r);if(Qt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ah(r){const t=r.mapValue.fields.__previous_value__;return Mm(t)?ah(t):t}function Ol(r){const t=Wr(r.mapValue.fields.__local_write_time__.timestampValue);return new xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class Ml{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:Zw(r)?9007199254740991:Ww(r)?10:11:St()}function hi(r,t){if(r===t)return!0;const n=Jr(r);if(n!==Jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),m=Wr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Zr(o.bytesValue).isEqual(Zr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?Bc(f)===Bc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Zv(f)!==Zv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,t);default:return St()}}function Vl(r,t){return(r.values||[]).find(n=>hi(n,t))!==void 0}function Wa(r,t){if(r===t)return 0;const n=Jr(r),s=Jr(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return t_(r.timestampValue,t.timestampValue);case 4:return t_(Ol(r),Ol(t));case 5:return Pt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Zr(u),p=Zr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pt(m[y],p[y]);if(E!==0)return E}return Pt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Pt(de(u.latitude),de(f.latitude));return m!==0?m:Pt(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return e_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},x=f.fields||{},V=(m=w.value)===null||m===void 0?void 0:m.arrayValue,L=(p=x.value)===null||p===void 0?void 0:p.arrayValue,Q=Pt(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:e_(V,L)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const x=Pt(p[w],E[w]);if(x!==0)return x;const V=Wa(m[p[w]],y[E[w]]);if(V!==0)return V}return Pt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw St()}}function t_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Wr(r),s=Wr(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function e_(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Wa(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Za(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return vt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=nm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${nm(n.fields[f])}`;return o+"}"}(r.mapValue):St()}function Ic(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ic(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+Ic(f)}),o}(r.mapValue);default:throw St()}}function im(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function n_(r){return!!r&&"nullValue"in r}function i_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function Ww(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Al(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Al(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Zw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Cc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Al(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){is(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new ln(Al(this.value))}}function L0(r){const t=[];return is(r.fields,(n,s)=>{const o=new qe([n]);if(Cc(s)){const u=L0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,bt.min(),bt.min(),bt.min(),ln.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,bt.min(),bt.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,bt.min(),bt.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n){this.position=t,this.inclusive=n}}function r_(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function s_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n="asc"){this.field=t,this.dir=n}}function Jw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class we extends U0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new e2(t,n,s):n==="array-contains"?new r2(t,s):n==="in"?new s2(t,s):n==="not-in"?new a2(t,s):n==="array-contains-any"?new o2(t,s):new we(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new n2(t,s):new i2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends U0{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new fi(t,n)}matches(t){return j0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function j0(r){return r.op==="and"}function z0(r){return t2(r)&&j0(r)}function t2(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function rm(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(z0(r))return r.filters.map(t=>rm(t)).join(",");{const t=r.filters.map(n=>rm(n)).join(",");return`${r.op}(${t})`}}function B0(r,t){return r instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,t):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&B0(f,o.filters[m]),!0):!1}(r,t):void St()}function q0(r){return r instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(r):"Filter"}class e2 extends we{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class n2 extends we{constructor(t,n){super(t,"in",n),this.keys=H0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class i2 extends we{constructor(t,n){super(t,"not-in",n),this.keys=H0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function H0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>vt.fromName(s.referenceValue))}class r2 extends we{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Vm(n)&&Vl(n.arrayValue,this.value)}}class s2 extends we{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Vl(this.value.arrayValue,n)}}class a2 extends we{constructor(t,n){super(t,"not-in",n)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Vl(this.value.arrayValue,n)}}class o2 extends we{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function a_(r,t=null,n=[],s=[],o=null,u=null,f=null){return new l2(r,t,n,s,o,u,f)}function km(r){const t=wt(r);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>rm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Za(s)).join(",")),t.ue=n}return t.ue}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Jw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!B0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!s_(r.startAt,t.startAt)&&s_(r.endAt,t.endAt)}function sm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function u2(r,t,n,s,o,u,f,m){return new oh(r,t,n,s,o,u,f,m)}function Lm(r){return new oh(r)}function o_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function c2(r){return r.collectionGroup!==null}function wl(r){const t=wt(r);if(t.ce===null){t.ce=[];const n=new Set;for(const u of t.explicitOrderBy)t.ce.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.ce.push(new Hc(u,s))}),n.has(qe.keyField().canonicalString())||t.ce.push(new Hc(qe.keyField(),s))}return t.ce}function ai(r){const t=wt(r);return t.le||(t.le=h2(t,wl(r))),t.le}function h2(r,t){if(r.limitType==="F")return a_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Hc(o.field,u)});const n=r.endAt?new qc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qc(r.startAt.position,r.startAt.inclusive):null;return a_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function am(r,t,n){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function lh(r,t){return Pm(ai(r),ai(t))&&r.limitType===t.limitType}function F0(r){return`${km(ai(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>q0(o)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function uh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=r_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,wl(s),o)||s.endAt&&!function(f,m,p){const y=r_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,wl(s),o))}(r,t)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G0(r){return(t,n)=>{let s=!1;for(const o of wl(r)){const u=d2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function d2(r,t,n){const s=r.field.isKeyField()?vt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Wa(p,y):St()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new se(vt.comparator);function Yi(){return m2}const Q0=new se(vt.comparator);function Sl(...r){let t=Q0;for(const n of r)t=t.insert(n.key,n);return t}function $0(r){let t=Q0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Us(){return xl()}function K0(){return xl()}function xl(){return new Gs(r=>r.toString(),(r,t)=>r.isEqual(t))}const p2=new se(vt.comparator),g2=new Re(vt.comparator);function Vt(...r){let t=g2;for(const n of r)t=t.add(n);return t}const y2=new Re(Pt);function v2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function Y0(r){return{integerValue:""+r}}function _2(r,t){return Qw(t)?Y0(t):Um(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function E2(r,t,n){return r instanceof kl?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mm(u)&&(u=ah(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,t):r instanceof Pl?W0(r,t):r instanceof Ll?Z0(r,t):function(o,u){const f=X0(o,u),m=l_(f)+l_(o.Pe);return im(f)&&im(o.Pe)?Y0(m):Um(o.serializer,m)}(r,t)}function T2(r,t,n){return r instanceof Pl?W0(r,t):r instanceof Ll?Z0(r,t):n}function X0(r,t){return r instanceof Fc?function(s){return im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class kl extends ch{}class Pl extends ch{constructor(t){super(),this.elements=t}}function W0(r,t){const n=J0(t);for(const s of r.elements)n.some(o=>hi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ll extends ch{constructor(t){super(),this.elements=t}}function Z0(r,t){let n=J0(t);for(const s of r.elements)n=n.filter(o=>!hi(o,s));return{arrayValue:{values:n}}}class Fc extends ch{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function l_(r){return de(r.integerValue||r.doubleValue)}function J0(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n){this.field=t,this.transform=n}}function b2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Pl&&o instanceof Pl||s instanceof Ll&&o instanceof Ll?Xa(s.elements,o.elements,hi):s instanceof Fc&&o instanceof Fc?hi(s.Pe,o.Pe):s instanceof kl&&o instanceof kl}(r.transform,t.transform)}class A2{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class hh{}function t1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new n1(r.key,oi.none()):new Fl(r.key,r.data,oi.none());{const n=r.data,s=ln.empty();let o=new Re(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(r.key,s,new vn(o.toArray()),oi.none())}}function w2(r,t,n){r instanceof Fl?function(o,u,f){const m=o.value.clone(),p=c_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof rs?function(o,u,f){if(!Dc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=c_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(e1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Rl(r,t,n,s){return r instanceof Fl?function(u,f,m,p){if(!Dc(u.precondition,f))return m;const y=u.value.clone(),E=h_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof rs?function(u,f,m,p){if(!Dc(u.precondition,f))return m;const y=h_(u.fieldTransforms,p,f),E=f.data;return E.setAll(e1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(u,f,m){return Dc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function x2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=X0(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function u_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>b2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends hh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends hh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function e1(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function c_(r,t,n){const s=new Map;Qt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,T2(f,m,n[o]))}return s}function h_(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,E2(u,f,t))}return s}class n1 extends hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&w2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Rl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Rl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=K0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=t1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,(n,s)=>u_(n,s))&&Xa(this.baseMutations,t.baseMutations,(n,s)=>u_(n,s))}}class jm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Qt(t.mutations.length===s.length);let o=function(){return p2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,zt;function N2(r){switch(r){default:return St();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function i1(r){if(r===void 0)return Ki("GRPC error has no .code"),nt.UNKNOWN;switch(r){case ve.OK:return nt.OK;case ve.CANCELLED:return nt.CANCELLED;case ve.UNKNOWN:return nt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return nt.INTERNAL;case ve.UNAVAILABLE:return nt.UNAVAILABLE;case ve.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ve.NOT_FOUND:return nt.NOT_FOUND;case ve.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ve.ABORTED:return nt.ABORTED;case ve.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ve.DATA_LOSS:return nt.DATA_LOSS;default:return St()}}(zt=ve||(ve={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new zs([4294967295,4294967295],0);function f_(r){const t=O2().encode(r),n=new R0;return n.update(t),new Uint8Array(n.digest())}function d_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new zs([n,s],0),new zs([o,u],0)]}class zm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ie=zs.fromNumber(this.Te)}Ee(t,n,s){let o=t.add(n.multiply(zs.fromNumber(s)));return o.compare(M2)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=f_(t),[s,o]=d_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);if(!this.de(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new zm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Te===0)return;const n=f_(t),[s,o]=d_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);this.Ae(f)}}Ae(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new fh(bt.min(),o,new se(Pt),Yi(),Vt())}}class Gl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Gl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,s,o){this.Re=t,this.removedTargetIds=n,this.key=s,this.Ve=o}}class r1{constructor(t,n){this.targetId=t,this.me=n}}class s1{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class m_{constructor(){this.fe=0,this.ge=p_(),this.pe=He.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Vt(),n=Vt(),s=Vt();return this.ge.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St()}}),new Gl(this.pe,this.ye,t,n,s)}Ce(){this.we=!1,this.ge=p_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class V2{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yi(),this.qe=Sc(),this.Qe=Sc(),this.Ke=new se(Pt)}$e(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(n,t.Ve):this.We(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.We(n,t.key,t.Ve)}Ge(t){this.forEachTarget(t,n=>{const s=this.ze(n);switch(t.state){case 0:this.je(n)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(t.resumeToken));break;default:St()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((s,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,s=t.me.count,o=this.Ye(n);if(o){const u=o.target;if(sm(u))if(s===0){const f=new vt(u.path);this.We(n,f,Ye.newNoDocument(f,bt.min()))}else Qt(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(t),p=m?this.et(m,t,f):1;if(p!==0){this.He(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(p){if(p instanceof P0)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zm(f,o,u)}catch(p){return Ya(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Te===0?null:m}et(t,n,s){return n.me.count===s-this.rt(t,n.targetId)?0:2}rt(t,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.We(n,u,null),o++)}),o}it(t){const n=new Map;this.Be.forEach((u,f)=>{const m=this.Ye(f);if(m){if(u.current&&sm(m.target)){const p=new vt(m.target.path);this.st(p).has(f)||this.ot(f,p)||this.We(f,p,Ye.newNoDocument(p,t))}u.be&&(n.set(f,u.ve()),u.Ce())}});let s=Vt();this.Qe.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,f)=>f.setReadTime(t));const o=new fh(t,n,this.Ke,this.ke,s);return this.ke=Yi(),this.qe=Sc(),this.Qe=Sc(),this.Ke=new se(Pt),o}Ue(t,n){if(!this.je(t))return;const s=this.ot(t,n.key)?2:0;this.ze(t).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(t))}We(t,n,s){if(!this.je(t))return;const o=this.ze(t);this.ot(t,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(t)),this.Qe=this.Qe.insert(n,this._t(n).add(t)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(t){this.Be.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let n=this.Be.get(t);return n||(n=new m_,this.Be.set(t,n)),n}_t(t){let n=this.Qe.get(t);return n||(n=new Re(Pt),this.Qe=this.Qe.insert(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Re(Pt),this.qe=this.qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new m_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}ot(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Sc(){return new se(vt.comparator)}function p_(){return new se(vt.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},P2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class U2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function om(r,t){return r.useProto3Json||sh(t)?t:{value:t}}function Gc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function j2(r,t){return Gc(r,t.toTimestamp())}function li(r){return Qt(!!r),bt.fromTimestamp(function(n){const s=Wr(n);return new xe(s.seconds,s.nanos)}(r))}function Bm(r,t){return lm(r,t).canonicalString()}function lm(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function o1(r){const t=te.fromString(r);return Qt(f1(t)),t}function um(r,t){return Bm(r.databaseId,t.path)}function Bd(r,t){const n=o1(t);if(n.get(1)!==r.databaseId.projectId)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(u1(n))}function l1(r,t){return Bm(r.databaseId,t)}function z2(r){const t=o1(r);return t.length===4?te.emptyPath():u1(t)}function cm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function u1(r){return Qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function g_(r,t,n){return{name:um(r,t),fields:n.value.mapValue.fields}}function B2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string"),He.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?nt.UNKNOWN:i1(y.code);return new yt(E,y.message||"")}(f);n=new s1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):bt.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Nc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Bd(r,s.document),u=s.readTime?li(s.readTime):bt.min(),f=Ye.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Bd(r,s.document),u=s.removedTargetIds||[];n=new Nc([],u,o,null)}else{if(!("filter"in t))return St();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new D2(o,u),m=s.targetId;n=new r1(m,f)}}return n}function q2(r,t){let n;if(t instanceof Fl)n={update:g_(r,t.key,t.value)};else if(t instanceof n1)n={delete:um(r,t.key)};else if(t instanceof rs)n={update:g_(r,t.key,t.data),updateMask:W2(t.fieldMask)};else{if(!(t instanceof R2))return St();n={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw St()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:j2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St()}(r,t.precondition)),n}function H2(r,t){return r&&r.length>0?(Qt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(bt.min())&&(f=li(u)),new A2(f,o.transformResults||[])}(n,t))):[]}function F2(r,t){return{documents:[l1(r,t.path)]}}function G2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=l1(r,o);const u=function(y){if(y.length!==0)return h1(fi.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(x){return{field:Ba(x.field),direction:K2(x.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=om(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ct:n,parent:o}}function Q2(r){let t=z2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qt(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(w){const x=c1(w);return x instanceof fi&&z0(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(x=>function(L){return new Hc(qa(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(w){let x;return x=typeof w=="object"?w.value:w,sh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(w){const x=!!w.before,V=w.values||[];return new qc(V,x)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const x=!w.before,V=w.values||[];return new qc(V,x)}(n.endAt)),u2(t,o,f,u,m,"F",p,y)}function $2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function c1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return we.create(f,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(r):r.fieldFilter!==void 0?function(n){return we.create(qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>c1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St()}}(n.compositeFilter.op))}(r):St()}function K2(r){return k2[r]}function Y2(r){return P2[r]}function X2(r){return L2[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return qe.fromServerFormat(r.fieldPath)}function h1(r){return r instanceof we?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(n_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(n_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:Y2(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(o=>h1(o));return s.length===1?s[0]:{compositeFilter:{op:X2(n.op),filters:s}}}(r):St()}function W2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function f1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.ht=t}}function J2(r){const t=Q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.ln=new ex}addToCollectionParentIndex(t,n){return this.ln.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.ln.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Xr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class ex{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Ja(0)}static Qn(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class nx{constructor(t){this.Gn=t,this.buffer=new Re(v_),this.zn=0}jn(){return++this.zn}Hn(t){const n=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();v_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ix{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){ct("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Yn(3e5)})}}class rx{constructor(t,n){this.Zn=t,this.params=n}calculateTargetCount(t,n){return this.Zn.Xn(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(rh.oe);const s=new nx(n);return this.Zn.forEachTarget(t,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(t,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Zn.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Zn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(y_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.tr(t,n))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(t,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(y=Date.now(),ja()<=Mt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function sx(r,t){return new rx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.changes=new Gs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Rl(s.mutation,o,vn.empty(),xe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=Us();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Sl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Us();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Yi();const f=xl(),m=function(){return xl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Rl(E.mutation,y,E.mutation.getFieldMask(),xe.now())):f.set(y.key,vn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new ox(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(t,n){const s=xl();let o=new se((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=K0();E.forEach(x=>{if(!u.has(x)){const V=t1(n.get(x),s.get(x));V!==null&&w.set(x,V),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,w))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):c2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(Us());let m=-1,p=u;return f.next(y=>Z.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(x=>{p=p.insert(E,x)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Vt())).next(E=>({batchId:m,changes:$0(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(s=>{let o=Sl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Sl();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,p=>{const y=function(w,x){return new oh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((w,x)=>{f=f.insert(w,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let m=Sl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Rl(E.mutation,y,vn.empty(),xe.now()),uh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,n){return Z.resolve(this.Tr.get(n))}saveBundleMetadata(t,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Ir.get(n))}saveNamedQuery(t,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:J2(o.bundledQuery),readTime:li(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.overlays=new se(vt.comparator),this.Er=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Us();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Tt(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=Us(),u=n.length+1,f=new vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new se((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Us(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Us(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}Tt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new C2(n,s));let u=this.Er.get(n);u===void 0&&(u=Vt(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.dr=new Re(ke.Ar),this.Rr=new Re(ke.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.gr(new ke(t,n))}pr(t,n){t.forEach(s=>this.removeReference(s,n))}yr(t){const n=new vt(new te([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Rr.forEachInRange([s,o],f=>{this.gr(f),u.push(f.key)}),u}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const n=new vt(new te([])),s=new ke(n,t),o=new ke(n,t+1);let u=Vt();return this.Rr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new ke(t,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.br=n}static Ar(t,n){return vt.comparator(t.key,n.key)||Pt(t.br,n.br)}static Vr(t,n){return Pt(t.br,n.br)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Re(ke.Ar)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new I2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.vr=this.vr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Fr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],f=>{const m=this.Cr(f.br);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Pt);return n.forEach(o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,f],m=>{s=s.add(m.br)})}),Z.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new vt(u),0);let m=new Re(Pt);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.br)),!0)},f),Z.resolve(this.Mr(m))}Mr(t){const n=[];return t.forEach(s=>{const o=this.Cr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Qt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Z.forEach(n.mutations,o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.vr=s})}Ln(t){}containsKey(t,n){const s=new ke(n,0),o=this.vr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Or(t,n){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const n=this.Fr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.Nr=t,this.docs=function(){return new se(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Yi();const f=n.path,m=new vt(f.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||qw(Bw(E),s)<=0||(o.has(E.key)||uh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St()}Lr(t,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new mx(this)}getSize(t){return Z.resolve(this.size)}}class mx extends ax{constructor(t){super(),this.hr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(t,o)):this.hr.removeEntry(s)}),Z.waitFor(n)}getFromCache(t,n){return this.hr.getEntry(t,n)}getAllFromCache(t,n){return this.hr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.persistence=t,this.Br=new Gs(n=>km(n),Pm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.kr=0,this.qr=new qm,this.targetCount=0,this.Qr=Ja.qn()}forEachTarget(t,n){return this.Br.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),Z.resolve()}Un(t){this.Br.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Qr=new Ja(n),this.highestTargetId=n),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,n){return this.Un(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Un(n),Z.resolve()}removeTargetData(t,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.Br.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.qr.mr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.qr.pr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.qr.yr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.qr.Sr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.Kr={},this.overlays={},this.$r=new rh(0),this.Ur=!1,this.Ur=!0,this.Wr=new hx,this.referenceDelegate=t(this),this.Gr=new px(this),this.indexManager=new tx,this.remoteDocumentCache=function(o){return new dx(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new Z2(n),this.jr=new ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Kr[t.toKey()];return s||(s=new fx(n,this.referenceDelegate),this.Kr[t.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new gx(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(t,n){return Z.or(Object.values(this.Kr).map(s=>()=>s.containsKey(t,n)))}}class gx extends Fw{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Zr=new qm,this.Xr=null}static ei(t){return new Hm(t)}get ti(){if(this.Xr)return this.Xr;throw St()}addReference(t,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.ti.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Hr(){this.Xr=new Set}Jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,s=>{const o=vt.fromPath(s);return this.ni(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.Xr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ni(t,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(t){return 0}ni(t,n){return Z.or([()=>Z.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Yr(t,n)])}}class Qc{constructor(t,n){this.persistence=t,this.ri=new Gs(s=>$w(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sx(this,n)}static ei(t,n){return new Qc(t,n)}Hr(){}Jr(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}Xn(t){const n=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}nr(t){let n=0;return this.er(t,s=>{n++}).next(()=>n)}er(t,n){return Z.forEach(this.ri,(s,o)=>this.ir(t,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(t,f=>this.ir(t,f,n).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.ri.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.ri.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.ri.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.ri.set(n,t.currentSequenceNumber),Z.resolve()}zr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ic(t.data.value)),n}ir(t,n,s){return Z.or([()=>this.persistence.Yr(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.ri.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Wi=s,this.Gi=o}static zi(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return fA()?8:Gw(Xe())>0?6:4}()}initialize(t,n){this.Zi=t,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.Xi(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.es(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new yx;return this.ts(t,n,f).next(m=>{if(u.result=m,this.Hi)return this.ns(t,n,f,m.size)})}).next(()=>u.result)}ns(t,n,s,o){return s.documentReadCount<this.Ji?(ja()<=Mt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(ja()<=Mt.DEBUG&&ct("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(ja()<=Mt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):Z.resolve())}Xi(t,n){if(o_(n))return Z.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=am(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.Zi.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.rs(n,m);return this.ss(n,y,f,p.readTime)?this.Xi(t,am(n,null,"F")):this.os(t,y,n,p)}))})))}es(t,n,s,o){return o_(n)||o.isEqual(bt.min())?Z.resolve(null):this.Zi.getDocuments(t,s).next(u=>{const f=this.rs(n,u);return this.ss(n,f,s,o)?Z.resolve(null):(ja()<=Mt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(n)),this.os(t,f,n,zw(o,-1)).next(m=>m))})}rs(t,n){let s=new Re(G0(t));return n.forEach((o,u)=>{uh(t,u)&&(s=s.add(u))}),s}ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(t,n,s){return ja()<=Mt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",za(n)),this.Zi.getDocumentsMatchingQuery(t,n,Xr.min(),s)}os(t,n,s,o){return this.Zi.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n,s,o){this.persistence=t,this._s=n,this.serializer=o,this.us=new se(Pt),this.cs=new Gs(u=>km(u),Pm),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(s)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.us))}}function Ex(r,t,n,s){return new _x(r,t,n,s)}async function m1(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ps(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:f,addedBatchIds:m}))})})}function Tx(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,x=w.keys();let V=Z.resolve();return x.forEach(L=>{V=V.next(()=>E.getEntry(p,L)).next(Q=>{const F=y.docVersions.get(L);Qt(F!==null),Q.version.compareTo(F)<0&&(w.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function p1(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Gr.getLastRemoteSnapshotVersion(n))}function Sx(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const m=[];t.targetChanges.forEach((E,w)=>{const x=o.get(w);if(!x)return;m.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,w)));let V=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?V=V.withResumeToken(He.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),function(Q,F,Y){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(x,V,E)&&m.push(n.Gr.updateTargetData(u,V))});let p=Yi(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(bx(u,f,t.documentUpdates).next(E=>{p=E.Is,y=E.Es})),!s.isEqual(bt.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(w=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.us=o,u))}function bx(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Yi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Is:f,Es:o}})}function Ax(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function wx(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Gr.getTargetData(s,t).next(u=>u?(o=u,Z.resolve(o)):n.Gr.allocateTargetId(s).next(f=>(o=new qr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(t,s.targetId)),s})}async function hm(r,t,n){const s=wt(r),o=s.us.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!lo(f))throw f;ct("LocalStore",`Failed to update sequence numbers for target ${t}: ${f}`)}s.us=s.us.remove(t),s.cs.delete(o.target)}function __(r,t,n){const s=wt(r);let o=bt.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=wt(p),x=w.cs.get(E);return x!==void 0?Z.resolve(w.us.get(x)):w.Gr.getTargetData(y,E)}(s,f,ai(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s._s.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Vt())).next(m=>(xx(s,f2(t),m),{documents:m,ds:u})))}function xx(r,t,n){let s=r.ls.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(t,s)}class E_{constructor(){this.activeTargetIds=v2()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Rx{constructor(){this._o=new E_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,n,s){this.ao[t]=n}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new E_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function qd(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class Nx extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(n,s,o,u,f){const m=qd(),p=this.No(n,s.toUriEncodedString());ct("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,u,f),this.Bo(n,p,y,o).then(E=>(ct("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw Ya("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}ko(n,s,o,u,f,m){return this.Oo(n,s,o,u,f)}Lo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,f)=>n[f]=u),o&&o.headers.forEach((u,f)=>n[f]=u)}No(n,s){const o=Cx[n];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,n,s,o){const u=qd();return new Promise((f,m)=>{const p=new I0;p.setWithCredentials(!0),p.listenOnce(C0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Rc.NO_ERROR:const E=p.getResponseJson();ct($e,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Rc.TIMEOUT:ct($e,`RPC '${t}' ${u} timed out`),m(new yt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const w=p.getStatus();if(ct($e,`RPC '${t}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const L=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(Y)>=0?Y:nt.UNKNOWN}(V.status);m(new yt(L,V.message))}else m(new yt(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new yt(nt.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{ct($e,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ct($e,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}qo(t,n,s){const o=qd(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=O0(),m=N0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ct($e,`Creating RPC '${t}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let x=!1,V=!1;const L=new Dx({Eo:F=>{V?ct($e,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(x||(ct($e,`Opening RPC '${t}' stream ${o} transport.`),w.open(),x=!0),ct($e,`RPC '${t}' stream ${o} sending:`,F),w.send(F))},Ao:()=>w.close()}),Q=(F,Y,X)=>{F.listen(Y,rt=>{try{X(rt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return Q(w,Tl.EventType.OPEN,()=>{V||(ct($e,`RPC '${t}' stream ${o} transport opened.`),L.So())}),Q(w,Tl.EventType.CLOSE,()=>{V||(V=!0,ct($e,`RPC '${t}' stream ${o} transport closed`),L.Do())}),Q(w,Tl.EventType.ERROR,F=>{V||(V=!0,Ya($e,`RPC '${t}' stream ${o} transport errored:`,F),L.Do(new yt(nt.UNAVAILABLE,"The operation could not be completed")))}),Q(w,Tl.EventType.MESSAGE,F=>{var Y;if(!V){const X=F.data[0];Qt(!!X);const rt=X,mt=(rt==null?void 0:rt.error)||((Y=rt[0])===null||Y===void 0?void 0:Y.error);if(mt){ct($e,`RPC '${t}' stream ${o} received error:`,mt);const st=mt.status;let dt=function(A){const D=ve[A];if(D!==void 0)return i1(D)}(st),O=mt.message;dt===void 0&&(dt=nt.INTERNAL,O="Unknown error status: "+st+" with message "+mt.message),V=!0,L.Do(new yt(dt,O)),w.close()}else ct($e,`RPC '${t}' stream ${o} received:`,X),L.vo(X)}}),Q(m,D0.STAT_EVENT,F=>{F.stat===em.PROXY?ct($e,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===em.NOPROXY&&ct($e,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new U2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.li=t,this.timerId=n,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,s,o,u,f,m,p){this.li=t,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new g1(t,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(n)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===n&&this.I_(s,o)},s=>{t(()=>{const o=new yt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(t,n){const s=this.T_(this.Xo);this.stream=this.d_(t,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return ct("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return n=>{this.li.enqueueAndForget(()=>this.Xo===t?n():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ox extends y1{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}d_(t,n){return this.connection.qo("Listen",t,n)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const n=B2(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?li(f.readTime):bt.min()}(t);return this.listener.R_(n,s)}V_(t){const n={};n.database=cm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=sm(p)?{documents:F2(u,p)}:{query:G2(u,p).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=a1(u,f.resumeToken);const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Gc(u,f.snapshotVersion.toTimestamp());const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=$2(this.serializer,t);s&&(n.labels=s),this.c_(n)}m_(t){const n={};n.database=cm(this.serializer),n.removeTarget=t,this.c_(n)}}class Mx extends y1{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,n){return this.connection.qo("Write",t,n)}A_(t){return Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const n=H2(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.y_(s,n)}w_(){const t={};t.database=cm(this.serializer),this.c_(t)}g_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>q2(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends class{}{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,n,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Oo(t,lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(nt.UNKNOWN,u.toString())})}ko(t,n,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(t,lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(nt.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class kx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ki(n),this.C_=!1):ct("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Qs(this)&&(ct("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.k_.add(4),await Ql(y),y.K_.set("Unknown"),y.k_.delete(4),await mh(y)}(this))})}),this.K_=new kx(s,o)}}async function mh(r){if(Qs(r))for(const t of r.q_)await t(!0)}async function Ql(r){for(const t of r.q_)await t(!1)}function v1(r,t){const n=wt(r);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),Km(n)?$m(n):uo(n).s_()&&Qm(n,t))}function Gm(r,t){const n=wt(r),s=uo(n);n.B_.delete(t),s.s_()&&_1(n,t),n.B_.size===0&&(s.s_()?s.a_():Qs(n)&&n.K_.set("Unknown"))}function Qm(r,t){if(r.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uo(r).V_(t)}function _1(r,t){r.U_.xe(t),uo(r).m_(t)}function $m(r){r.U_=new V2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>r.B_.get(t)||null,nt:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.K_.F_()}function Km(r){return Qs(r)&&!uo(r).i_()&&r.B_.size>0}function Qs(r){return wt(r).k_.size===0}function E1(r){r.U_=void 0}async function Lx(r){r.K_.set("Online")}async function Ux(r){r.B_.forEach((t,n)=>{Qm(r,t)})}async function jx(r,t){E1(r),Km(r)?(r.K_.O_(t),$m(r)):r.K_.set("Unknown")}async function zx(r,t,n){if(r.K_.set("Online"),t instanceof s1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.B_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.B_.delete(m),o.U_.removeTarget(m))}(r,t)}catch(s){ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $c(r,s)}else if(t instanceof Nc?r.U_.$e(t):t instanceof r1?r.U_.Je(t):r.U_.Ge(t),!n.isEqual(bt.min()))try{const s=await p1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.U_.it(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.B_.get(y);E&&u.B_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.B_.get(p);if(!E)return;u.B_.set(p,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),_1(u,p);const w=new qr(E.target,p,y,E.sequenceNumber);Qm(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ct("RemoteStore","Failed to raise snapshot:",s),await $c(r,s)}}async function $c(r,t,n){if(!lo(t))throw t;r.k_.add(1),await Ql(r),r.K_.set("Offline"),n||(n=()=>p1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct("RemoteStore","Retrying IndexedDB access"),await n(),r.k_.delete(1),await mh(r)})}function T1(r,t){return t().catch(n=>$c(r,n,t))}async function ph(r){const t=wt(r),n=ts(t);let s=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Bx(t);)try{const o=await Ax(t.localStore,s);if(o===null){t.L_.length===0&&n.a_();break}s=o.batchId,qx(t,o)}catch(o){await $c(t,o)}S1(t)&&b1(t)}function Bx(r){return Qs(r)&&r.L_.length<10}function qx(r,t){r.L_.push(t);const n=ts(r);n.s_()&&n.f_&&n.g_(t.mutations)}function S1(r){return Qs(r)&&!ts(r).i_()&&r.L_.length>0}function b1(r){ts(r).start()}async function Hx(r){ts(r).w_()}async function Fx(r){const t=ts(r);for(const n of r.L_)t.g_(n.mutations)}async function Gx(r,t,n){const s=r.L_.shift(),o=jm.from(s,t,n);await T1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ph(r)}async function Qx(r,t){t&&ts(r).f_&&await async function(s,o){if(function(f){return N2(f)&&f!==nt.ABORTED}(o.code)){const u=s.L_.shift();ts(s).__(),await T1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ph(s)}}(r,t),S1(r)&&b1(r)}async function S_(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const s=Qs(n);n.k_.add(3),await Ql(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await mh(n)}async function $x(r,t){const n=wt(r);t?(n.k_.delete(2),await mh(n)):t||(n.k_.add(2),await Ql(n),n.K_.set("Unknown"))}function uo(r){return r.W_||(r.W_=function(n,s,o){const u=wt(n);return u.b_(),new Ox(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:Lx.bind(null,r),mo:Ux.bind(null,r),po:jx.bind(null,r),R_:zx.bind(null,r)}),r.q_.push(async t=>{t?(r.W_.__(),Km(r)?$m(r):r.K_.set("Unknown")):(await r.W_.stop(),E1(r))})),r.W_}function ts(r){return r.G_||(r.G_=function(n,s,o){const u=wt(n);return u.b_(),new Mx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:Hx.bind(null,r),po:Qx.bind(null,r),p_:Fx.bind(null,r),y_:Gx.bind(null,r)}),r.q_.push(async t=>{t?(r.G_.__(),await ph(r)):(await r.G_.stop(),r.L_.length>0&&(ct("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Ym(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),lo(r))return new yt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Sl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.z_=new se(vt.comparator)}track(t){const n=t.doc.key,s=this.z_.get(n);s?t.type!==0&&s.type===3?this.z_=this.z_.insert(n,t):t.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.z_=this.z_.remove(n):t.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):St():this.z_=this.z_.insert(n,t)}j_(){const t=[];return this.z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class to{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new to(t,n,Fa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class Yx{constructor(){this.queries=A_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=A_(),u.forEach((f,m)=>{for(const p of m.J_)p.onError(s)})})(this,new yt(nt.ABORTED,"Firestore shutting down"))}}function A_(){return new Gs(r=>F0(r),lh)}async function Xx(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Y_()&&t.Z_()&&(s=2):(u=new Kx,s=t.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(o,!0);break;case 1:u.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xm(f,`Initialization of query '${za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.J_.push(t),t.ea(n.onlineState),u.H_&&t.ta(u.H_)&&Wm(n)}async function Wx(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.J_.indexOf(t);f>=0&&(u.J_.splice(f,1),u.J_.length===0?o=t.Z_()?0:1:!u.Y_()&&t.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Zx(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.J_)m.ta(o)&&(s=!0);f.H_=o}}s&&Wm(n)}function Jx(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.J_)u.onError(n);s.queries.delete(t)}function Wm(r){r.X_.forEach(t=>{t.next()})}var fm,w_;(w_=fm||(fm={})).na="default",w_.Cache="cache";class tR{constructor(t,n,s){this.query=t,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new to(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ia?this.oa(t)&&(this.ra.next(t),n=!0):this._a(t,this.onlineState)&&(this.aa(t),n=!0),this.sa=t,n}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),n=!0),n}_a(t,n){if(!t.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.key=t}}class w1{constructor(t){this.key=t}}class eR{constructor(t,n){this.query=t,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Vt(),this.mutatedKeys=Vt(),this.Va=G0(t),this.ma=new Fa(this.Va)}get fa(){return this.da}ga(t,n){const s=n?n.pa:new b_,o=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const x=o.get(E),V=uh(this.query,w)?w:null,L=!!x&&this.mutatedKeys.has(x.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;x&&V?x.data.isEqual(V.data)?L!==Q&&(s.track({type:3,doc:V}),F=!0):this.ya(x,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.Va(V,p)>0||y&&this.Va(V,y)<0)&&(m=!0)):!x&&V?(s.track({type:0,doc:V}),F=!0):x&&!V&&(s.track({type:1,doc:x}),F=!0,(p||y)&&(m=!0)),F&&(V?(f=f.add(V),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:f,pa:s,ss:m,mutatedKeys:u}}ya(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const f=t.pa.j_();f.sort((E,w)=>function(V,L){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return Q(V)-Q(L)}(E.type,w.type)||this.Va(E.doc,w.doc)),this.wa(s),o=o!=null&&o;const m=n&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,f.length!==0||y?{snapshot:new to(this.query,t.ma,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new b_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(n=>this.da=this.da.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Vt(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return t.forEach(s=>{this.Ra.has(s)||n.push(new w1(s))}),this.Ra.forEach(s=>{t.has(s)||n.push(new A1(s))}),n}va(t){this.da=t.ds,this.Ra=Vt();const n=this.ga(t.documents);return this.applyChanges(n,!0)}Ca(){return to.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class nR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class iR{constructor(t){this.key=t,this.Fa=!1}}class rR{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Gs(m=>F0(m),lh),this.Oa=new Map,this.Na=new Set,this.La=new se(vt.comparator),this.Ba=new Map,this.ka=new qm,this.qa={},this.Qa=new Map,this.Ka=Ja.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function sR(r,t,n=!0){const s=N1(r);let o;const u=s.xa.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await x1(s,t,n,!0),o}async function aR(r,t){const n=N1(r);await x1(n,t,!0,!1)}async function x1(r,t,n,s){const o=await wx(r.localStore,ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oR(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&v1(r.remoteStore,o),m}async function oR(r,t,n,s,o){r.Ua=(w,x,V)=>async function(Q,F,Y,X){let rt=F.view.ga(Y);rt.ss&&(rt=await __(Q.localStore,F.query,!1).then(({documents:O})=>F.view.ga(O,rt)));const mt=X&&X.targetChanges.get(F.targetId),st=X&&X.targetMismatches.get(F.targetId)!=null,dt=F.view.applyChanges(rt,Q.isPrimaryClient,mt,st);return R_(Q,F.targetId,dt.ba),dt.snapshot}(r,w,x,V);const u=await __(r.localStore,t,!0),f=new eR(t,u.ds),m=f.ga(u.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);R_(r,n,y.ba);const E=new nR(t,n,f);return r.xa.set(t,E),r.Oa.has(n)?r.Oa.get(n).push(t):r.Oa.set(n,[t]),y.snapshot}async function lR(r,t,n){const s=wt(r),o=s.xa.get(t),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(f=>!lh(f,t))),void s.xa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gm(s.remoteStore,o.targetId),dm(s,o.targetId)}).catch(oo)):(dm(s,o.targetId),await hm(s.localStore,o.targetId,!0))}async function uR(r,t){const n=wt(r),s=n.xa.get(t),o=n.Oa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gm(n.remoteStore,s.targetId))}async function cR(r,t,n){const s=yR(r);try{const o=await function(f,m){const p=wt(f),y=xe.now(),E=m.reduce((V,L)=>V.add(L.key),Vt());let w,x;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let L=Yi(),Q=Vt();return p.hs.getEntries(V,E).next(F=>{L=F,L.forEach((Y,X)=>{X.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,L)).next(F=>{w=F;const Y=[];for(const X of m){const rt=x2(X,w.get(X.key).overlayedDocument);rt!=null&&Y.push(new rs(X.key,rt,L0(rt.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,Y,m)}).next(F=>{x=F;const Y=F.applyToLocalDocumentSet(w,Q);return p.documentOverlayCache.saveOverlays(V,F.batchId,Y)})}).then(()=>({batchId:x.batchId,changes:$0(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.qa[f.currentUser.toKey()];y||(y=new se(Pt)),y=y.insert(m,p),f.qa[f.currentUser.toKey()]=y}(s,o.batchId,n),await $l(s,o.changes),await ph(s.remoteStore)}catch(o){const u=Xm(o,"Failed to persist write");n.reject(u)}}async function R1(r,t){const n=wt(r);try{const s=await Sx(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ba.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Fa=!0:o.modifiedDocuments.size>0?Qt(f.Fa):o.removedDocuments.size>0&&(Qt(f.Fa),f.Fa=!1))}),await $l(n,s,t)}catch(s){await oo(s)}}function x_(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.xa.forEach((u,f)=>{const m=f.view.ea(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const x of w.J_)x.ea(m)&&(y=!0)}),y&&Wm(p)}(s.eventManager,t),o.length&&s.Ma.R_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hR(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ba.get(t),u=o&&o.key;if(u){let f=new se(vt.comparator);f=f.insert(u,Ye.newNoDocument(u,bt.min()));const m=Vt().add(u),p=new fh(bt.min(),new Map,new se(Pt),f,m);await R1(s,p),s.La=s.La.remove(u),s.Ba.delete(t),Zm(s)}else await hm(s.localStore,t,!1).then(()=>dm(s,t,n)).catch(oo)}async function fR(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await Tx(n.localStore,t);C1(n,s,null),I1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,o)}catch(o){await oo(o)}}async function dR(r,t,n){const s=wt(r);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Qt(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);C1(s,t,n),I1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,o)}catch(o){await oo(o)}}function I1(r,t){(r.Qa.get(t)||[]).forEach(n=>{n.resolve()}),r.Qa.delete(t)}function C1(r,t,n){const s=wt(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.qa[s.currentUser.toKey()]=o}}function dm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Oa.get(t))r.xa.delete(s),n&&r.Ma.Wa(s,n);r.Oa.delete(t),r.isPrimaryClient&&r.ka.yr(t).forEach(s=>{r.ka.containsKey(s)||D1(r,s)})}function D1(r,t){r.Na.delete(t.path.canonicalString());const n=r.La.get(t);n!==null&&(Gm(r.remoteStore,n),r.La=r.La.remove(t),r.Ba.delete(n),Zm(r))}function R_(r,t,n){for(const s of n)s instanceof A1?(r.ka.addReference(s.key,t),mR(r,s)):s instanceof w1?(ct("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,t),r.ka.containsKey(s.key)||D1(r,s.key)):St()}function mR(r,t){const n=t.key,s=n.path.canonicalString();r.La.get(n)||r.Na.has(s)||(ct("SyncEngine","New document in limbo: "+n),r.Na.add(s),Zm(r))}function Zm(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const t=r.Na.values().next().value;r.Na.delete(t);const n=new vt(te.fromString(t)),s=r.Ka.next();r.Ba.set(s,new iR(n)),r.La=r.La.insert(n,s),v1(r.remoteStore,new qr(ai(Lm(n.path)),s,"TargetPurposeLimboResolution",rh.oe))}}async function $l(r,t,n){const s=wt(r),o=[],u=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,p)=>{f.push(s.Ua(p,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Fm.zi(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.Ma.R_(o),await async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,x=>Z.forEach(x.Wi,V=>E.persistence.referenceDelegate.addReference(w,x.targetId,V)).next(()=>Z.forEach(x.Gi,V=>E.persistence.referenceDelegate.removeReference(w,x.targetId,V)))))}catch(w){if(!lo(w))throw w;ct("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const V=E.us.get(x),L=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(L);E.us=E.us.insert(x,Q)}}}(s.localStore,u))}async function pR(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ct("SyncEngine","User change. New user:",t.toKey());const s=await m1(n.localStore,t);n.currentUser=t,function(u,f){u.Qa.forEach(m=>{m.forEach(p=>{p.reject(new yt(nt.CANCELLED,f))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Ts)}}function gR(r,t){const n=wt(r),s=n.Ba.get(t);if(s&&s.Fa)return Vt().add(s.key);{let o=Vt();const u=n.Oa.get(t);if(!u)return o;for(const f of u){const m=n.xa.get(f);o=o.unionWith(m.view.fa)}return o}}function N1(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hR.bind(null,t),t.Ma.R_=Zx.bind(null,t.eventManager),t.Ma.Wa=Jx.bind(null,t.eventManager),t}function yR(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dR.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,n){return null}Ya(t,n){return null}Ha(t){return Ex(this.persistence,new vx,t.initialUser,this.serializer)}ja(t){return new d1(Hm.ei,this.serializer)}za(t){return new Rx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class vR extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,n){Qt(this.persistence.referenceDelegate instanceof Qc);const s=this.persistence.referenceDelegate.garbageCollector;return new ix(s,t.asyncQueue,n)}ja(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new d1(s=>Qc.ei(s,n),this.serializer)}}class mm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pR.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Yx}()}createDatastore(t){const n=dh(t.databaseInfo.databaseId),s=function(u){return new Nx(u)}(t.databaseInfo);return function(u,f,m,p){return new Vx(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new Px(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>x_(this.syncEngine,n,0),function(){return T_.p()?new T_:new Ix}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,E){const w=new rR(o,u,f,m,p,y);return E&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);ct("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Ql(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ct("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ct("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await m1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function I_(r,t){r.asyncQueue.verifyOperationInProgress();const n=await TR(r);ct("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>S_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>S_(t.remoteStore,o)),r._onlineComponents=t}async function TR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Fd(r,new Kc)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),await Fd(r,new vR(void 0));return r._offlineComponents}async function O1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),await I_(r,r._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),await I_(r,new mm))),r._onlineComponents}function SR(r){return O1(r).then(t=>t.syncEngine)}async function bR(r){const t=await O1(r),n=t.eventManager;return n.onListen=sR.bind(null,t.syncEngine),n.onUnlisten=lR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uR.bind(null,t.syncEngine),n}function AR(r,t,n={}){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new _R({next:x=>{E.eu(),f.enqueueAndForget(()=>Wx(u,w));const V=x.docs.has(m);!V&&x.fromCache?y.reject(new yt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&p&&p.source==="server"?y.reject(new yt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),w=new tR(Lm(m.path),E,{includeMetadataChanges:!0,ua:!0});return Xx(u,w)}(await bR(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r,t,n){if(!n)throw new yt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function wR(r,t,n,s){if(t===!0&&s===!0)throw new yt(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D_(r){if(!vt.isDocumentKey(r))throw new yt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N_(r){if(vt.isDocumentKey(r))throw new yt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St()}function Hs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new yt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new yt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Nw;switch(s.type){case"firstParty":return new kw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=C_.get(n);s&&(ct("ComponentProvider","Removing Datastore"),C_.delete(n),s.terminate())}(this),Promise.resolve()}}function xR(r,t,n,s={}){var o;const u=(r=Hs(r,gh))._getSettings(),f=`${t}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Ke.MOCK_USER;else{m=sA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new yt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(y)}r._authCredentials=new Ow(new M0(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new tp(this.firestore,t,this._query)}}class un{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}}class $r extends tp{constructor(t,n,s){super(t,n,Lm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new vt(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function ep(r,t,...n){if(r=cn(r),V1("collection","path",t),r instanceof gh){const s=te.fromString(t,...n);return N_(s),new $r(r,null,s)}{if(!(r instanceof un||r instanceof $r))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return N_(s),new $r(r.firestore,null,s)}}function np(r,t,...n){if(r=cn(r),arguments.length===1&&(t=V0.newId()),V1("doc","path",t),r instanceof gh){const s=te.fromString(t,...n);return D_(s),new un(r,null,new vt(s))}{if(!(r instanceof un||r instanceof $r))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return D_(s),new un(r.firestore,r instanceof $r?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new g1(this,"async_queue_retry"),this.fu=()=>{const s=Hd();s&&ct("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=t;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Qr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!lo(t))throw t;ct("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(s=>{this.Au=s,this.Ru=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Ki("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(t,n,s){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const o=Ym.createAndSchedule(this,t,n,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&St()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.du)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.du.indexOf(t);this.du.splice(n,1)}}class yh extends gh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new M_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M_(t),this._firestoreClient=void 0,await t}}}function RR(r,t){const n=typeof r=="object"?r:A0(),s=typeof r=="string"?r:"(default)",o=Nm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iA("firestore");u&&xR(o,...u)}return o}function k1(r){if(r._terminated)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IR(r),r._firestoreClient}function IR(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new Xw(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,M1(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ER(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new eo(He.fromBase64String(t))}catch(n){throw new yt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new eo(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^__.*__$/;class DR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(t,this.data,n,this.fieldTransforms)}}class P1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function L1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class sp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new sp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xu({path:s,Nu:!1});return o.Lu(t),o}Bu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Yc(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(L1(this.Mu)&&CR.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class NR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||dh(t)}$u(t,n,s,o=!1){return new sp({Mu:t,methodName:n,Ku:s,path:qe.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U1(r){const t=r._freezeSettings(),n=dh(r._databaseId);return new NR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function OR(r,t,n,s,o,u={}){const f=r.$u(u.merge||u.mergeFields?2:0,t,n,o);op("Data must be an object, but it was:",f,s);const m=j1(s,f);let p,y;if(u.merge)p=new vn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const x=pm(t,w,n);if(!f.contains(x))throw new yt(nt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);B1(E,x)||E.push(x)}p=new vn(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new DR(new ln(m),p,y)}class Eh extends _h{_toFieldTransform(t){if(t.Mu!==2)throw t.Mu===1?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Eh}}class ap extends _h{_toFieldTransform(t){return new S2(t.path,new kl)}isEqual(t){return t instanceof ap}}function MR(r,t,n,s){const o=r.$u(1,t,n);op("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();is(s,(p,y)=>{const E=lp(t,p,n);y=cn(y);const w=o.Bu(E);if(y instanceof Eh)u.push(E);else{const x=Th(y,w);x!=null&&(u.push(E),f.set(E,x))}});const m=new vn(u);return new P1(f,m,o.fieldTransforms)}function VR(r,t,n,s,o,u){const f=r.$u(1,t,n),m=[pm(t,s,n)],p=[o];if(u.length%2!=0)throw new yt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(pm(t,u[x])),p.push(u[x+1]);const y=[],E=ln.empty();for(let x=m.length-1;x>=0;--x)if(!B1(y,m[x])){const V=m[x];let L=p[x];L=cn(L);const Q=f.Bu(V);if(L instanceof Eh)y.push(V);else{const F=Th(L,Q);F!=null&&(y.push(V),E.set(V,F))}}const w=new vn(y);return new P1(E,w,f.fieldTransforms)}function Th(r,t){if(z1(r=cn(r)))return op("Unsupported field value:",t,r),j1(r,t);if(r instanceof _h)return function(s,o){if(!L1(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Th(m,o.ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xe.fromDate(s);return{timestampValue:Gc(o.serializer,u)}}if(s instanceof xe){const u=new xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,u)}}if(s instanceof ip)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:a1(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rp)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.qu("VectorValues must only contain numeric values.");return Um(m.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Jm(s)}`)}(r,t)}function j1(r,t){const n={};return k0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(s,o)=>{const u=Th(o,t.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function z1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xe||r instanceof ip||r instanceof eo||r instanceof un||r instanceof _h||r instanceof rp)}function op(r,t,n){if(!z1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jm(n);throw s==="an object"?t.qu(r+" a custom object"):t.qu(r+" "+s)}}function pm(r,t,n){if((t=cn(t))instanceof vh)return t._internalPath;if(typeof t=="string")return lp(r,t);throw Yc("Field path arguments must be of type string or ",r,!1,void 0,n)}const kR=new RegExp("[~\\*/\\[\\]]");function lp(r,t,n){if(t.search(kR)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vh(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new yt(nt.INVALID_ARGUMENT,m+r+p)}function B1(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(H1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PR extends q1{data(){return super.data()}}function H1(r,t){return typeof t=="string"?lp(r,t):t instanceof vh?t._internalPath:t._delegate._internalPath}class LR{convertValue(t,n="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return is(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new rp(u)}convertGeoPoint(t){return new ip(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Qt(f1(s));const o=new Ml(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class F1 extends q1{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(H1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zR extends F1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r){r=Hs(r,un);const t=Hs(r.firestore,yh);return AR(k1(t),r._key).then(n=>qR(t,r,n))}class BR extends LR{constructor(t){super(),this.firestore=t}convertBytes(t){return new eo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function G1(r,t,n){r=Hs(r,un);const s=Hs(r.firestore,yh),o=UR(r.converter,t);return Q1(s,[OR(U1(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,oi.none())])}function gm(r,t,n,...s){r=Hs(r,un);const o=Hs(r.firestore,yh),u=U1(o);let f;return f=typeof(t=cn(t))=="string"||t instanceof vh?VR(u,"updateDoc",r._key,t,n,s):MR(u,"updateDoc",r._key,t),Q1(o,[f.toMutation(r._key,oi.exists(!0))])}function Q1(r,t){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>cR(await SR(s),o,u)),u.promise}(k1(r),t)}function qR(r,t,n){const s=n.docs.get(t._key),o=new BR(r);return new F1(r,o,t._key,s,new jR(n.hasPendingWrites,n.fromCache),t.converter)}function Oc(){return new ap("serverTimestamp")}(function(t,n=!0){(function(o){ao=o})(so),Ka(new Bs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new yh(new Mw(s.getProvider("auth-internal")),new Lw(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gr(Xv,"4.7.5",t),Gr(Xv,"4.7.5","esm2017")})();function cp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=$1,K1=new ql("auth","Firebase",$1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Cm("@firebase/auth");function FR(r,...t){Xc.logLevel<=Mt.WARN&&Xc.warn(`Auth (${so}): ${r}`,...t)}function Mc(r,...t){Xc.logLevel<=Mt.ERROR&&Xc.error(`Auth (${so}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(r,...t){throw hp(r,...t)}function ui(r,...t){return hp(r,...t)}function Y1(r,t,n){const s=Object.assign(Object.assign({},HR()),{[t]:n});return new ql("auth","Firebase",s).create(t,{appName:r.name})}function Kr(r){return Y1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return K1.create(r,...t)}function Tt(r,t,...n){if(!r)throw hp(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function Wi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function GR(){return V_()==="http:"||V_()==="https:"}function V_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GR()||uA()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wi(n>t,"Short delay should be less than long delay!"),this.isMobile=aA()||cA()}get(){return QR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Kl(3e4,6e4);function Sh(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function co(r,t,n,s,o={}){return W1(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Hl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return lA()||(y.referrerPolicy="no-referrer"),X1.fetch()(J1(r,r.config.apiHost,n,m),y)})}async function W1(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},KR),t);try{const o=new XR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ac(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Y1(r,E,y);Xi(r,E)}}catch(o){if(o instanceof Ji)throw o;Xi(r,"network-request-failed",{message:String(o)})}}async function Z1(r,t,n,s,o={}){const u=await co(r,t,n,s,o);return"mfaPendingCredential"in u&&Xi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function J1(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?fp(r.config,o):`${r.config.apiScheme}://${o}`}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),YR.get())})}}function Ac(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ui(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function tE(r,t){return co(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZR(r,t=!1){const n=cn(r),s=await n.getIdToken(t),o=dp(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Il(Gd(o.auth_time)),issuedAtTime:Il(Gd(o.iat)),expirationTime:Il(Gd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Gd(r){return Number(r)*1e3}function dp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=y0(n);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function k_(r){const t=dp(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ji&&JR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function JR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Ul(r,tE(n,{idToken:s}));Tt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?eE(u.providerUserInfo):[],m=nI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function eI(r){const t=cn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function eE(r){return r.map(t=>{var{providerId:n}=t,s=cp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,t){const n=await W1(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=J1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",X1.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rI(r,t){return co(r,"POST","/v2/accounts:revokeToken",Sh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=k_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=cp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZR(this,t)}reload(){return eI(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(Kr(this.auth));const t=await this.getIdToken();return await Ul(this,WR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:rt,emailVerified:mt,isAnonymous:st,providerData:dt,stsTokenManager:O}=n;Tt(rt&&O,t,"internal-error");const R=Ga.fromJSON(this.name,O);Tt(typeof rt=="string",t,"internal-error"),Lr(w,t.name),Lr(x,t.name),Tt(typeof mt=="boolean",t,"internal-error"),Tt(typeof st=="boolean",t,"internal-error"),Lr(V,t.name),Lr(L,t.name),Lr(Q,t.name),Lr(F,t.name),Lr(Y,t.name),Lr(X,t.name);const A=new Hi({uid:rt,auth:t,email:x,emailVerified:mt,displayName:w,isAnonymous:st,photoURL:L,phoneNumber:V,tenantId:Q,stsTokenManager:R,createdAt:Y,lastLoginAt:X});return dt&&Array.isArray(dt)&&(A.providerData=dt.map(D=>Object.assign({},D))),F&&(A._redirectEventId=F),A}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new Hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ga;m.updateFromIdToken(s);const p=new Hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Fi(r){Wi(r instanceof Function,"Expected a class definition");let t=P_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,P_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nE.type="NONE";const L_=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,t,n){return`firebase:${r}:${t}:${n}`}class Qa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Qa(Fi(L_),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(L_);const f=Vc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const w=Hi._fromJSON(t,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qa(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Qa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lE(t))return"Blackberry";if(uE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(oE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iE(r=Xe()){return/firefox\//i.test(r)}function rE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(r=Xe()){return/crios\//i.test(r)}function aE(r=Xe()){return/iemobile/i.test(r)}function oE(r=Xe()){return/android/i.test(r)}function lE(r=Xe()){return/blackberry/i.test(r)}function uE(r=Xe()){return/webos/i.test(r)}function mp(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sI(r=Xe()){var t;return mp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function aI(){return hA()&&document.documentMode===10}function cE(r=Xe()){return mp(r)||oE(r)||uE(r)||lE(r)||/windows phone/i.test(r)||aE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,t=[]){let n;switch(r){case"Browser":n=U_(Xe());break;case"Worker":n=`${U_(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t={}){return co(r,"GET","/v2/passwordPolicy",Sh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=6;class cI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:uI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new oI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await tE(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bi(this.app))return Promise.reject(Kr(this));const n=t?cn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bi(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lI(this),n=new cI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&FR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bh(r){return cn(r)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=_A(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fI(r){pp=r}function dI(r){return pp.loadJS(r)}function mI(){return pp.gapiScript}function pI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,t){const n=Nm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(jc(u,t??{}))return o;Xi(o,"already-initialized")}return n.initialize({options:t})}function yI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vI(r,t,n){const s=bh(r);Tt(s._canInitEmulator,s,"emulator-config-failed"),Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=fE(t),{host:f,port:m}=_I(t),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),EI()}function fE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _I(r){const t=fE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:z_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:z_(f)}}}function z_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return Z1(r,"POST","/v1/accounts:signInWithIdp",Sh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="http://localhost";class Fs extends dE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:TI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends mE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Yl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Yl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Yl{constructor(){super("twitter.com")}static credential(t,n){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,t){return Z1(r,"POST","/v1/accounts:signUp",Sh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Hi._fromIdTokenResponse(t,s,o),f=B_(s);return new es({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=B_(s);return new es({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function B_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r){var t;if(Bi(r.app))return Promise.reject(Kr(r));const n=bh(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new es({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await SI(n,{returnSecureToken:!0}),o=await es._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Ji{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Zc(t,n,s,o)}}function pE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,u,t,s):u})}async function AI(r,t,n=!1){const s=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return es._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,t,n=!1){const{auth:s}=r;if(Bi(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const u=await Ul(r,pE(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const f=dp(u.idToken);Tt(f,s,"internal-error");const{sub:m}=f;return Tt(r.uid===m,s,"user-mismatch"),es._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,t,n=!1){if(Bi(r.app))return Promise.reject(Kr(r));const s="signIn",o=await pE(r,s,t),u=await es._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function RI(r,t,n,s){return cn(r).onIdTokenChanged(t,n,s)}function II(r,t,n){return cn(r).beforeAuthStateChanged(t,n)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,DI=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,DI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}yE.type="LOCAL";const NI=yE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}vE.type="SESSION";const _E=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await OI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function VI(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function kI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function LI(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebaseLocalStorageDb",UI=1,th="firebaseLocalStorage",SE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function jI(){const r=indexedDB.deleteDatabase(TE);return new Xl(r).toPromise()}function _m(){const r=indexedDB.open(TE,UI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:SE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?t(s):(s.close(),await jI(),t(await _m()))})})}async function q_(r,t,n){const s=wh(r,!0).put({[SE]:t,value:n});return new Xl(s).toPromise()}async function zI(r,t){const n=wh(r,!1).get(t),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function H_(r,t){const n=wh(r,!0).delete(t);return new Xl(n).toPromise()}const BI=800,qI=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>qI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(LI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await kI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await q_(t,Jc,"1"),await H_(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>zI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wh(o,!1).getAll();return new Xl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const HI=bE;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,t){return t?Fi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends dE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function GI(r){return xI(r.auth,new yp(r),r.bypassAuthState)}function QI(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),wI(n,new yp(r),r.bypassAuthState)}async function $I(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),AI(n,new yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:Xi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Kl(2e3,1e4);class Ha extends AE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="pendingRedirect",kc=new Map;class XI extends AE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const s=await WI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WI(r,t){const n=tC(t),s=JI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZI(r,t){kc.set(r._key(),t)}function JI(r){return Fi(r._redirectPersistence)}function tC(r){return Vc(YI,r.config.apiKey,r.name)}async function eC(r,t,n=!1){if(Bi(r.app))return Promise.reject(Kr(r));const s=bh(r),o=FI(s,t),f=await new XI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=10*60*1e3;class iC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!wE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(t))}saveEventToCache(t){this.cachedEventUids.add(F_(t)),this.lastProcessedEventTime=Date.now()}}function F_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function wE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,t={}){return co(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await sC(r);for(const n of t)try{if(uC(n))return}catch{}Xi(r,"unauthorized-domain")}function uC(r){const t=ym(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!oC.test(n))return!1;if(aC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Kl(3e4,6e4);function G_(){const r=ci().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function hC(r){return new Promise((t,n)=>{var s,o,u;function f(){G_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(ui(r,"network-request-failed"))},timeout:cC.get()})}if(!((o=(s=ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const m=pI("iframefcb");return ci()[m]=()=>{gapi.load?f():n(ui(r,"network-request-failed"))},dI(`${mI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function fC(r){return Pc=Pc||hC(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Kl(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?fp(t,pC):`https://${r.config.authDomain}/${mC}`,s={apiKey:t.apiKey,appName:r.name,v:so},o=yC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Hl(s).slice(1)}`}async function _C(r){const t=await fC(r),n=ci().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:vC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),m=ci().setTimeout(()=>{u(f)},dC.get());function p(){ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,SC=600,bC="_blank",AC="http://localhost";class Q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(r,t,n,s=TC,o=SC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},EC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=sE(y)?bC:n),iE(y)&&(t=t||AC,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[V,L])=>`${x}${V}=${L},`,"");if(sI(y)&&m!=="_self")return xC(t||"",m),new Q_(null);const w=window.open(t||"",m,E);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new Q_(w)}function xC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__/auth/handler",IC="emulator/auth/handler",CC=encodeURIComponent("fac");async function $_(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:so,eventId:o};if(t instanceof mE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",vA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(t instanceof Yl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${CC}=${encodeURIComponent(p)}`:"";return`${DC(r)}?${Hl(m).slice(1)}${y}`}function DC({config:r}){return r.emulator?fp(r,IC):`https://${r.authDomain}/${RC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=eC,this._overrideRedirectResult=ZI}async _openPopup(t,n,s,o){var u;Wi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $_(t,n,s,ym(),o);return wC(t,f,gp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await $_(t,n,s,ym(),o);return VI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await _C(t),s=new iC(t);return n.register("authEvent",o=>(Tt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qd,{type:Qd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Qd];f!==void 0&&n(!!f),Xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cE()||rE()||mp()}}const OC=NC;var K_="@firebase/auth",Y_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(r){Ka(new Bs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(r)},y=new hI(s,o,u,p);return yI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ka(new Bs("auth-internal",t=>{const n=bh(t.getProvider("auth").getImmediate());return(s=>new MC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(K_,Y_,VC(r)),Gr(K_,Y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=5*60,LC=E0("authIdTokenMaxAge")||PC;let X_=null;const UC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LC)return;const o=n==null?void 0:n.token;X_!==o&&(X_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jC(r=A0()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gI(r,{popupRedirectResolver:OC,persistence:[HI,NI,_E]}),s=E0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=UC(u.toString());II(n,f,()=>f(n.currentUser)),RI(n,m=>f(m))}}const o=v0("auth");return o&&vI(n,`http://${o}`),n}function zC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}fI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");const BC={apiKey:"AIzaSyCmMN1c4lFQ5fLti5F_Xgh0ovi0n5gCGMI",authDomain:"mathin-pro.firebaseapp.com",projectId:"mathin-pro",storageBucket:"mathin-pro.appspot.com",messagingSenderId:"886434688137",appId:"1:886434688137:web:f98b7ca43111a73e8aaa58"},xE=b0(BC),vp=RR(xE),qC=jC(xE);bI(qC).catch(r=>{console.error("Authentication failed: ",r)});async function HC(r,t){const n=np(ep(vp,"userEntries"),`${r}`),s=new Date;try{const o=await up(n);if(o.exists()){const u=o.data(),f=u.lastEntry?u.lastEntry.toDate():new Date;return(s-f)/(1e3*60*60)>=24?(await gm(n,{name:t,count:1,lastEntry:Oc()}),{allowed:!0,message:"First attempt after reset."}):u.count>=2?{allowed:!1,message:"Only 2 attempts are allowed per day. Try again after 24 hours !"}:(await gm(n,{name:t,count:u.count+1,lastEntry:Oc()}),{allowed:!0,message:"Attempt allowed."})}else return await G1(n,{name:t,email:r,count:1,test:"Failed",lastEntry:Oc()}),{allowed:!0,message:"New user entry created."}}catch(o){return console.error("Error updating userEntry: ",o),{allowed:!1,message:"Error connecting to server. Please try again !"}}}async function FC(r){const t=np(ep(vp,"userEntries"),r);try{if((await up(t)).exists())return await gm(t,{test:"Passed"}),{allowed:!0,message:"Test result updated."};console.log("User data not found !")}catch(n){return console.error("Error updating userEntry (Pass status): ",n),{allowed:!1,message:"Error connecting to server. Please try again !"}}}const ze=[];for(let r=0;r<256;++r)ze.push((r+256).toString(16).slice(1));function GC(r,t=0){return(ze[r[t+0]]+ze[r[t+1]]+ze[r[t+2]]+ze[r[t+3]]+"-"+ze[r[t+4]]+ze[r[t+5]]+"-"+ze[r[t+6]]+ze[r[t+7]]+"-"+ze[r[t+8]]+ze[r[t+9]]+"-"+ze[r[t+10]]+ze[r[t+11]]+ze[r[t+12]]+ze[r[t+13]]+ze[r[t+14]]+ze[r[t+15]]).toLowerCase()}let $d;const QC=new Uint8Array(16);function $C(){if(!$d){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$d=crypto.getRandomValues.bind(crypto)}return $d(QC)}const KC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W_={randomUUID:KC};function YC(r,t,n){if(W_.randomUUID&&!t&&!r)return W_.randomUUID();r=r||{};const s=r.random||(r.rng||$C)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,GC(s)}const XC=()=>{const r=YC().replace(/-/g,""),t=new Uint8Array(r.match(/.{1,2}/g).map(n=>parseInt(n,16)));return btoa(String.fromCharCode(...t)).substring(0,16)};async function WC(r,t){const n=np(ep(vp,"passEntries"),r);try{return(await up(n)).exists()?{allowed:!0,message:"Pass entry already exists."}:(await G1(n,{name:t,email:r,test:"Passed",uuid:XC(),passEntry:Oc()}),{allowed:!0,message:"New pass entry created."})}catch(s){return console.error("Error updating passEntry: ",s),{allowed:!1,message:"Error connecting to server. Please try again !"}}}const RE=({onViewed:r})=>{const[t,n]=U.useState(!1),s=async()=>{n(!0);try{const o="XXXX0123456789YY",f=await fetch("https://mathin-certapi.up.railway.app/generate-certificate",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"2d11d8112039abb99784ead4adc4e7e5"},body:JSON.stringify({username:"Valai Pechu",certificate_id:o,from_date:"01-01-2024",to_date:"01-01-2025"})});if(!f.ok)throw new Error("Failed to generate certificate. Please try again later.");const m=await f.blob(),p=URL.createObjectURL(m),y=document.createElement("a");y.href=p,y.download=`${o}_certificate.pdf`,document.body.appendChild(y),y.click(),document.body.removeChild(y);const E=`${p}#zoom=65`,w=window.open(E,"_blank","noopener,noreferrer");w&&(w.opener=null),URL.revokeObjectURL(p),setTimeout(()=>{n(!1),r()},1e3)}catch(o){console.error("Error generating certificate:",o),n(!1)}};return b.jsx(b.Fragment,{children:t?b.jsx("div",{className:"certificate-loader-container",children:b.jsx("div",{className:"certificate-loader"})}):b.jsxs("button",{className:"certificate-button",onClick:s,children:[b.jsx("span",{children:"View Certificate"}),b.jsx("img",{className:"certificate-icon",src:"/MathIn/icons/arrowRight.svg",alt:"arrowRightIcon"})]})})};RE.propTypes={onViewed:js.func.isRequired};const IE=({score:r,totalQuestions:t})=>{const n=Zi(),[s,o]=U.useState(!1),[u,f]=U.useState(!1),m=JSON.parse(sessionStorage.getItem("userData")),p=r/t*100,y=()=>{f(!0)},E=()=>{u?n("/",{replace:!0}):window.alert("Be sure to check the certificate before closing !")};U.useEffect(()=>{const x=V=>{u||(V.preventDefault(),V.returnValue="")};return window.addEventListener("beforeunload",x),()=>window.removeEventListener("beforeunload",x)},[u]),U.useEffect(()=>{p>=99&&w()},[p]);const w=async()=>{try{m&&(await FC(m.email),await WC(m.email,m.name),o(!0))}catch(x){console.error("Error occurred while updating test results: ",x),alert("Sorry, error occurred while updating test results. Try again later !")}};return p>=99?s?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"participate3-container",children:[b.jsxs("div",{className:"participate3-subcontainer1",children:[b.jsxs("div",{className:"participate3-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"participate3-close-btn",onClick:E,children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"participate3-subcontainer2",children:[b.jsxs("h2",{className:"participate3-header",children:["MathIn Pro ",b.jsx("span",{children:"- Certification"})]}),b.jsx("h1",{className:"participate3-subtitle1",children:" Kudos !"}),b.jsxs("div",{className:"participate3-subtitle2 blink-animation",children:[b.jsx("img",{className:"participate3-icon",src:"/MathIn/icons/circleTick.svg",alt:"correctIcon"}),b.jsx("span",{children:"Test Passed"})]}),b.jsxs("div",{className:"participate3-result",children:["You scored ",r," / ",t," ",b.jsxs("span",{children:["(",p," %)"]})]}),b.jsx(RE,{onViewed:y})]})]}),b.jsx(Qi,{})]}):b.jsx(Bl,{}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"participate3-container",children:[b.jsxs("div",{className:"participate3-subcontainer1",children:[b.jsxs("div",{className:"participate3-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"participate3-close-btn",onClick:()=>n("/",{replace:!0}),children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"participate3-subcontainer2",children:[b.jsxs("h2",{className:"participate3-header",children:["MathIn Pro ",b.jsx("span",{children:"- Certification"})]}),b.jsx("h1",{className:"participate3-subtitle1",children:" Prepare well & try again !"}),b.jsxs("div",{className:"participate3-subtitle2 blink-animation",children:[b.jsx("img",{className:"participate3-icon",src:"/MathIn/icons/circleX.svg",alt:"wrongIcon"}),b.jsx("span",{children:"Test Failed"})]}),b.jsxs("div",{className:"participate3-result",children:["You scored ",r," / ",t," ",b.jsxs("span",{children:["(",p," %)"]})]})]})]}),b.jsx(Qi,{})]})};IE.propTypes={score:js.number.isRequired,totalQuestions:js.number.isRequired};const ZC=()=>{const s=U.useRef(null),o=U.useRef(null),u=U.useRef(null),[f,m]=U.useState(!1),[p,y]=U.useState(null),[E,w]=U.useState(0),[x,V]=U.useState(0),[L,Q]=U.useState([]),[F,Y]=U.useState(1),[X,rt]=U.useState(0),[mt,st]=U.useState(!1),[dt,O]=U.useState(""),R=U.useCallback(()=>{const J=[],at={},ot=new Set;Object.entries(Ua["Practice(Full)"]).forEach(([tt,ht])=>{const lt={question:tt,answer:[ht]};ot.has(tt)||(J.push(lt),ot.add(tt)),at[ht]=at[ht]?[...at[ht],tt]:[tt]}),Object.entries(at).map(([tt,ht])=>({question:tt,answer:ht})).forEach(({question:tt,answer:ht})=>{ot.has(tt)||(J.push({question:tt,answer:ht}),ot.add(tt))});const N=J.sort(()=>Math.random()-.5).slice(0,1);Q(N),w(0),rt(0)},[]),A=U.useCallback(()=>{var J;if(L.length>0){const at=((J=L[E])==null?void 0:J.question)||"";y(at),O(""),m(!1),Y(E+1)}},[L,E]);U.useEffect(()=>{R()},[R]),U.useEffect(()=>{L.length>0&&(A(),s.current.focus())},[A,L]),U.useEffect(()=>{const J=at=>{at.preventDefault(),at.returnValue=""};return mt||window.addEventListener("beforeunload",J),()=>{window.removeEventListener("beforeunload",J)}},[mt]),U.useEffect(()=>{if(!f){V(0);let J;const at=ot=>{J||(J=ot);const Ct=ot-J,N=Math.min(Ct/45e3*100,100);V(N),Ct<45e3?o.current=requestAnimationFrame(at):M()};return o.current=requestAnimationFrame(at),()=>{cancelAnimationFrame(o.current)}}},[p,f]),U.useEffect(()=>{const J=()=>{st(!0)};u.current=setTimeout(J,6e5);const at=()=>{clearTimeout(u.current),u.current=setTimeout(J,6e5)};return window.addEventListener("mousemove",at),window.addEventListener("keypress",at),()=>{clearTimeout(u.current),window.removeEventListener("mousemove",at),window.removeEventListener("keypress",at)}},[]);const D=J=>{O(J.target.value)},M=U.useCallback(()=>{var Ct;cancelAnimationFrame(o.current);const J=((Ct=L[E])==null?void 0:Ct.answer)||[],at=dt.split(",").map(N=>N.trim().toLowerCase());let ot;at.length===1?ot=J.includes(at[0]):ot=at.every(N=>J.includes(N)),ot&&rt(N=>N+1),m(!0)},[E,L,dt]),z=J=>{J.key==="Enter"&&!f?M():J.key==="Enter"&&f&&Xt()},C=()=>{f?Xt():M(),s.current.focus()},Xt=()=>{E+1<L.length?w(E+1):st(!0),V(0)},Et=()=>{window.confirm("Are you sure you want to close the test? Your progress will be lost !")&&st(!0)};return b.jsx(b.Fragment,{children:mt?b.jsx(IE,{score:X,totalQuestions:L.length}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"participate2-container",children:[b.jsxs("div",{className:"participate2-subcontainer1",children:[b.jsxs("div",{className:"participate2-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"participate2-close-btn",onClick:Et,children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"participate2-subcontainer2",children:[b.jsx("div",{className:"participate2-progress-bar",children:b.jsx("div",{className:"participate2-progress",style:{width:`${x}%`}})}),b.jsxs("h2",{className:"participate2-title",children:["MathIn Pro ",b.jsx("span",{children:"- Certification"})]}),b.jsxs("div",{className:"participate2-flexbox0",children:[b.jsxs("div",{className:"participate2-questioncount",children:[b.jsx("span",{children:"("}),F,"|",1,b.jsx("span",{children:")"})]}),b.jsxs("div",{className:"participate2-flexbox1",children:[b.jsxs("h2",{className:"participate2-question",children:[p,"=?"]}),b.jsxs("div",{className:"participate2-flexbox2",children:[b.jsx("input",{type:"text",id:"participate2-input",className:"participate2-input",ref:s,value:dt,onChange:D,onKeyDown:z,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off"}),b.jsx("button",{className:"participate2-input-btn",onClick:C,children:b.jsx("img",{className:"participate2-input-icon",src:"/MathIn/icons/arrowRight.svg",alt:"arrowRightIcon"})})]})]})]})]})]}),b.jsx(Qi,{})]})})},JC=()=>{const[r,t]=U.useState(5);return U.useEffect(()=>{if(r>0){const n=setTimeout(()=>t(r-1),1e3);return()=>clearTimeout(n)}},[r]),b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
      .countdown-container {
        height: 100vh;
        width: 100vw;
        background-color: var(--bg-color2);
        position: fixed;
        top: 0;
        left: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: none;
        overflow: hidden;
        z-index: 999;
      }

      .countdown {
        font-size: 7.5rem;
        font-weight: bold;
        color: var(--accent-color1);
      }
    `}),b.jsx("div",{className:"countdown-container",children:b.jsx("h1",{className:"countdown",children:r>0?r:"Go!"})})]})},CE=({onBack:r})=>{const t=Zi(),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),[p,y]=U.useState(!1),[E,w]=U.useState(!1),[x,V]=U.useState(!1),[L,Q]=U.useState(!1);U.useEffect(()=>{const st=document.getElementById("name-field");st&&st.focus()},[]);const F=st=>{const dt=st.target.value;s(dt),m(st.target.checkValidity())},Y=st=>{const dt=st.target.value;u(dt),y(st.target.checkValidity())},X=f&&p,rt=async st=>{if(st.preventDefault(),X){if(!navigator.onLine){alert("No internet connection. Please connect to the internet and try again !");return}V(!0);try{const dt=await HC(o,n);dt.allowed?(sessionStorage.setItem("userData",JSON.stringify({email:o,name:n})),s(""),u(""),Q(!0),setTimeout(()=>{Q(!1),w(!0)},6e3)):alert(dt.message)}catch(dt){alert("An error occurred while connecting to the server. Please try again !"),console.log(dt)}finally{V(!1)}}else alert("Please enter valid data to proceed !")},mt=()=>{t("/",{replace:!0})};return E?b.jsx(ZC,{}):L?b.jsx(JC,{}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"participate1-container",children:[b.jsxs("div",{className:"participate1-subcontainer1",children:[b.jsx("button",{className:"participate1-back-button",onClick:r,"aria-label":"Back",children:b.jsx("img",{src:"/MathIn/icons/arrowLeft.svg",alt:"backIcon"})}),b.jsxs("div",{className:"participate1-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"participate1-close-btn",onClick:mt,"aria-label":"Close",children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"participate1-subcontainer2",children:[b.jsxs("h2",{className:"participate1-subtitle1",children:["MathIn Pro ",b.jsx("span",{children:"- Certification"})]}),b.jsx("h3",{className:"participate1-subtitle2",children:"Kindly provide your name and email address to continue to the test"}),b.jsxs("form",{children:[b.jsxs("div",{className:"input-area",children:[b.jsx("label",{htmlFor:"name-field",children:"Name : "}),b.jsx("input",{type:"text",id:"name-field",className:"input-field",title:"Enter your name carefully",maxLength:32,pattern:"[a-zA-Z\\s]+",required:!0,onChange:F}),b.jsxs("span",{children:[!f&&b.jsx("img",{className:"validation-tick",src:"/MathIn/icons/tickOff.svg",alt:"tickOffIcon"}),f&&b.jsx("img",{className:"validation-tick",src:"/MathIn/icons/tickOn.svg",alt:"tickOnIcon"})]})]}),b.jsxs("div",{className:"input-area",children:[b.jsx("label",{htmlFor:"email-field",children:"Email : "}),b.jsx("input",{type:"email",id:"email-field",className:"input-field",title:"Enter your Email address",required:!0,onChange:Y}),b.jsxs("span",{children:[!p&&b.jsx("img",{className:"validation-tick",src:"/MathIn/icons/tickOff.svg",alt:"tickOffIcon"}),p&&b.jsx("img",{className:"validation-tick",src:"/MathIn/icons/tickOn.svg",alt:"tickOnIcon"})]})]})]})]}),x?b.jsx("div",{className:"participate1-loader-container",children:b.jsx("div",{className:"participate1-loader"})}):X?b.jsxs("button",{className:"participate1-proceed-btn-enabled",type:"submit",onClick:rt,children:[b.jsx("span",{children:"Proceed"}),b.jsx("img",{className:"participate1-proceed-icon",src:"/MathIn/icons/arrowRight.svg",alt:"proceedIcon"})]}):b.jsx("button",{className:"participate1-proceed-btn-disabled",disabled:!X,children:b.jsx("span",{children:"Proceed"})})]}),b.jsx(Qi,{})]})};CE.propTypes={onBack:js.func.isRequired};const Z_="/MathIn/icons/squareTickHover.svg",tD="/MathIn/icons/squareTickOn.svg",J_="/MathIn/icons/squareTickOff.svg",eD=()=>{const r=Zi(),[t,n]=U.useState(J_),[s,o]=U.useState(!1),[u,f]=U.useState(!1),[m,p]=U.useState(!1),y=()=>{o(!s),n(s?Z_:tD)},E=()=>{f(!0)},w=()=>{f(!1)},x=()=>{r("/",{replace:!0})};return U.useEffect(()=>{p(!0)},[]),m?b.jsx(b.Fragment,{children:u?b.jsx(CE,{onBack:w}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"participate0-container",children:[b.jsxs("div",{className:"participate0-subcontainer",children:[b.jsxs("div",{className:"participate0-main-title",children:[b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"}),b.jsxs("h1",{children:["Math",b.jsx("span",{children:"In"})]}),b.jsx("img",{src:"/MathIn/icons/sparkle.svg",alt:"sparkleIcon"})]}),b.jsx("button",{className:"participate0-close-btn",onClick:x,children:b.jsx("img",{src:"/MathIn/icons/xMark.svg",alt:"closeIcon"})})]}),b.jsxs("div",{className:"participate0-instructions-container",children:[b.jsxs("h2",{className:"participate0-instructions-title",children:["MathIn Pro ",b.jsx("span",{children:"- Certification"})]}),b.jsx("div",{className:"participate0-instruction-item",children:b.jsxs("p",{children:[b.jsx("span",{children:"1."})," Welcome to the ",b.jsx("span",{className:"participate0-highlight",children:"MathIn Pro"})," Certification Test."]})}),b.jsx("div",{className:"participate0-instruction-item",children:b.jsxs("p",{children:[b.jsx("span",{children:"2."})," The test consists of ",b.jsx("span",{className:"participate0-highlight",children:"200 questions"})," -- (100 standard and 100 reverse). Each question is timed at ",b.jsx("span",{className:"participate0-highlight",children:"4.5 seconds"}),", making the total test duration ",b.jsx("span",{className:"participate0-highlight",children:"15 minutes"}),"."]})}),b.jsx("div",{className:"participate0-instruction-item",children:b.jsxs("p",{children:[b.jsx("span",{children:"3."})," To qualify for certification, you must score at least ",b.jsx("span",{className:"participate0-highlight",children:"99%"}),". The certification is valid for ",b.jsx("span",{className:"participate0-highlight",children:"6 months"}),"."]})}),b.jsx("div",{className:"participate0-instruction-item",children:b.jsxs("p",{children:[b.jsx("span",{children:"4."})," You are permitted ",b.jsx("span",{className:"participate0-highlight",children:"2 attempts"})," per day to take the test."]})}),b.jsx("div",{className:"participate0-instruction-item",children:b.jsxs("p",{children:[b.jsx("span",{children:"5."})," Please ensure you are fully prepared and avoid any unfair practices. Take the test with proper practice and full focus. ",b.jsx("span",{className:"participate0-highlight",children:"Good luck !"})]})}),b.jsxs("button",{className:"participate0-agreement",onMouseEnter:()=>{s||n(Z_)},onMouseLeave:()=>{s||n(J_)},onClick:y,children:[b.jsx("img",{src:t,alt:"checkBoxIcon",className:"participate0-agreement-icon"}),b.jsx("span",{children:"I agree to the above Terms & Conditions and proceed to the test."})]})]}),s?b.jsxs("button",{className:"participate0-proceed-btn-enabled",onClick:E,children:[b.jsx("span",{children:"Proceed"}),b.jsx("img",{className:"participate0-proceed-icon",src:"/MathIn/icons/arrowRight.svg",alt:"proceedIcon"})]}):b.jsx("button",{className:"participate0-proceed-btn-disabled",disabled:!s,children:b.jsx("span",{children:"Proceed"})})]}),b.jsx(Qi,{})]})}):b.jsx(Bl,{})},nD=()=>b.jsxs(nb,{children:[b.jsx(La,{path:"/MathIn//",element:b.jsx(Lb,{})}),b.jsx(La,{path:"/prepare",element:b.jsx(Ub,{})}),b.jsx(La,{path:"/practice",element:b.jsx(Yb,{})}),b.jsx(La,{path:"/participate",element:b.jsx(eD,{})}),b.jsx(La,{path:"*",element:b.jsx(tb,{to:"/"})})]});hS.createRoot(document.getElementById("root")).render(b.jsx(iS.StrictMode,{children:b.jsxs(xb,{basename:"/MathIn/",children:[b.jsx(Pb,{}),b.jsx(nD,{})]})}));
